"use strict";(self.webpackChunkappsmith=self.webpackChunkappsmith||[]).push([[5756],{2384:function(n,e,t){t.r(e);var i,o,r,l,a,s,c,d,h=t(1413),u=t(29439),f=t(30168),p=t(31205),v=t(68533),x=t(54138),g=t(56626),w=t(50390),b=t(62608),m=t(91134),y=t(62057),j=t(77271),k=t(54877),C=t(62559),Z="clip__feature",P=(0,b.ZP)(p.x)(i||(i=(0,f.Z)(["\n  // CSS to add new line for each \n in the description\n  white-space: pre-line;\n"],["\n  // CSS to add new line for each \\n in the description\n  white-space: pre-line;\n"]))),O=b.ZP.div(o||(o=(0,f.Z)(["\n  left: 0px;\n  top: 0px;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  color: ",";\n  z-index: ",";\n  // This allows the user to click on the target element rather than the overlay div\n  pointer-events: none;\n"])),(function(n){var e;return null!==(e=n.overlayColor)&&void 0!==e?e:"rgb(0, 0, 0, 0.7)"}),1e3),S=b.ZP.svg(r||(r=(0,f.Z)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n"]))),z=b.ZP.div(l||(l=(0,f.Z)(["\n  padding: var(--ads-v2-spaces-4);\n  position: absolute;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  width: 296px;\n  pointer-events: auto;\n  border-radius: var(--ads-radius-1);\n"]))),R=b.ZP.div(a||(a=(0,f.Z)(["\n  border-radius: var(--ads-radius-1);\n  background: #f1f5f9;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 8px;\n  padding: var(--ads-v2-spaces-7);\n  img {\n    max-height: 220px;\n  }\n"]))),H=b.ZP.div(s||(s=(0,f.Z)(["\n  display: flex;\n  p {\n    flex-grow: 1;\n  }\n  span {\n    align-self: flex-start;\n    margin-top: 5px;\n    cursor: pointer;\n  }\n"]))),L=(0,b.ZP)(v.i)(c||(c=(0,f.Z)(["\n  margin-top: 8px;\n"]))),E=b.ZP.div(d||(d=(0,f.Z)(["\n  height: 36px;\n  margin-top: 8px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]))),I=function(n){var e=n.details,t=n.offset,i=n.onClose,o=n.targetId;if(!e)return null;var r=(0,m.bt)({targetId:o,offset:t});return(0,C.jsxs)(z,{style:(0,h.Z)({},r),children:[(0,C.jsxs)(H,{children:[(0,C.jsx)(p.x,{kind:"heading-s",renderAs:"p",children:e.title}),(0,C.jsx)(x.J,{className:"t--walkthrough-close",color:"black",name:"close",onClick:i,size:"md"})]}),(0,C.jsx)(P,{children:e.description}),e.imageURL&&(0,C.jsx)(R,{children:(0,C.jsx)("img",{src:e.imageURL})}),!!e.footerDetails&&(0,y.QW)(e.footerDetails)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(L,{}),(0,C.jsxs)(E,{children:[(0,C.jsx)(p.x,{kind:"body-s",children:e.footerDetails.footerText}),(0,C.jsx)(g.z,{onClick:e.footerDetails.onClickHandler,size:"sm",children:e.footerDetails.footerButtonText})]})]})]})};e.default=function(n){var e=n.details,t=n.dismissOnOverlayClick,i=n.eventParams,o=void 0===i?{}:i,r=n.multipleHighlights,l=n.offset,a=n.overlayColor,s=n.targetId,c=(0,w.useState)(null),d=(0,u.Z)(c,2),h=d[0],f=d[1],p=((0,w.useContext)(y.ZP)||{}).popFeature,v=null!==r&&void 0!==r&&r.length?r:[s];-1===v.indexOf(s)&&v.push(s);var x=function(){if(document.querySelector(s)){var n={};v.forEach((function(e){var t=document.querySelector(e);if(t){var i=t.getBoundingClientRect(),o=document.body.getBoundingClientRect(),r="number"===typeof(null===l||void 0===l?void 0:l.highlightPad)?null===l||void 0===l?void 0:l.highlightPad:m.lC;n[e]={bw:o.width,bh:o.height,tw:i.width+2*r,th:i.height+2*r,tx:i.x-r,ty:i.y-r}}})),Object.keys(n).length>0&&(f(n),(0,k.ik)("".concat(s),null===l||void 0===l?void 0:l.position,{top:(null===l||void 0===l?void 0:l.indicatorTop)||0,left:(null===l||void 0===l?void 0:l.indicatorLeft)||0,zIndex:1001}))}};(0,w.useEffect)((function(){x();var n=document.querySelector(s);window.addEventListener("resize",x);var e=new ResizeObserver(x);return n&&(j.ZP.logEvent("WALKTHROUGH_SHOWN",o),e.observe(n)),function(){window.removeEventListener("resize",x),n&&e.unobserve(n)}}),[s]);var g=function(){p&&p("WALKTHROUGH_CROSS_ICON")};if(!h||0===Object.keys(h).length)return null;var b=h[s];return b?(0,C.jsxs)(O,{className:"t--walkthrough-overlay",overlayColor:a,children:[(0,C.jsxs)(S,{height:b.bh,onClick:t?g:function(){return null},width:b.bw,xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("defs",{children:(0,C.jsx)("clipPath",{id:Z,children:(0,C.jsx)("polygon",{points:"0 0, \n                    0 ".concat(b.bh,", \n                    ").concat(v.reduce((function(n,e){var t=h[e];return t&&(n="".concat(n," ").concat(t.tx," ").concat(t.bh,", \n                        ").concat(t.tx," ").concat(t.ty,", \n                        ").concat(t.tx+t.tw," ").concat(t.ty,",\n                        ").concat(t.tx+t.tw," ").concat(t.ty+t.th,", \n                        ").concat(t.tx," ").concat(t.ty+t.th,", \n                        ").concat(t.tx," ").concat(t.bh,",")),n}),""),"\n                    ").concat(b.bw," ").concat(b.bh,", \n                    ").concat(b.bw," 0\n                  ")})})}),(0,C.jsx)("rect",{style:{clipPath:'url("#'+Z+'")',fill:"currentcolor",height:b.bh,pointerEvents:"auto",width:b.bw}})]}),(0,C.jsx)(I,{details:e,offset:l,onClose:g,targetId:s})]}):null}}}]);
//# sourceMappingURL=walkthrough-renderer.0511e1f0.chunk.js.map