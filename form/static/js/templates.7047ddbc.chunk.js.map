{"version":3,"file":"static/js/templates.7047ddbc.chunk.js","mappings":"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","sources":["actions/themeActions.ts","pages/Templates/index.tsx","../node_modules/design-system-old/src/Table/index.tsx","../node_modules/redux-form/es/getFormMeta.js","../node_modules/redux-form/es/selectors/getFormMeta.js"],"sourcesContent":["import { ReduxActionTypes } from \"@appsmith/constants/ReduxActionConstants\";\nimport type { ThemeMode } from \"selectors/themeSelectors\";\n\nexport const setThemeMode = (mode: ThemeMode) => ({\n  type: ReduxActionTypes.SET_THEME,\n  payload: mode,\n});\n\nexport const setHeaderMeta = (\n  hideHeaderShadow: boolean,\n  showHeaderSeparator: boolean,\n) => ({\n  type: ReduxActionTypes.SET_HEADER_META,\n  payload: { hideHeaderShadow, showHeaderSeparator },\n});\n","import type { AppState } from \"@appsmith/reducers\";\nimport * as Sentry from \"@sentry/react\";\nimport { fetchDefaultPlugins } from \"actions/pluginActions\";\nimport { getAllTemplates, getTemplateFilters } from \"actions/templateActions\";\nimport { setHeaderMeta } from \"actions/themeActions\";\nimport { Text } from \"design-system\";\nimport { isEmpty } from \"lodash\";\nimport ReconnectDatasourceModal from \"pages/Editor/gitSync/ReconnectDatasourceModal\";\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\nimport {\n  allTemplatesFiltersSelector,\n  getForkableWorkspaces,\n} from \"selectors/templatesSelectors\";\nimport styled from \"styled-components\";\nimport { editorInitializer } from \"utils/editor/EditorUtils\";\n\nimport { fetchAllWorkspaces } from \"@appsmith/actions/workspaceActions\";\nimport TemplateFilters from \"./TemplateFilters\";\nimport { TemplateContent } from \"./TemplateContent\";\nimport TemplateView from \"./TemplateView\";\nimport { getFetchedWorkspaces } from \"@appsmith/selectors/workspaceSelectors\";\n\nconst SentryRoute = Sentry.withSentryRouting(Route);\n\nconst PageWrapper = styled.div`\n  margin-top: ${(props) => props.theme.homePage.header}px;\n  background-color: var(--ads-v2-color-gray-50);\n`;\n\nconst SidebarWrapper = styled.div`\n  width: ${(props) => props.theme.homePage.sidebar}px;\n  height: 100%;\n  display: flex;\n  padding: 25px 16px 0;\n  flex-direction: column;\n  position: fixed;\n`;\n\nconst SecondaryWrapper = styled.div`\n  height: calc(\n    100vh - ${(props) => props.theme.homePage.header + props.theme.spaces[11]}px\n  );\n  position: relative;\n`;\n\nexport const TemplateListWrapper = styled.div`\n  padding-top: ${(props) => props.theme.spaces[11]}px;\n  width: calc(100% - ${(props) => props.theme.homePage.sidebar}px);\n  min-height: 100vh;\n  margin-left: ${(props) => props.theme.homePage.sidebar}px;\n`;\n\nexport const ResultsCount = styled(Text)`\n  color: var(--ads-v2-color-fg-emphasis);\n  margin-top: 20px;\n  margin-left: ${(props) => props.theme.spaces[12] - 8}px;\n  padding-bottom: 20px;\n`;\n\nfunction TemplateRoutes() {\n  const { path } = useRouteMatch();\n  const dispatch = useDispatch();\n  const workspaceListLength = useSelector(\n    (state: AppState) => getFetchedWorkspaces(state).length,\n  );\n  const pluginListLength = useSelector(\n    (state: AppState) => state.entities.plugins.defaultPluginList.length,\n  );\n  const templatesCount = useSelector(\n    (state: AppState) => state.ui.templates.templates.length,\n  );\n  const filters = useSelector(allTemplatesFiltersSelector);\n\n  useEffect(() => {\n    dispatch(setHeaderMeta(true, true));\n    // Generate the widget config list\n    editorInitializer();\n  }, []);\n\n  useEffect(() => {\n    if (!templatesCount) {\n      dispatch(getAllTemplates());\n    }\n  }, [templatesCount]);\n\n  useEffect(() => {\n    if (!workspaceListLength) {\n      dispatch(fetchAllWorkspaces());\n    }\n  }, [workspaceListLength]);\n\n  useEffect(() => {\n    if (!pluginListLength) {\n      dispatch(fetchDefaultPlugins());\n    }\n  }, [pluginListLength]);\n\n  useEffect(() => {\n    if (isEmpty(filters.functions)) {\n      dispatch(getTemplateFilters());\n    }\n  }, [filters]);\n\n  return (\n    <Switch>\n      <SentryRoute component={TemplateView} path={`${path}/:templateId`} />\n      <SentryRoute component={Templates} path={path} />\n    </Switch>\n  );\n}\n\nfunction Templates() {\n  const workspaceList = useSelector(getForkableWorkspaces);\n\n  return (\n    <PageWrapper>\n      <SidebarWrapper>\n        <SecondaryWrapper>\n          <ReconnectDatasourceModal />\n          <TemplateFilters />\n        </SecondaryWrapper>\n      </SidebarWrapper>\n      <TemplateListWrapper>\n        <TemplateContent isForkingEnabled={!!workspaceList.length} />\n      </TemplateListWrapper>\n    </PageWrapper>\n  );\n}\n\nexport default TemplateRoutes;\n","import { useTable, useSortBy, useExpanded } from \"react-table\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { Classes } from \"Constants/classes\";\nimport { typography } from \"Constants/typography\";\nimport Spinner from \"Spinner\";\nimport { IconSize } from \"Icon\";\nimport { importSvg } from \"Utils/icon-loadables\";\n\nconst DownArrow = importSvg(() => import(\"../assets/icons/ads/down_arrow.svg\"));\nconst UpperArrow = importSvg(() =>\n  import(\"../assets/icons/ads/upper_arrow.svg\"),\n);\n\nconst Styles = styled.div`\n  table {\n    border-spacing: 0;\n    width: 100%;\n\n    thead {\n      position: sticky;\n      top: 0;\n      z-index: 1;\n\n      tr {\n        background-color: var(--ads-v2-color-bg-subtle);\n\n        th {\n          padding: var(--ads-spaces-5) var(--ads-spaces-9);\n          text-align: left;\n          color: var(--ads-v2-color-fg);\n          font-weight: ${typography.h6.fontWeight};\n          font-size: ${typography.h6.fontSize}px;\n          line-height: ${typography.h6.lineHeight}px;\n          letter-spacing: ${typography.h6.letterSpacing}px;\n          border-bottom: 1px solid var(--ads-v2-color-border);\n\n          svg {\n            margin-left: var(--ads-spaces-2);\n            margin-bottom: calc(var(--ads-spaces-0) + 1px);\n            width: 6px;\n            height: 4px;\n            display: initial;\n          }\n\n          &:hover {\n            color: var(--ads-v2-color-fg-emphasis);\n            cursor: pointer;\n            svg {\n              path {\n                fill: var(var(--ads-v2-color-fg));\n              }\n            }\n          }\n        }\n      }\n    }\n\n    tbody {\n      tr {\n        td {\n          padding: var(--ads-spaces-4) var(--ads-spaces-9);\n          color: var(--ads-v2-color-fg);\n          font-size: ${typography.p1.fontSize}px;\n          line-height: ${typography.p1.lineHeight}px;\n          letter-spacing: ${typography.p1.letterSpacing}px;\n          font-weight: normal;\n          border-bottom: 1px solid var(--ads-v2-color-border);\n\n          &:first-child {\n            color: var(--ads-v2-color-fg);\n            font-weight: var(--ads-font-weight-normal);\n          }\n\n          &.no-border {\n            border: none;\n\n            .no-data-title {\n              color: var(--ads-v2-color-fg);\n            }\n          }\n        }\n\n        &:hover:not(.no-hover) {\n          background-color: var(--ads-v2-color-bg-subtle);\n          .${Classes.ICON} {\n            path {\n              fill: var(--ads-v2-color-fg);\n            }\n          }\n          td {\n            color: var(--ads-v2-color-fg);\n\n            &:first-child {\n              color: var(--ads-v2-color-fg);\n            }\n            &.no-border {\n              background-color: var(--ads-v2-color-bg-muted);\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nconst HiddenArrow = styled(DownArrow)`\n  visibility: hidden;\n`;\n\nconst CentralizedWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 250px;\n`;\n\nconst TableColumnEmptyWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 156px;\n    margin-top: 16px;\n  }\n  .no-data-title {\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n    letter-spacing: 0.04em;\n    color: #ffffff;\n    margin-top: 23px;\n  }\n`;\nexport interface TableProps {\n  data: any[];\n  columns: any[];\n  isLoading?: boolean;\n  loaderComponent?: JSX.Element;\n  noDataComponent?: JSX.Element;\n}\n\nfunction Table(props: TableProps) {\n  const {\n    columns,\n    data,\n    isLoading = false,\n    loaderComponent,\n    noDataComponent,\n  } = props;\n\n  const {\n    getTableBodyProps,\n    getTableProps,\n    headerGroups,\n    prepareRow,\n    rows,\n  } = useTable(\n    { autoResetExpanded: false, columns, data },\n    useSortBy,\n    useExpanded,\n  );\n\n  return (\n    <Styles>\n      <table {...getTableProps()}>\n        <thead>\n          {headerGroups.map((headerGroup, index: number) => (\n            <tr {...headerGroup.getHeaderGroupProps()} key={index}>\n              {headerGroup.headers.map((column, index: number) => (\n                <th\n                  {...column.getHeaderProps(\n                    column.getSortByToggleProps({ title: undefined }),\n                  )}\n                  key={index}\n                >\n                  {column.render(\"Header\")}\n                  {column.isSorted ? (\n                    column.isSortedDesc ? (\n                      <UpperArrow />\n                    ) : (\n                      <DownArrow />\n                    )\n                  ) : (\n                    <HiddenArrow />\n                  )}\n                </th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody {...getTableBodyProps()}>\n          {isLoading ? (\n            <tr className=\"no-hover\">\n              <td className=\"no-border\" colSpan={columns?.length}>\n                <CentralizedWrapper>\n                  {loaderComponent ? (\n                    loaderComponent\n                  ) : (\n                    <Spinner size={IconSize.XXL} />\n                  )}\n                </CentralizedWrapper>\n              </td>\n            </tr>\n          ) : rows.length > 0 ? (\n            rows.map((row, index) => {\n              prepareRow(row);\n              return (\n                <tr {...row.getRowProps()} key={index}>\n                  {row.cells.map((cell, index) => {\n                    return (\n                      <td\n                        {...cell.getCellProps()}\n                        data-colindex={index}\n                        key={index}\n                      >\n                        {cell.render(\"Cell\")}\n                      </td>\n                    );\n                  })}\n                </tr>\n              );\n            })\n          ) : (\n            <tr className=\"no-hover\">\n              <td className=\"no-border\" colSpan={columns?.length}>\n                <CentralizedWrapper>\n                  {noDataComponent ? (\n                    noDataComponent\n                  ) : (\n                    <TableColumnEmptyWrapper>\n                      {/*<img alt=\"No data\" src={NoDataImage} />*/}\n                      <div\n                        className=\"no-data-title\"\n                        data-testid=\"t--no-data-title\"\n                      >\n                        No data found\n                      </div>\n                    </TableColumnEmptyWrapper>\n                  )}\n                </CentralizedWrapper>\n              </td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </Styles>\n  );\n}\n\nexport default Table;\n","import createGetFormMeta from './selectors/getFormMeta';\nimport plain from './structure/plain';\nexport default createGetFormMeta(plain);","export default function createGetFormMeta(_ref) {\n  var getIn = _ref.getIn,\n      empty = _ref.empty;\n  return function (form, getFormState) {\n    return function (state) {\n      var nonNullGetFormState = getFormState || function (state) {\n        return getIn(state, 'form');\n      };\n\n      return getIn(nonNullGetFormState(state), form + \".fields\") || empty;\n    };\n  };\n}"],"names":["setHeaderMeta","hideHeaderShadow","showHeaderSeparator","type","ReduxActionTypes","payload","SentryRoute","Sentry","Route","PageWrapper","styled","_templateObject","_taggedTemplateLiteral","props","theme","homePage","header","SidebarWrapper","_templateObject2","sidebar","SecondaryWrapper","_templateObject3","spaces","TemplateListWrapper","_templateObject4","ResultsCount","Text","_templateObject5","Templates","workspaceList","useSelector","getForkableWorkspaces","_jsxs","children","_jsx","ReconnectDatasourceModal","TemplateFilters","TemplateContent","isForkingEnabled","length","path","useRouteMatch","dispatch","useDispatch","workspaceListLength","state","getFetchedWorkspaces","pluginListLength","entities","plugins","defaultPluginList","templatesCount","ui","templates","filters","allTemplatesFiltersSelector","useEffect","editorInitializer","getAllTemplates","fetchAllWorkspaces","fetchDefaultPlugins","_isEmpty","functions","getTemplateFilters","Switch","component","TemplateView","concat","c","d","p","g","a","n","l","m","v","f","h","columns","data","_a$isLoading","isLoading","loaderComponent","b","noDataComponent","_e","e","autoResetExpanded","t","o","u","getTableBodyProps","x","getTableProps","E","headerGroups","y","prepareRow","w","rows","r","Object","assign","map","getHeaderGroupProps","key","headers","getHeaderProps","getSortByToggleProps","title","render","isSorted","isSortedDesc","className","colSpan","s","size","i","getRowProps","cells","getCellProps","_ref","getIn","empty","form","getFormState","nonNullGetFormState","plain"],"sourceRoot":""}