(self.webpackChunkappsmith=self.webpackChunkappsmith||[]).push([[3161],{25380:function(e){function n(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}n.keys=function(){return[]},n.resolve=n,n.id=25380,e.exports=n},86894:function(e,n,t){"use strict";t.r(n),t.d(n,{CustomWidgetBuilderContext:function(){return bn},CustomWidgetBuilderHeader:function(){return E},default:function(){return wn}});var r,i=t(29439),o=t(30168),s=t(50390),a=t(62608),l=t(72041),d=(t(19944),t(86125)),c=t(62559),u=a.ZP.div(r||(r=(0,o.Z)(["\n  /* width: ","px;\n  height: ","px;\n  display: flex;\n  align-items: center;\n  border-radius: 50%;\n  justify-content: center;\n  cursor: pointer;\n  background-color: ",";\n  flex-shrink: 0;\n  && span {\n    color: ",";\n    letter-spacing: normal;\n  } */\n\n  /* img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    border-radius: 50%;\n  } */\n"])),(function(e){return e.size||34}),(function(e){return e.size||34}),(function(e){return e.backgroundColor}),d.w.BLACK);var p,h,m=t(69434),g=a.ZP.div(p||(p=(0,o.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  background-color: var(--ads-v2-color-bg);\n  flex-direction: row;\n  box-shadow: none;\n  border-bottom: 1px solid var(--ads-v2-color-border);\n  height: ",";\n  & .editable-application-name {\n    ","\n    color: ",";\n  }\n  & "," {\n    width: 24px;\n    height: 24px;\n  }\n\n  @media only screen and (max-width: 900px) {\n    & .help-bar {\n      display: none;\n    }\n  }\n\n  @media only screen and (max-width: 700px) {\n    & .app-realtime-editors {\n      display: none;\n    }\n  }\n"])),(function(e){return e.theme.smallHeaderHeight}),(0,m.z8)("h4"),(function(e){return e.theme.colors.header.appName}),u),v=a.ZP.div(h||(h=(0,o.Z)(["\n  position: relative;\n  display: flex;\n  flex: 1;\n  overflow: visible;\n  align-items: center;\n  :nth-child(1) {\n    justify-content: flex-start;\n    max-width: 30%;\n  }\n  :nth-child(2) {\n    justify-content: center;\n  }\n  :nth-child(3) {\n    justify-content: flex-end;\n  }\n"]))),x=t(95398),f={headerWrapper:"styles_headerWrapper__db9Sk",header:"styles_header__AFFoO",headerControls:"styles_headerControls__Rxk8M",content:"styles_content__yzY2p",loader:"styles_loader__vmmYl",closeButton:"styles_closeButton__-GUiB",connectionLostContainer:"styles_connectionLostContainer__ARVjz",contentRight:"styles_contentRight__4BsYN",contentLeft:"styles_contentLeft__LIRVz"},b=t(31205),y=t(54138),_=t(56626),j=t(44977),w=t(26844),C=(0,l.gh)(l.hY.LIGHT);function E(){var e=(0,s.useContext)(bn),n=e.close,t=e.showConnectionLostMessage;return(0,c.jsx)(a.f6,{theme:C,children:(0,c.jsxs)(g,{className:f.headerWrapper,children:[(0,c.jsxs)(v,{className:f.headerSection,children:[(0,c.jsx)(x.j,{}),(0,c.jsx)(b.x,{className:f.header,kind:"heading-xs",children:(0,w.tnH)(w.zx.builder.header)})]}),(0,c.jsxs)(v,{className:(0,j.Z)(f.headerSection,f.headerControls),children:[t&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(b.x,{color:"var(--ads-old-color-pomegranate)",children:(0,w.tnH)(w.zx.builder.connectionLost)}),(0,c.jsx)(y.J,{name:"link-unlink",size:"md",style:{color:"var(--ads-old-color-pomegranate)"}})]}),(0,c.jsx)(_.z,{className:f.closeButton,kind:"tertiary",onClick:n,size:"lg",children:(0,w.tnH)(w.zx.builder.close)})]})]})})}var I=t(8162),N=t(18581),D=t(42957),L=t(8557),T={wrapper:"styles_wrapper__Oo8dx",debuggerTab:"styles_debuggerTab__RusGu",debuggerBody:"styles_debuggerBody__pj72T",debuggerItem:"styles_debuggerItem__xxbkx",debuggerItemMessage:"styles_debuggerItemMessage__6lDN2",debuggerItemHelp:"styles_debuggerItemHelp__YpAh8",debuggerItemIcon:"styles_debuggerItemIcon__Kpc8l",debuggerItemHelpContent:"styles_debuggerItemHelpContent__LqlzS",debuggerActions:"styles_debuggerActions__8JcCl",debuggerCounter:"styles_debuggerCounter__hvH5h",debuggerCounterItem:"styles_debuggerCounterItem__2sUE8",debuggerEmptyContainer:"styles_debuggerEmptyContainer__OYJac",debuggerEmpty:"styles_debuggerEmpty__I80up",debuggerEmptyIcon:"styles_debuggerEmptyIcon__I5aF+"},R=t(44170),z=t(27642),Z=t(48208);function S(e){var n,t=e.args,r=null===t||void 0===t||null===(n=t[0])||void 0===n?void 0:n.message;return(0,c.jsxs)(R.J2,{children:[(0,c.jsx)(R.xo,{children:(0,c.jsx)(_.z,{kind:"tertiary",size:"sm",startIcon:"question-line"})}),(0,c.jsx)(R.yk,{className:T.consoleItemHelpContent,children:(0,c.jsx)(z.a,{items:[{startIcon:(0,c.jsx)(y.J,{name:"book",size:"md"}),title:"Documentation",onClick:function(){window.open(Z.sp,"_blank")},description:"",descriptionType:"inline"},{startIcon:(0,c.jsx)(y.J,{name:"snippet",size:"md"}),title:(0,w.tnH)(w.zx.debugger.helpDropdown.stackoverflow),onClick:function(){t[0]&&window.open("https://stackoverflow.com/search?q=".concat("[javascript] "+encodeURIComponent(r),"}"),"_blank")},description:"",descriptionType:"inline"}]})})]})}var k,M={LOG:"log",INFO:"info",WARN:"warn",ERROR:"error"},H=t(1413),O=t(28229),B=t.n(O);function A(e){return(0,c.jsx)(B(),(0,H.Z)({src:e.value},{theme:"rjv-default",name:null,enableClipboard:!1,displayObjectSize:!1,displayDataTypes:!1,style:{fontSize:"10px"},collapsed:0,shouldCollapse:function(e){return 1*e.name>=2},indentWidth:1}))}var P=a.ZP.span(k||(k=(0,o.Z)(["\n  color: ",";\n"])),(function(e){switch(e.type){case"string":return"hsl(30,77%,40%)";case"number":return"#1659df";default:return"#063289"}})),W=function(e){switch(e){case M.ERROR:return(0,c.jsx)(y.J,{name:"close-circle",size:"md",style:{color:"var(--ads-v2-color-red-600)"}});case M.WARN:return(0,c.jsx)(y.J,{name:"alert-fill",size:"md",style:{color:"var(--ads-v2-color-yellow-600)"}});case M.LOG:return(0,c.jsx)(y.J,{name:"snippet",size:"md"});case M.INFO:return(0,c.jsx)(y.J,{name:"info",size:"md"});default:return(0,c.jsx)(y.J,{name:"snippet",size:"md"})}},U=function(e,n){return n.map((function(n,t){return n.message instanceof Object?(0,c.jsx)(A,{value:n.message},t):"log"===e?(0,c.jsx)(P,{type:typeof n.message,children:"number"===typeof n.message?n.message:JSON.stringify(n.message)},t):(0,c.jsx)("span",{children:n.message},t)}))},G=function(e){switch(e){case M.ERROR:return"var(--ads-v2-color-red-50)";case M.WARN:return"var(--ads-v2-color-yellow-100)";default:return"#fff"}};function J(e){var n=e.args,t=e.type;return(0,c.jsxs)("div",{className:T.debuggerItem,style:{background:G(e.type)},children:[(0,c.jsx)("div",{className:T.debuggerItemIcon,children:W(e.type)}),(0,c.jsx)("div",{className:T.debuggerItemMessage,children:U(t,n)}),t===M.ERROR&&(0,c.jsx)("div",{className:T.debuggerItemHelp,children:(0,c.jsx)(S,{args:n,type:t})})]})}function F(e){var n=e.error,t=e.log,r=e.onClick,i=e.warn;return(0,c.jsxs)("div",{className:T.debuggerCounter,onClick:function(){return r()},children:[(0,c.jsxs)("div",{className:T.debuggerCounterItem,children:[(0,c.jsx)(y.J,{name:"close-circle",size:"sm",style:{color:"var(--ads-v2-color-red-600)"}}),n]}),(0,c.jsxs)("div",{className:T.debuggerCounterItem,children:[(0,c.jsx)(y.J,{name:"alert-fill",size:"sm",style:{color:"var(--ads-v2-color-yellow-600)"}}),i]}),(0,c.jsxs)("div",{className:T.debuggerCounterItem,children:[(0,c.jsx)(y.J,{name:"snippet",size:"sm"}),t]})]})}var V=t(28114),Y=new V.mM;function q(e,n){var t=(0,s.useState)((function(){var t=Y.getItem(e);return t?JSON.parse(t):n})),r=(0,i.Z)(t,2),o=r[0],a=r[1];return[o,(0,s.useCallback)((function(n){a(n),Y.setItem(e,JSON.stringify(n))}),[])]}var K=t(72529),X=t(77271),Q="custom-widget-builder-context-state-is-debugger-open";function $(){var e=s.useRef(null),n=q(Q,!1),t=(0,i.Z)(n,2),r=t[0],o=t[1],a=(0,s.useContext)(bn),l=a.clearDegbuggerLogs,d=a.debuggerLogs,u=a.widgetId;(0,s.useEffect)((function(){var n;null===(n=e.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})}),[d]);var p=(0,s.useCallback)((function(){o(!r),X.ZP.logEvent("CUSTOM_WIDGET_BUILDER_DEBUGGER_VISIBILITY_CHANGED",{widgetId:u,visible:!r})}),[r]);return(0,c.jsxs)("div",{className:T.wrapper,children:[(0,c.jsxs)("div",{className:T.debuggerActions,children:[(0,c.jsx)(F,{error:(null===d||void 0===d?void 0:d.filter((function(e){return e.type===M.ERROR})).length)||0,log:(null===d||void 0===d?void 0:d.filter((function(e){return e.type===M.LOG})).length)||0,onClick:function(){return p()},warn:(null===d||void 0===d?void 0:d.filter((function(e){return e.type===M.WARN})).length)||0}),(0,c.jsx)(D.u,{content:"Clear console",children:(0,c.jsx)(y.J,{name:"forbid-line",onClick:function(){null===l||void 0===l||l(),X.ZP.logEvent("CUSTOM_WIDGET_BUILDER_DEBUGGER_CLEARED",{widgetId:u})},size:"md",style:{cursor:"pointer"}})}),(0,c.jsx)(D.u,{content:r?"Close console":"Open console",children:(0,c.jsx)(y.J,{name:r?"arrow-down-s-line":"arrow-up-s-line",onClick:function(){return p()},size:"lg",style:{cursor:"pointer"}})})]}),(0,c.jsxs)(L.mQ,{value:"Debugger",children:[(0,c.jsx)(L.dr,{className:T.debuggerTab,onClick:function(){return p()},children:(0,c.jsx)(L.OK,{value:"Debugger",children:(0,w.tnH)(w.zx.debugger.title)},"Debugger")}),r&&(0,c.jsxs)(L.x4,{className:T.debuggerBody,value:"Debugger",children:[null!==d&&void 0!==d&&d.length?null===d||void 0===d?void 0:d.map((function(e,n){return(0,c.jsx)(J,{args:e.args,type:e.type},n)})):(0,c.jsxs)("div",{className:T.debuggerEmptyContainer,children:[(0,c.jsx)("div",{className:T.debuggerEmptyIcon,children:(0,c.jsx)("img",{src:K.Z})}),(0,c.jsx)("div",{className:T.debuggerEmpty,children:(0,w.tnH)(w.zx.debugger.emptyMessage)})]}),(0,c.jsx)("div",{ref:e})]},"Debugger")]})]})}var ee=t(73010);function ne(e){var n,t=e.width,r=(0,s.useContext)(bn),o=r.key,a=r.model,l=r.srcDoc,d=r.theme,u=r.updateDebuggerLogs,p=r.updateModel,h=r.widgetId,m=(0,s.useState)({width:300,height:500}),g=(0,i.Z)(m,2),v=g[0],x=g[1],f=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e;f.current&&x({width:(null===(e=f.current)||void 0===e?void 0:e.clientWidth)+8,height:window.innerHeight-f.current.getBoundingClientRect().top-31});var n=function(){var e;f.current&&x({width:(null===(e=f.current)||void 0===e?void 0:e.clientWidth)+8,height:window.innerHeight-f.current.getBoundingClientRect().top-31})};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]),(0,s.useEffect)((function(){f.current&&x({width:f.current.clientWidth+8,height:window.innerHeight-f.current.getBoundingClientRect().top-31})}),[t,null===(n=f.current)||void 0===n?void 0:n.clientWidth]),(0,c.jsxs)("div",{ref:f,children:[(0,c.jsx)(I.Z,{dynamicHeight:ee.Hc.FIXED,execute:function(e,n){N.A.show("".concat((0,w.tnH)(w.zx.preview.eventFired)," ").concat(e),{kind:"success"}),null===u||void 0===u||u({type:"info",args:[{message:"".concat((0,w.tnH)(w.zx.preview.eventFired)," '").concat(e,"'")},{message:n}]})},height:v.height,minDynamicHeight:0,model:a||{},onConsole:function(e,n){null===u||void 0===u||u({type:e,args:n})},renderMode:"BUILDER",srcDoc:l||{html:"",js:"",css:""},theme:d,update:function(e){null===p||void 0===p||p(e);var n=(0,w.tnH)(w.zx.preview.modelUpdated);N.A.show(n,{kind:"success"}),null===u||void 0===u||u({type:"info",args:[{message:n},{message:e}]})},widgetId:h||"",width:v.width},o),(0,c.jsx)($,{})]})}var te=t(86542),re={contentRightBody:"styles_contentRightBody__W+O0F",headerControls:"styles_headerControls__gF+Ao"},ie={editorLayoutFullWidth:"styles_editorLayoutFullWidth__C47c6",editorLayoutPartialWidth:"styles_editorLayoutPartialWidth__DAJmM"},oe={wrapper:"styles_wrapper__+sEAX",tabList:"styles_tabList__+Lx9X",tabPanel:"styles_tabPanel__ktW1v",controls:"styles_controls__a0uMh"},se="custom-widget-layout-tabs-state";function ae(e){var n=e.tabs,t=q(se,n[0].title),r=(0,i.Z)(t,2),o=r[0],a=r[1];(0,s.useEffect)((function(){n.find((function(e){return e.title===o}))||a(n[0].title)}),[]);var l=(0,s.useRef)(null),d=s.useState(0),u=(0,i.Z)(d,2),p=u[0],h=u[1],m=(0,s.useState)(!0),g=(0,i.Z)(m,2),v=g[0],x=g[1];(0,s.useEffect)((function(){l.current&&(h(window.innerHeight-l.current.getBoundingClientRect().top-39),x(!1));var e=function(){l.current&&h(window.innerHeight-l.current.getBoundingClientRect().top-39)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var f=n.find((function(e){return e.title===o}));return(0,c.jsxs)("div",{className:oe.wrapper,ref:l,children:[!v&&(0,c.jsxs)(L.mQ,{onValueChange:function(e){setTimeout((function(){a(e)}))},value:o,children:[(0,c.jsx)(L.dr,{className:oe.tabList,children:n.map((function(e){return(0,c.jsx)(L.OK,{value:e.title,children:e.title},e.title)}))}),n.map((function(e){return(0,c.jsx)(L.x4,{className:oe.tabPanel,value:e.title,children:e.children({height:p,width:"100%"})},e.title)}))]}),(0,c.jsx)("div",{className:oe.controls,children:f&&(0,c.jsx)("div",{children:f.titleControls})})]})}var le=t(93433),de=t(6810),ce=t.n(de),ue={editorHeader:"styles_editorHeader__bxb5g",editorHeaderControls:"styles_editorHeaderControls__Q7kWr",editorBody:"styles_editorBody__6LiVM",hasBorder:"styles_hasBorder__UmrIP"},pe=t(97715),he=t.n(pe),me=t(5886),ge=t.n(me);var ve=38,xe="CUSTOM_WIDGET_SPLIT_VIEW_VISIBILITY";function fe(e){var n=e.rows,t=(0,s.useRef)(null),r=s.useState(0),o=(0,i.Z)(r,2),a=o[0],l=o[1],d=(0,s.useState)(!0),u=(0,i.Z)(d,2),p=u[0],h=u[1],m=function(e,n){var t=(0,s.useState)((function(){try{var t=V.ZP.getItem(e);return t?JSON.parse(t):n}catch(r){return ge().error(r),n}})),r=(0,i.Z)(t,2),o=r[0],a=r[1];return[o,function(n){try{var t=n instanceof Function?n(o):n;a(t),V.ZP.setItem(e,JSON.stringify(t))}catch(r){ge().error(r)}}]}(xe,Array(n.length).fill(!1)),g=(0,i.Z)(m,2),v=g[0],x=g[1];(0,s.useEffect)((function(){t.current&&(l(window.innerHeight-t.current.getBoundingClientRect().top),h(!1));var e=function(){t.current&&l(window.innerHeight-t.current.getBoundingClientRect().top)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var f=(0,s.useMemo)((function(){var e=v.filter((function(e){return!e})).length;return(a-ve*n.length)/e}),[v,a]);return(0,c.jsx)("div",{className:ue.wrapper,ref:t,children:!p&&n.map((function(e,t){return(0,c.jsxs)("div",{className:he()(ue.editor),children:[(0,c.jsxs)("div",{className:he()(ue.editorHeader,v[t]&&t===n.length-1?ue.hasBorder:""),onClick:function(){return x(ce()((0,le.Z)(v),t,!v[t]))},children:[(0,c.jsx)("div",{children:e.title}),(0,c.jsxs)("div",{className:ue.editorHeaderControls,children:[e.titleControls,(0,c.jsx)(y.J,{name:v[t]?"arrow-up-s-line":"arrow-down-s-line",size:"lg",style:{cursor:"pointer"}})]})]}),!v[t]&&(0,c.jsx)("div",{className:ue.editorBody,style:{height:f},children:e.children({height:f,width:"100%"})})]},e.title)}))})}function be(e){var n=e.content,t=(0,s.useContext)(bn),r=(0,s.useMemo)((function(){switch(t.selectedLayout){case"tabs":return(0,c.jsx)(ae,{tabs:n});case"split":return(0,c.jsx)(fe,{rows:n});default:return(0,c.jsx)("div",{children:"Tab Layout"})}}),[t.selectedLayout]);return(0,c.jsx)("div",{className:t.isReferenceOpen?ie.editorLayoutPartialWidth:ie.editorLayoutFullWidth,children:r})}var ye={widgetName:"styles_widgetName__8AcxR",headerControlsRight:"styles_headerControlsRight__51ykc",headerControlsLeft:"styles_headerControlsLeft__PzDii",referenceTrigger:"styles_referenceTrigger__iM+Ov",layoutControl:"styles_layoutControl__bn2kU",templateMenu:"styles_templateMenu__BHiOy"};function _e(){var e=(0,s.useContext)(bn).name;return(0,c.jsx)("div",{className:ye.widgetName,children:e})}var je,we=t(13407),Ce=(0,a.ZP)(we.s)(je||(je=(0,o.Z)(["\n  & .ads-v2-icon {\n    transform: rotate(90deg);\n  }\n"])));function Ee(){var e=(0,s.useContext)(bn),n=e.selectedLayout,t=e.selectLayout,r=e.widgetId;return(0,c.jsx)("div",{className:ye.layoutControl,children:(0,c.jsx)(Ce,{onChange:function(e){null===t||void 0===t||t(e),X.ZP.logEvent("CUSTOM_WIDGET_BUILDER_LAYOUT_CHANGED",{widgetId:r,layoutName:e})},options:[{label:(0,w.tnH)(w.zx.layout.split),startIcon:"layout-column-line",value:"split"},{label:(0,w.tnH)(w.zx.layout.tab),startIcon:"layout-left-2-line",value:"tabs"}],value:n})})}function Ie(){var e=(0,s.useContext)(bn),n=e.isReferenceOpen,t=e.toggleReference,r=e.widgetId;return(0,c.jsxs)("div",{className:ye.referenceTrigger,onClick:function(){null===t||void 0===t||t(),X.ZP.logEvent("CUSTOM_WIDGET_BUILDER_REFERENCE_VISIBILITY_CHANGED",{widgetId:r,visible:!n})},children:[(0,c.jsx)("div",{children:(0,w.tnH)(w.zx.referrences.title)}),(0,c.jsx)("div",{children:(0,c.jsx)(D.u,{content:n?(0,w.tnH)(w.zx.referrences.tooltip.close):(0,w.tnH)(w.zx.referrences.tooltip.open),placement:"left",children:(0,c.jsx)(y.J,{name:n?"eye-on":"eye-off",size:"md"})})})]})}var Ne,De=t(32003),Le=t(83011),Te=[{key:(0,w.tnH)(w.zx.templateKey.vanillaJs),uncompiledSrcDoc:{html:'<div class="app">\n\t<div class="tip-container">\n\t\t<div class="tip-header">\n\t\t\t<h2>Custom Widget</h2>\n\t\t\t<div id="index"></div>\n\t\t</div>\n\t\t<div id="tip"></div>\n\t</div>\n\t<div class="button-container">\n\t\t<button id="next">Next Tip</button>\n\t\t<button id="reset">Reset</button>\n\t</div>\n</div>',css:".app {\n\theight: calc(var(--appsmith-ui-height) * 1px);\n\twidth: calc(var(--appsmith-ui-width) * 1px);\n\tjustify-content: center;\n\tborder-radius: var(--appsmith-theme-borderRadius);\n\tbox-shadow: var(--appsmith-theme-boxShadow);\n\tpadding: 29px 25px;\n\tbox-sizing: border-box;\n\tfont-family: system-ui;\n\tbackground: #fff;\n}\n\n.tip-container {\n  margin-bottom: 20px;\n\tfont-size: 14px;\n\tline-height: 1.571429;\n}\n\n.tip-container h2 {\n  margin-bottom: 20px;\n\tfont-size: 16px;\n\tfont-weight: 700;\n}\n\n.tip-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: baseline;\n\tmargin-bottom: 9px;\n}\n\n.tip-header div {\n\tcolor: #999;\n}\n\n.button-container {\n\ttext-align: right;\t\n\tpadding-top: 4px;\n}\n\n.button-container button {\n  margin: 0 10px;\n\tcursor: pointer;\n\tborder-radius: var(--appsmith-theme-borderRadius);\n\tpadding: 6px 16px;\n\tbackground: none;\n}\n\n.button-container button#next {\n\tbackground: var(--appsmith-theme-primaryColor) !important;\n\tcolor: #fff;\n\tborder:1px solid var(--appsmith-theme-primaryColor) !important;\n}\n\n.button-container button#reset {\n\tborder: 1px solid #999;\n\tcolor: #999;\n\toutline: none;\n\tbox-shadow: none;\n}\n\n.button-container button#reset:hover:not(:disabled) {\n\tcolor: var(--appsmith-theme-primaryColor);\n\tborder-color: var(--appsmith-theme-primaryColor);\n}\n\n.button-container button#reset:disabled {\n\tcursor: default;\n}",js:'function initApp() {\n\tconst index = document.getElementById("index");\n\tconst tip = document.getElementById("tip");\n\tconst next = document.getElementById("next");\n\tconst reset = document.getElementById("reset");\n\n\tlet currentIndex = 0;\n\t\n\tconst updateDom = () => {\n\t\ttip.innerHTML = appsmith.model.tips[currentIndex];\n\t\tindex.innerHTML = (currentIndex + 1) + " / " + appsmith.model.tips.length;\n\t\treset.disabled = currentIndex === 0;\n\t};\n\t\n\tnext.addEventListener("click", () => {\n\t\tcurrentIndex = (currentIndex + 1) % appsmith.model.tips.length;\n\t\tupdateDom();\n\t});\n\t\n\treset.addEventListener("click", () => {\n\t\tcurrentIndex = 0;\n\t\tupdateDom();\n\t\tappsmith.triggerEvent("onReset");\n\t});\n\n\tupdateDom();\n}\n\nappsmith.onReady(() => {\n\t/*\n\t * This handler function will get called when parent application is ready.\n\t * Initialize your component here\n\t * more info - '.concat(Z.y4,"\n\t */\n\tinitApp();\n});")}},{key:(0,w.tnH)(w.zx.templateKey.react),uncompiledSrcDoc:{html:'\x3c!-- no need to write html, head, body tags, it is handled by the widget --\x3e\n<div id="root"></div>\n',css:".app {\n\theight: calc(var(--appsmith-ui-height) * 1px);\n\twidth: calc(var(--appsmith-ui-width) * 1px);\n\tjustify-content: center;\n\tborder-radius: var(--appsmith-theme-borderRadius);\n\tbox-shadow: var(--appsmith-theme-boxShadow);\n}\n\n.tip-container {\n  margin-bottom: 20px;\n}\n\n.tip-container h2 {\n  margin-bottom: 20px;\n\tfont-size: 16px;\n\tfont-weight: 700;\n}\n\n.tip-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: baseline;\n}\n\n.tip-header div {\n\tcolor: #999;\n}\n\n.button-container {\n\ttext-align: right;\t\n}\n\n.button-container button {\n  margin: 0 10px;\n\tborder-radius: var(--appsmith-theme-borderRadius);\n}\n\n.button-container button.primary {\n\tbackground: var(--appsmith-theme-primaryColor) !important;\n}\n\n.button-container button.reset {\n\tcolor: var(--appsmith-theme-primaryColor) !important;\n\tborder-color: var(--appsmith-theme-primaryColor) !important;\n}",js:'import React from \'https://cdn.jsdelivr.net/npm/react@18.2.0/+esm\'\nimport reactDom from \'https://cdn.jsdelivr.net/npm/react-dom@18.2.0/+esm\'\nimport { Button, Card } from \'https://cdn.jsdelivr.net/npm/antd@5.11.1/+esm\'\nimport Markdown from \'https://cdn.jsdelivr.net/npm/react-markdown@9.0.1/+esm\'\n\nfunction App() {\n\tconst [currentIndex, setCurrentIndex] = React.useState(0);\n\n\tconst handleNext = () => {\n\t\tsetCurrentIndex((prevIndex) => (prevIndex + 1) % appsmith.model.tips.length);\n\t};\n\n\tconst handleReset = () => {\n\t\tsetCurrentIndex(0);\n\t\tappsmith.triggerEvent("onReset");\n\t};\n\n\treturn (\n\t\t<Card className="app">\n\t\t\t<div className="tip-container">\n\t\t\t\t<div className="tip-header">\n\t\t\t\t\t<h2>Custom Widget</h2>\n\t\t\t\t\t<div>{currentIndex + 1} / {appsmith.model.tips.length}\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Markdown>{appsmith.model.tips[currentIndex]}</Markdown>\n\t\t\t</div>\n\t\t\t<div className="button-container">\n\t\t\t\t<Button className="primary" onClick={handleNext} type="primary">Next Tip</Button>\n\t\t\t\t<Button onClick={handleReset}>Reset</Button>\n\t\t\t</div>\n\t</Card>\n);\n}\n\nappsmith.onReady(() => {\n\t/*\n\t * This handler function will get called when parent application is ready.\n\t * Initialize your component here\n\t * more info - '.concat(Z.y4,'\n\t */\n\treactDom.render(<App />, document.getElementById("root"));\n});')}},{key:(0,w.tnH)(w.zx.templateKey.vue),uncompiledSrcDoc:{html:'<div id="app">\n\t<div class="tip-container">\n\t\t<div class="tip-header">\n\t\t\t<h2>Custom Widget</h2>\n\t\t\t<div id="index">{{ currentIndex + 1 }} / {{ tips.length }}</div>\n\t\t</div>\n\t\t<div id="tip">{{ tips[currentIndex] }}</div>\n\t</div>\n\t<div class="button-container">\n\t\t<button @click="next" id="next">Next Tip</button>\n\t\t<button @click="reset" id="reset">Reset</button>\n\t</div>\n</div>\n<script src="//cdnjs.cloudflare.com/ajax/libs/vue/2.1.6/vue.min.js"><\/script>',css:"#app {\n\theight: calc(var(--appsmith-ui-height) * 1px);\n\twidth: calc(var(--appsmith-ui-width) * 1px);\n\tjustify-content: center;\n\tborder-radius: var(--appsmith-theme-borderRadius);\n\tbox-shadow: var(--appsmith-theme-boxShadow);\n\tpadding: 29px 25px;\n\tbox-sizing: border-box;\n\tfont-family: system-ui;\n\tbackground: #fff;\n}\n\n.tip-container {\n  margin-bottom: 20px;\n\tfont-size: 14px;\n  line-height: 1.571429;\n}\n\n.tip-container h2 {\n  margin-bottom: 20px;\n\tfont-size: 16px;\n\tfont-weight: 700;\n}\n\n.tip-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: baseline;\n\tmargin-bottom: 9px;\n}\n\n.tip-header div {\n\tcolor: #999;\n}\n\n.button-container {\n\ttext-align: right;\t\n\tpadding-top: 4px;\n}\n\n.button-container button {\n  margin: 0 10px;\n\tcursor: pointer;\n\tborder-radius: var(--appsmith-theme-borderRadius);\n\tpadding: 6px 16px;\n\tbackground: none;\n}\n\n.button-container button#next {\n\tbackground: var(--appsmith-theme-primaryColor) !important;\n\tcolor: #fff;\n\tborder:1px solid var(--appsmith-theme-primaryColor) !important;\n}\n\n.button-container button#reset {\n\tborder: 1px solid #999;\n\tcolor: #999;\n\toutline: none;\n\tbox-shadow: none;\n}\n\n.button-container button#reset:hover:not(:disabled) {\n\tcolor: var(--appsmith-theme-primaryColor);\n\tborder-color: var(--appsmith-theme-primaryColor);\n}\n\n.button-container button#reset:disabled {\n\tcursor: default;\n}",js:"appsmith.onReady(() => {\n  /*\n\t * This handler function will get called when parent application is ready.\n\t * Initialize your component here\n\t * more info - ".concat(Z.y4,'\n\t */\n\tnew Vue({\n\t\tel: "#app",\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcurrentIndex: 0,\n\t\t\t\ttips: appsmith.model.tips,\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\tnext() {\n\t\t\t\tthis.currentIndex = (this.currentIndex + 1) % this.tips.length;\n\t\t\t},\n\t\t\treset() {\n\t\t\t\tthis.currentIndex = 0;\n\t\t\t\tappsmith.triggerEvent("onReset");\n\t\t\t},\n\t\t},\n\t});\n});')}}],Re=(0,a.ZP)(_.z)(Ne||(Ne=(0,o.Z)(["\n  height: 32px !important;\n\n  & .ads-v2-button__content-children {\n    font-size: 14px;\n    font-weight: 400;\n  }\n"])));function ze(e){return(0,c.jsx)(De.u_,{onOpenChange:function(n){return e.onOpenChange(n)},open:e.open,children:(0,c.jsxs)(De.hz,{style:{width:"580px"},children:[(0,c.jsx)(De.xB,{children:(0,w.tnH)(w.zx.template.modal.header)}),(0,c.jsx)(De.fe,{children:(0,c.jsx)(b.x,{kind:"body-m",children:(0,w.tnH)(w.zx.template.modal.body)})}),(0,c.jsxs)(De.mz,{children:[(0,c.jsx)(_.z,{kind:"secondary",onClick:e.onCancel,size:"md",children:(0,w.tnH)(w.zx.template.modal.cancelCTA)}),(0,c.jsx)(_.z,{onClick:e.onReplace,size:"md",children:(0,w.tnH)(w.zx.template.modal.successCTA)})]})]})})}function Ze(){var e=(0,s.useContext)(bn),n=e.bulkUpdate,t=e.initialSrcDoc,r=e.lastSaved,o=e.widgetId,a=(0,s.useState)(!1),l=(0,i.Z)(a,2),d=l[0],u=l[1],p=(0,s.useState)(null),h=(0,i.Z)(p,2),m=h[0],g=h[1],v=(0,s.useState)(""),x=(0,i.Z)(v,2),f=x[0],b=x[1];return(0,c.jsxs)("div",{className:ye.templateMenu,children:[(0,c.jsxs)(Le.v2,{children:[(0,c.jsx)(Le.bF,{children:(0,c.jsx)(Re,{className:"t--custom-widget-template-trigger",kind:"secondary",onClick:function(){X.ZP.logEvent("CUSTOM_WIDGET_BUILDER_TEMPLATE_OPENED",{widgetId:o})},size:"sm",startIcon:"query",children:(0,w.tnH)(w.zx.template.buttonCTA)})}),(0,c.jsxs)(Le.Dv,{children:[t&&r&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Le.sN,{onClick:function(){g(t),b(w.zx.template.revert),u(!0),X.ZP.logEvent("CUSTOM_WIDGET_BUILDER_TEMPLATE_SELECT",{widgetId:o,templateName:w.zx.template.revert})},children:(0,w.tnH)(w.zx.template.revert)}),(0,c.jsx)(Le.Cl,{})]}),Te.map((function(e){return(0,c.jsx)(Le.sN,{onClick:function(){g(e.uncompiledSrcDoc),b(e.key),u(!0),X.ZP.logEvent("CUSTOM_WIDGET_BUILDER_TEMPLATE_SELECT",{widgetId:o,templateName:e.key})},children:e.key},e.key)}))]})]}),(0,c.jsx)(ze,{onCancel:function(){g(null),b(""),u(!1),X.ZP.logEvent("CUSTOM_WIDGET_BUILDER_TEMPLATE_SELECT_CANCELED",{widgetId:o,templateName:f})},onOpenChange:function(e){e||(g(null),b(""),u(!1),X.ZP.logEvent("CUSTOM_WIDGET_BUILDER_TEMPLATE_SELECT_CANCELED",{widgetId:o,templateName:f}))},onReplace:function(){m&&(null===n||void 0===n||n(m)),g(null),b(""),u(!1),X.ZP.logEvent("CUSTOM_WIDGET_BUILDER_TEMPLATE_SELECT_CONFIRMED",{widgetId:o,templateName:f})},open:d})]})}function Se(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:ye.headerControlsLeft,children:[(0,c.jsx)(_e,{}),(0,c.jsx)(Ze,{}),(0,c.jsx)(Ee,{})]}),(0,c.jsx)("div",{className:ye.headerControlsRight,children:(0,c.jsx)(Ie,{})})]})}t(94874);var ke,Me=t(71098),He=t(30759),Oe={loader:"styles_loader__PEqWv"};function Be(e){var n=(0,s.useState)(!0),t=(0,i.Z)(n,2),r=t[0],o=t[1],a=(0,s.useContext)(bn),l=a.showConnectionLostMessage,d=a.uncompiledSrcDoc,u=a.update,p=e.height;return(0,c.jsxs)("div",{className:Oe.wrapper,children:[(0,c.jsx)(He.Z,{border:Me.AG.NONE,borderLess:!0,className:"js-editor",disabled:l,focusElementName:"custom-widget-html-editor",folding:!0,height:p,hideEvaluatedValue:!0,ignoreAutoComplete:!0,ignoreBinding:!0,ignoreSlashCommand:!0,input:{value:null===d||void 0===d?void 0:d.html,onChange:function(e){null===u||void 0===u||u("html",e)}},mode:Me.d0.HTMLMIXED,onLoad:function(){return o(!1)},placeholder:(0,w.tnH)(w.zx.builder.editor.html.placeholder),showLightningMenu:!1,showLineNumbers:!0,size:Me.eP.EXTENDED,tabBehaviour:Me.GJ.INDENT,theme:Me.bY.LIGHT}),r&&(0,c.jsx)("div",{className:Oe.loader,style:{height:p},children:(0,c.jsx)(te.$,{size:"lg"})})]})}var Ae=a.ZP.div(ke||(ke=(0,o.Z)(["\n  position: relative;\n\n  span.cm-error {\n    color: #2d2006;\n  }\n"])));function Pe(){var e=(0,s.useContext)(bn),n=e.isReferenceOpen,t=e.model,r=(0,s.useMemo)((function(){return t?Object.entries(t).filter((function(e){var n=(0,i.Z)(e,2)[1];return["string","number"].includes(typeof n)})).map((function(e){var n=(0,i.Z)(e,1)[0];return"--appsmith-model-".concat(n)})).concat(["--appsmith-ui-width","--appsmith-ui-height","--appsmith-theme-primaryColor","--appsmith-theme-backgroundColor","--appsmith-theme-borderRadius","--appsmith-theme-boxShadow"]):[]}),[t]);return(0,c.jsx)(D.u,{content:(0,c.jsxs)("ol",{children:[(0,c.jsxs)("li",{className:"mb-1",children:["-"," ",(0,w.tnH)(w.zx.builder.editor.css.contextTooltipScss)]}),(0,c.jsxs)("li",{children:[(0,c.jsxs)("div",{children:["-"," ",(0,w.tnH)(w.zx.builder.editor.css.contextTooltipVariables)]}),(0,c.jsx)("ol",{className:"ml-3",children:r.map((function(e,n){return(0,c.jsx)("li",{children:e},n)}))})]})]}),placement:n?"bottom":"left",children:(0,c.jsx)(y.J,{name:"question",size:"md"})})}function We(e){var n=(0,s.useState)(!0),t=(0,i.Z)(n,2),r=t[0],o=t[1],a=(0,s.useContext)(bn),l=a.showConnectionLostMessage,d=a.uncompiledSrcDoc,u=a.update,p=e.height;return(0,c.jsxs)(Ae,{children:[(0,c.jsx)(He.Z,{border:Me.AG.NONE,borderLess:!0,className:"js-editor",disabled:l,focusElementName:"custom-widget-css-editor",folding:!0,height:p,hideEvaluatedValue:!0,ignoreAutoComplete:!0,ignoreBinding:!0,ignoreSlashCommand:!0,input:{value:null===d||void 0===d?void 0:d.css,onChange:function(e){null===u||void 0===u||u("css",e)}},mode:Me.d0.CSS,onLoad:function(){return o(!1)},placeholder:(0,w.tnH)(w.zx.builder.editor.css.placeholder),showLightningMenu:!1,showLineNumbers:!0,size:Me.eP.EXTENDED,tabBehaviour:Me.GJ.INDENT,theme:Me.bY.LIGHT}),r&&(0,c.jsx)("div",{className:Oe.loader,style:{height:p},children:(0,c.jsx)(te.$,{size:"lg"})})]})}var Ue=t(33399),Ge=t.n(Ue),Je=function(e){return{appsmith:{mode:"",model:e,ui:{width:1,height:2},theme:{primaryColor:"",backgroundColor:"",borderRadius:"",boxShadow:""},onUiChange:Function,onModelChange:Function,onThemeChange:Function,updateModel:Function,triggerEvent:Function,onReady:Function}}},Fe=t(36293),Ve=t(47728),Ye=t(29717);function qe(e){var n=(0,s.useState)(!0),t=(0,i.Z)(n,2),r=t[0],o=t[1],a=(0,s.useContext)(bn),l=a.debuggerLogs,d=a.model,u=a.showConnectionLostMessage,p=a.uncompiledSrcDoc,h=a.update,m=e.height,g=(0,s.useMemo)((function(){return l?l.filter((function(e){return e.type===M.ERROR})).map((function(e){return e.args})).flat().filter((function(e){return!Ge()(e.line)&&!Ge()(e.column)})).map((function(e){return{errorType:Ve.ug.LINT,raw:(null===p||void 0===p?void 0:p.js)||"",severity:Ye.z.ERROR,errorMessage:{name:"LintingError",message:e.message},errorSegment:(null===p||void 0===p?void 0:p.js)||"",originalBinding:(null===p||void 0===p?void 0:p.js)||"",variables:[],code:"",line:e.line?e.line-1:1,ch:e.column?e.column+2:1}})):[]}),[l]);return(0,s.useEffect)((function(){["LIB/node-forge","LIB/moment","base64-js","LIB/lodash"].forEach((function(e){Fe.ZP.removeDef(e)}))}),[]),(0,c.jsxs)("div",{className:Oe.wrapper,children:[(0,c.jsx)(He.Z,{additionalDynamicData:Je(d||{}),border:Me.AG.NONE,borderLess:!0,className:"js-editor",customErrors:g,dataTreePath:"customwidget.js",disabled:u,focusElementName:"custom-widget-js-editor",folding:!0,height:m,hideEvaluatedValue:!0,ignoreSlashCommand:!0,input:{value:null===p||void 0===p?void 0:p.js,onChange:function(e){null===h||void 0===h||h("js",e)}},mode:Me.d0.JAVASCRIPT,onLoad:function(){return o(!1)},placeholder:(0,w.tnH)(w.zx.builder.editor.js.placeholder),showLightningMenu:!1,showLineNumbers:!0,size:Me.eP.EXTENDED,tabBehaviour:Me.GJ.INDENT,theme:Me.bY.LIGHT}),r&&(0,c.jsx)("div",{className:Oe.loader,style:{height:m},children:(0,c.jsx)(te.$,{size:"lg"})})]})}var Ke={references:"styles_references__wYn5c",collapsible:"styles_collapsible__IKxW+",collapsibleHeader:"styles_collapsibleHeader__MHoCE",collapsibleBody:"styles_collapsibleBody__0JgqZ",collapsibleTitle:"styles_collapsibleTitle__yAlIt",collapsibleIcon:"styles_collapsibleIcon__qct6s",marginTop:"styles_marginTop__BOAb1",events:"styles_events__QC7GO",event:"styles_event__WA9iw",eventName:"styles_eventName__U6r3-",eventLabel:"styles_eventLabel__UPvbf",eventControl:"styles_eventControl__wrtdT",eventValue:"styles_eventValue__2apym",eventValueDefault:"styles_eventValueDefault__srl1m",switchTransientMode:"styles_switchTransientMode__OEoSW",noMargin:"styles_noMargin__Wjwcu"};function Xe(e){var n,t=(0,s.useState)(null===(n=e.defaultOpen)||void 0===n||n),r=(0,i.Z)(t,2),o=r[0],a=r[1];return(0,c.jsxs)("div",{className:Ke.collapsible,children:[(0,c.jsxs)("div",{className:Ke.collapsibleHeader,onClick:function(){a(!o)},children:[(0,c.jsxs)("div",{className:Ke.collapsibleTitle,children:[e.label,e.helpMessage&&(0,c.jsx)(D.u,{content:e.helpMessage,children:(0,c.jsx)(y.J,{name:"question",size:"md"})})]}),(0,c.jsx)("div",{className:Ke.collapsibleIcon,children:(0,c.jsx)(y.J,{name:o?"arrow-down-s-line":"arrow-up-s-line",size:"md"})})]}),o&&(0,c.jsx)("div",{className:Ke.collapsibleBody,children:e.children})]})}function Qe(){return(0,c.jsxs)("div",{children:[(0,c.jsx)(b.x,{color:"#6A7585",renderAs:"p",style:{lineHeight:"18px"},children:(0,w.tnH)(w.zx.referrences.help.message)}),(0,c.jsx)(_.z,{className:Ke.marginTop,href:Z.sp,kind:"secondary",renderAs:"a",size:"md",startIcon:"book",target:"_blank",children:(0,w.tnH)(w.zx.referrences.help.buttonCTA)})]})}function $e(){var e=(0,s.useContext)(bn).model;return(0,c.jsx)(B(),(0,H.Z)({src:e},{theme:"rjv-default",name:null,enableClipboard:!1,displayObjectSize:!1,displayDataTypes:!1,style:{fontSize:"12px",width:"100%",overflow:"auto",marginTop:"10px","word-break":"break-word"},collapsed:1,shouldCollapse:function(e){return 1*e.name>=1},indentWidth:1}))}var en,nn=t(4942),tn=a.ZP.div(en||(en=(0,o.Z)(["\n  .CodeMirror-line.CodeMirror-line {\n    padding-left: 0;\n  }\n\n  & .CodeMirror.CodeMirror {\n    border: none !important;\n    pointer-events: none;\n  }\n\n  & .LazyCodeEditor pre {\n    padding-left: 0px !important;\n  }\n"])));function rn(){var e,n=(0,s.useContext)(bn),t=n.events,r=n.widgetId,o=(0,s.useState)({}),a=(0,i.Z)(o,2),l=a[0],d=a[1],u=(0,s.useCallback)((function(e){X.ZP.logEvent("CUSTOM_WIDGET_BUILDER_REFERENCE_EVENT_OPENED",{widgetId:r,eventName:e}),d((function(n){return(0,H.Z)((0,H.Z)({},n),{},(0,nn.Z)({},e,!n[e]))}))}),[]);return(0,c.jsxs)("div",{className:Ke.events,children:[t&&(null===(e=Object.keys(t))||void 0===e?void 0:e.map((function(e){return(0,c.jsxs)("div",{className:Ke.event,children:[(0,c.jsxs)("div",{className:Ke.eventName,children:[(0,c.jsx)("div",{className:Ke.eventLabel,onClick:function(){return u(e)},children:e}),(0,c.jsx)("div",{className:Ke.eventControl,onClick:function(){return u(e)},children:(0,c.jsx)(y.J,{name:l[e]?"arrow-down-s-line":"arrow-up-s-line",size:"md"})})]}),l[e]&&(0,c.jsx)(tn,{className:Ke.eventValue,children:(0,c.jsx)(He.Z,{borderLess:!0,evaluatedValue:t[e],hideEvaluatedValue:!0,input:{value:t[e]},isReadOnly:!0,mode:Me.d0.TEXT_WITH_BINDING,placeholder:"No action",positionCursorInsideBinding:!0,showCustomToolTipForHighlightedText:!1,showLightningMenu:!1,size:Me.eP.EXTENDED,tabBehaviour:Me.GJ.INDENT,theme:Me.bY.LIGHT})})]},e)}))),t&&0===Object.keys(t).length&&(0,c.jsx)(b.x,{color:"#6A7585",renderAs:"p",style:{lineHeight:"18px"},children:(0,w.tnH)(w.zx.referrences.events.emptyMessage)})]})}function on(){return(0,c.jsxs)("div",{className:Ke.references,children:[(0,c.jsx)(Xe,{helpMessage:(0,c.jsxs)("ol",{children:[(0,c.jsx)("li",{children:(0,w.tnH)(w.zx.referrences.liveModel.helpMessage[0])}),(0,c.jsx)("li",{children:(0,w.tnH)(w.zx.referrences.liveModel.helpMessage[1])})]}),label:(0,w.tnH)(w.zx.referrences.liveModel.label),children:(0,c.jsx)($e,{})}),(0,c.jsx)(Xe,{helpMessage:(0,c.jsxs)("ol",{children:[(0,c.jsx)("li",{children:(0,w.tnH)(w.zx.referrences.events.helpMessage[0])}),(0,c.jsx)("li",{children:(0,w.tnH)(w.zx.referrences.events.helpMessage[1])})]}),label:(0,w.tnH)(w.zx.referrences.events.label),children:(0,c.jsx)(rn,{})}),(0,c.jsx)(Xe,{label:"Help",children:(0,c.jsx)(Qe,{})})]})}function sn(){var e=(0,s.useContext)(bn).isReferenceOpen;return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:re.headerControls,children:(0,c.jsx)(Se,{})}),(0,c.jsxs)("div",{className:re.contentRightBody,children:[(0,c.jsx)(be,{content:[{title:"HTML",children:function(e){return(0,c.jsx)(Be,(0,H.Z)({},e))}},{title:"Style",titleControls:(0,c.jsx)(Pe,{}),children:function(e){return(0,c.jsx)(We,(0,H.Z)({},e))}},{title:"Javascript",children:function(e){return(0,c.jsx)(qe,(0,H.Z)({},e))}}]}),e&&(0,c.jsx)(on,{})]})]})}function an(){return(0,s.useContext)(bn).showConnectionLostMessage?(0,c.jsx)("div",{className:f.connectionLostContainer}):null}var ln=t(19921),dn=t(53454),cn=t(93479),un=t(39261),pn=function(e){var n={code:e,warnings:[],errors:[]};!function(e){var n=e.code.js;(null===n||void 0===n?void 0:n.length)>0&&!n.match(/appsmith[\n\t\s]*\.[\n\t\s]*onReady[\n\t\s]*\(/)&&e.warnings.push({message:(0,w.tnH)(w.zx.debugger.noOnReadyWarning,Z.y4)})}(n);try{var t=(0,cn.transform)(e.js,{sourceType:"module",presets:["react"],targets:{esmodules:!0}});n.code=(0,H.Z)((0,H.Z)({},n.code),{},{js:(null===t||void 0===t?void 0:t.code)||""})}catch(r){n.errors.push(mn(r))}try{n.code=(0,H.Z)((0,H.Z)({},n.code),{},{css:(0,un.kM)(e.css).css||""})}catch(r){n.warnings.push(mn(r))}return n};var hn,mn=function(e){var n,t;return{line:null===e||void 0===e||null===(n=e.loc)||void 0===n?void 0:n.line,column:null===e||void 0===e||null===(t=e.loc)||void 0===t?void 0:t.column,message:null===e||void 0===e?void 0:e.toString()}};var gn,vn,xn=t(38637),fn=t(24661),bn=s.createContext({}),yn=a.ZP.div(gn||(gn=(0,o.Z)(["\n  width: 6px;\n  height: 100%;\n  margin-left: 2px;\n  border-right: 1px solid var(--ads-v2-color-border);\n  background: ",";\n  &:hover {\n    background: var(--ads-v2-color-border);\n    border-color: transparent;\n  }\n"])),(function(e){return e.resizing?"var(--ads-v2-color-border)":"transparent"})),_n=a.ZP.div(vn||(vn=(0,o.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),jn="CUSTOM_WIDGET_BUILDER_EDITOR_WIDTH";function wn(){var e=function(){var e=(0,s.useState)(!0),n=(0,i.Z)(e,2),t=n[0],r=n[1],o=q(Z.YA,!0),a=(0,i.Z)(o,2),l=a[0],d=a[1],c=q(Z.ou,"tabs"),u=(0,i.Z)(c,2),p=u[0],h=u[1],m=(0,s.useState)(Z.N2),g=(0,i.Z)(m,2),v=g[0],x=g[1];(0,s.useEffect)((function(){var e,n=pn(v.uncompiledSrcDoc);x((function(e){return(0,H.Z)((0,H.Z)({},e),{},{srcDoc:n.code})})),v.lastSaved&&(null===(e=window.opener)||void 0===e||e.postMessage({type:Z.uf.UPDATE_SRCDOC,srcDoc:n.code,uncompiledSrcDoc:v.uncompiledSrcDoc},"*"));var t=[];n.errors.length&&t.push({type:M.ERROR,args:n.errors}),n.warnings.length&&t.push({type:M.WARN,args:n.warnings}),x((function(e){return(0,H.Z)((0,H.Z)({},e),{},{debuggerLogs:[].concat(t)})}))}),[v.uncompiledSrcDoc,v.lastSaved]);var f=(0,s.useCallback)((function(){x((function(e){return(0,H.Z)((0,H.Z)({},e),{},{key:Math.random()})}))}),[]),b=(0,s.useMemo)((function(){return{toggleReference:function(){d(!l)},selectLayout:function(e){h(e)},close:function(){var e;null===(e=window.opener)||void 0===e||e.focus(),window.close()},bulkUpdate:function(e){x((function(n){return(0,H.Z)((0,H.Z)({},n),{},{uncompiledSrcDoc:e,lastSaved:Date.now()})}))},update:function(e,n){x((function(t){return(0,H.Z)((0,H.Z)({},t),{},{uncompiledSrcDoc:(0,H.Z)((0,H.Z)({},t.uncompiledSrcDoc),{},(0,nn.Z)({},e,n)),lastSaved:Date.now()})})),X.ZP.logEvent("CUSTOM_WIDGET_BUILDER_SRCDOC_UPDATE",{widgetId:v.widgetId,srcDocFile:e})},updateModel:function(e){x((function(n){return(0,H.Z)((0,H.Z)({},n),{},{model:(0,H.Z)((0,H.Z)({},n.model),e)})}))},updateDebuggerLogs:function(e){x((function(n){return(0,H.Z)((0,H.Z)({},n),{},{debuggerLogs:[].concat((0,le.Z)(n.debuggerLogs),[e])})}))},clearDegbuggerLogs:function(){x((function(e){return(0,H.Z)((0,H.Z)({},e),{},{debuggerLogs:[]})}))}}}),[v.uncompiledSrcDoc,d,l,h]),y=(0,s.useMemo)((function(){return(0,H.Z)((0,H.Z)({},v),{},{isReferenceOpen:l,selectedLayout:p},b)}),[v,b,l,p]);return(0,s.useEffect)(f,[v.srcDoc]),(0,s.useEffect)((function(){var e;window.addEventListener("message",(function(e){switch(e.data.type){case Z.uf.READY_ACK:hn&&clearTimeout(hn),x((function(n){return(0,H.Z)((0,H.Z)({},n),{},{name:e.data.name,widgetId:e.data.widgetId,srcDoc:e.data.srcDoc,uncompiledSrcDoc:e.data.uncompiledSrcDoc,initialSrcDoc:e.data.uncompiledSrcDoc,model:e.data.model,events:e.data.events,theme:e.data.theme})})),r(!1);break;case Z.uf.UPDATE_REFERENCES:x((function(n){return(0,H.Z)((0,H.Z)({},n),{},{name:e.data.name,model:e.data.model,events:e.data.events,theme:e.data.theme})})),f();break;case Z.uf.PAUSE:x((function(e){return(0,H.Z)((0,H.Z)({},e),{},{showConnectionLostMessage:!0})}));break;case Z.uf.RESUME:x((function(n){return(0,H.Z)((0,H.Z)({},n),{},{showConnectionLostMessage:!1,name:e.data.name,widgetId:e.data.widgetId,srcDoc:e.data.srcDoc,uncompiledSrcDoc:e.data.uncompiledSrcDoc,initialSrcDoc:e.data.uncompiledSrcDoc,model:e.data.model,events:e.data.events,theme:e.data.theme})}))}})),null===(e=window.opener)||void 0===e||e.postMessage({type:Z.uf.READY},"*"),window.addEventListener("beforeunload",(function(){var e;null===(e=window.opener)||void 0===e||e.postMessage({type:Z.uf.DISCONNECTED},"*")})),hn=setTimeout((function(){dn.C.replace(window.location.pathname.replace("/builder",""))}),4e3)}),[]),[y,t]}(),n=(0,i.Z)(e,2),t=n[0],r=n[1],o=q(jn,.5*window.innerWidth),a=(0,i.Z)(o,2),l=a[0],d=a[1],u=(0,s.useRef)(null),p=(0,s.useRef)(null),h=(0,s.useCallback)((function(e){if(u.current&&p.current){var n=e/window.innerWidth*100;u.current.style.width="".concat(n,"%"),p.current.style.width="".concat(100-n,"%"),d(e)}}),[]);(0,s.useEffect)((function(){h(l)}),[u.current,p.current]);var m=(0,fn.Z)(u,h,void 0,!0),g=m.onMouseDown,v=m.onMouseUp,x=m.onTouchStart,b=m.resizing;return(0,c.jsxs)(bn.Provider,{value:t,children:[(0,c.jsxs)(ln.ZP,{children:[(0,c.jsx)("meta",{charSet:"utf-8"}),(0,c.jsx)("title",{children:"".concat(t.name," | Builder | Appsmith")})]}),(0,c.jsx)(E,{}),r?(0,c.jsx)(te.$,{className:f.loader,size:"lg"}):(0,c.jsxs)("div",{className:f.content,children:[(0,c.jsxs)("div",{className:f.contentLeft,ref:p,children:[b&&(0,c.jsx)(_n,{}),(0,c.jsx)(ne,{width:l})]}),(0,c.jsx)("div",{className:"w-2 h-full -ml-2 group  cursor-ew-resize ".concat(xn.LC.resizer),onMouseDown:g,onTouchEnd:v,onTouchStart:x,children:(0,c.jsx)(yn,{className:he()({"transform transition":!0}),resizing:b})}),(0,c.jsx)("div",{className:f.contentRight,ref:u,children:(0,c.jsx)(sn,{})})]}),(0,c.jsx)(an,{})]})}},74057:function(e){function n(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}n.keys=function(){return[]},n.resolve=n,n.id=74057,e.exports=n}}]);
//# sourceMappingURL=CustomWidgetBuilder.eeb4b85a.chunk.js.map