{"version":3,"file":"static/js/evalWorker.65235569.chunk.js","mappings":"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","sources":["../packages/ast/src/constants/ast.ts","../packages/ast/src/index.ts","../packages/ast/src/jsObject/index.ts","../packages/ast/src/utils.ts","UITelemetry/generateWebWorkerTraces.ts","ce/constants/messages.ts","ce/workers/Evaluation/getEntityForEvalContextMap.ts","workers/Evaluation/getEntityForContext.ts","ce/workers/Evaluation/Actions.ts","components/editorComponents/ActionCreator/constants.ts","components/formControls/utils.ts","constants/AppsmithActionConstants/ActionConstants.tsx","constants/BindingsConstants.ts","ee/entities/DataTree/types.ts","ce/entities/DataTree/utils.ts","ce/workers/Evaluation/evalWorkerActions.ts","ce/workers/Evaluation/evaluationUtils.ts","workers/Evaluation/fns/index.ts","ce/workers/Evaluation/generateOverrideContext.ts","ee/workers/Evaluation/generateOverrideContext.ts","entities/AppsmithConsole/index.ts","entities/DependencyMap/index.ts","entities/Replay/replayUtils.ts","utils/DynamicBindingUtils.ts","utils/MessageUtil.ts","workers/Evaluation/JSObject/Collection.ts","workers/Evaluation/JSObject/index.ts","workers/Evaluation/JSObject/jsPropertiesState.ts","workers/Evaluation/JSObject/utils.ts","workers/Evaluation/dataStore/index.ts","workers/Evaluation/domApis.ts","workers/Evaluation/errorModifier.ts","workers/Evaluation/evalTreeWithChanges.ts","workers/Evaluation/evaluate.ts","workers/Evaluation/handlers/evalTrigger.ts","workers/common/JSLibrary/resetJSLibraries.ts","workers/common/JSLibrary/ternDefinitionGenerator.ts","workers/Evaluation/handlers/jsLibrary.ts","entities/Replay/ReplayEntity/ReplayEditor.ts","workers/Evaluation/fns/overrides/timeout.ts","workers/Evaluation/fns/overrides/fetch.ts","workers/Evaluation/fns/overrides/localStorage.ts","workers/Evaluation/fns/overrides/index.ts","workers/Evaluation/handlers/workerEnv.ts","workers/Evaluation/handlers/index.ts","workers/Evaluation/handlers/evalActionBindings.ts","workers/Evaluation/handlers/replay.ts","workers/Evaluation/handlers/validateProperty.ts","workers/Evaluation/handlers/setupEvalEnv.ts","workers/Evaluation/SetupDOM.ts","workers/Evaluation/handlers/initFormEval.ts","workers/Evaluation/handlers/evalExpression.ts","workers/Evaluation/evaluation.worker.ts","workers/Evaluation/fns/overrides/console.ts","workers/Evaluation/fns/overrides/interval.ts","workers/Evaluation/fns/utils/fnGuard.ts","workers/Evaluation/formEval.ts","entities/Replay/ReplayEntity/ReplayCanvas.ts","workers/Evaluation/evaluationSubstitution.ts","ce/workers/common/DependencyMap/utils/getEntityDependenciesByType.ts","workers/common/DependencyMap/utils/getEntityDependencies.ts","entities/DependencyMap/DependencyMapUtils.ts","workers/common/DependencyMap/index.ts","workers/Evaluation/dataStore/utils.ts","workers/Evaluation/JSObject/JSVariableEvents.ts","workers/common/DataTreeEvaluator/index.ts","workers/Evaluation/handlers/evalTree.ts","workers/Evaluation/handlers/updateActionData.ts","workers/Evaluation/helpers.ts","workers/Evaluation/setters.ts","workers/Evaluation/validations.ts","workers/common/DataTreeEvaluator/utils.ts","workers/common/DataTreeEvaluator/validationUtils.ts","workers/common/DependencyMap/utils.ts","workers/common/JSLibrary/index.ts","workers/common/JSLibrary/lodash-wrapper.js","../webpack/bootstrap","../webpack/runtime/amd options","../webpack/runtime/chunk loaded","../webpack/runtime/compat get default export","../webpack/runtime/create fake namespace object","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/global","../webpack/runtime/harmony module decorator","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/node module decorator","../webpack/runtime/runtimeId","../webpack/runtime/publicPath","../webpack/runtime/compat","../webpack/runtime/importScripts chunk loading","../webpack/runtime/nonce","../webpack/runtime/startup chunk dependencies","../webpack/startup"],"sourcesContent":["export const ECMA_VERSION = 11;\n\n/* Indicates the mode the code should be parsed in. \nThis influences global strict mode and parsing of import and export declarations.\n*/\nexport enum SourceType {\n  script = \"script\",\n  module = \"module\",\n}\n\n// Each node has an attached type property which further defines\n// what all properties can the node have.\n// We will just define the ones we are working with\nexport enum NodeTypes {\n  Identifier = \"Identifier\",\n  AssignmentPattern = \"AssignmentPattern\",\n  Literal = \"Literal\",\n  Property = \"Property\",\n  // Declaration - https://github.com/estree/estree/blob/master/es5.md#declarations\n  FunctionDeclaration = \"FunctionDeclaration\",\n  ExportDefaultDeclaration = \"ExportDefaultDeclaration\",\n  VariableDeclarator = \"VariableDeclarator\",\n  // Expression - https://github.com/estree/estree/blob/master/es5.md#expressions\n  MemberExpression = \"MemberExpression\",\n  FunctionExpression = \"FunctionExpression\",\n  ArrowFunctionExpression = \"ArrowFunctionExpression\",\n  AssignmentExpression = \"AssignmentExpression\",\n  ObjectExpression = \"ObjectExpression\",\n  ArrayExpression = \"ArrayExpression\",\n  ThisExpression = \"ThisExpression\",\n  CallExpression = \"CallExpression\",\n  BinaryExpression = \"BinaryExpression\",\n  ExpressionStatement = \"ExpressionStatement\",\n  BlockStatement = \"BlockStatement\",\n  ConditionalExpression = \"ConditionalExpression\",\n  AwaitExpression = \"AwaitExpression\",\n}\n","import type { Node, SourceLocation, Options, Comment } from \"acorn\";\nimport { parse } from \"acorn\";\nimport { ancestor, simple } from \"acorn-walk\";\nimport { ECMA_VERSION, NodeTypes } from \"./constants\";\nimport { has, isFinite, isNil, isString, toPath } from \"lodash\";\nimport { getStringValue, isTrueObject, sanitizeScript } from \"./utils\";\nimport { jsObjectDeclaration } from \"./jsObject\";\nimport { attachComments } from \"astravel\";\nimport { generate } from \"astring\";\n/*\n * Valuable links:\n *\n * * ESTree spec: Javascript AST is called ESTree.\n * Each es version has its md file in the repo to find features\n * implemented and their node type\n * https://github.com/estree/estree\n *\n * * Acorn: The parser we use to get the AST\n * https://github.com/acornjs/acorn\n *\n * * Acorn walk: The walker we use to traverse the AST\n * https://github.com/acornjs/acorn/tree/master/acorn-walk\n *\n * * AST Explorer: Helpful web tool to see ASTs and its parts\n * https://astexplorer.net/\n *\n */\n\ntype Pattern = IdentifierNode | AssignmentPatternNode;\ntype Expression = Node;\nexport type ArgumentTypes =\n  | LiteralNode\n  | ArrowFunctionExpressionNode\n  | ObjectExpression\n  | MemberExpressionNode\n  | CallExpressionNode\n  | BinaryExpressionNode\n  | BlockStatementNode\n  | IdentifierNode;\n// doc: https://github.com/estree/estree/blob/master/es5.md#memberexpression\nexport interface MemberExpressionNode extends Node {\n  type: NodeTypes.MemberExpression;\n  object: MemberExpressionNode | IdentifierNode | CallExpressionNode;\n  property: IdentifierNode | LiteralNode;\n  computed: boolean;\n  // doc: https://github.com/estree/estree/blob/master/es2020.md#chainexpression\n  optional?: boolean;\n}\n\nexport interface BinaryExpressionNode extends Node {\n  type: NodeTypes.BinaryExpression;\n  left: BinaryExpressionNode | IdentifierNode;\n  right: BinaryExpressionNode | IdentifierNode;\n}\n\n// doc: https://github.com/estree/estree/blob/master/es5.md#identifier\nexport interface IdentifierNode extends Node {\n  type: NodeTypes.Identifier;\n  name: string;\n}\n\n//Using this to handle the Variable property refactor\ninterface RefactorIdentifierNode extends Node {\n  type: NodeTypes.Identifier;\n  name: string;\n  property?: IdentifierNode;\n}\n\n// doc: https://github.com/estree/estree/blob/master/es5.md#variabledeclarator\ninterface VariableDeclaratorNode extends Node {\n  type: NodeTypes.VariableDeclarator;\n  id: IdentifierNode;\n  init: Expression | null;\n}\n\n// doc: https://github.com/estree/estree/blob/master/es5.md#functions\ninterface Function extends Node {\n  id: IdentifierNode | null;\n  params: Pattern[];\n}\n\n// doc: https://github.com/estree/estree/blob/master/es5.md#functiondeclaration\ninterface FunctionDeclarationNode extends Node, Function {\n  type: NodeTypes.FunctionDeclaration;\n}\n\n// doc: https://github.com/estree/estree/blob/master/es5.md#functionexpression\ninterface FunctionExpressionNode extends Expression, Function {\n  type: NodeTypes.FunctionExpression;\n  async: boolean;\n}\n\nexport interface ArrowFunctionExpressionNode extends Expression, Function {\n  type: NodeTypes.ArrowFunctionExpression;\n  async: boolean;\n}\n\nexport interface ObjectExpression extends Expression {\n  type: NodeTypes.ObjectExpression;\n  properties: Array<PropertyNode>;\n}\n\n// doc: https://github.com/estree/estree/blob/master/es2015.md#assignmentpattern\ninterface AssignmentPatternNode extends Node {\n  type: NodeTypes.AssignmentPattern;\n  left: Pattern;\n}\n\n// doc: https://github.com/estree/estree/blob/master/es5.md#literal\nexport interface LiteralNode extends Node {\n  type: NodeTypes.Literal;\n  value: string | boolean | null | number | RegExp;\n  raw: string;\n}\n\nexport interface CallExpressionNode extends Node {\n  type: NodeTypes.CallExpression;\n  callee: CallExpressionNode | IdentifierNode | MemberExpressionNode;\n  arguments: ArgumentTypes[];\n}\n\n// https://github.com/estree/estree/blob/master/es5.md#thisexpression\nexport interface ThisExpressionNode extends Expression {\n  type: \"ThisExpression\";\n}\n\n// https://github.com/estree/estree/blob/master/es5.md#conditionalexpression\nexport interface ConditionalExpressionNode extends Expression {\n  type: \"ConditionalExpression\";\n  test: Expression;\n  alternate: Expression;\n  consequent: Expression;\n}\n\n// https://github.com/estree/estree/blob/master/es2017.md#awaitexpression\nexport interface AwaitExpressionNode extends Expression {\n  type: \"AwaitExpression\";\n  argument: Expression;\n}\n\nexport interface BlockStatementNode extends Node {\n  type: \"BlockStatement\";\n  body: [Node];\n}\n\ninterface NodeList {\n  references: Set<string>;\n  functionalParams: Set<string>;\n  variableDeclarations: Set<string>;\n  identifierList: Array<IdentifierNode>;\n}\n\n// https://github.com/estree/estree/blob/master/es5.md#property\nexport interface PropertyNode extends Node {\n  type: NodeTypes.Property;\n  key: LiteralNode | IdentifierNode;\n  value: Node;\n  kind: \"init\" | \"get\" | \"set\";\n}\n\nexport interface ExpressionStatement extends Node {\n  type: \"ExpressionStatement\";\n  expression: Expression;\n}\n\nexport interface Program extends Node {\n  type: \"Program\";\n  body: [Directive | Statement];\n}\n\nexport type Statement = Node;\n\nexport interface Directive extends ExpressionStatement {\n  expression: LiteralNode;\n  directive: string;\n}\n\nexport interface ExportDefaultDeclarationNode extends Node {\n  declaration: Node;\n}\n\n// Node with location details\nexport type NodeWithLocation<NodeType> = NodeType & {\n  loc: SourceLocation;\n};\n\ntype AstOptions = Omit<Options, \"ecmaVersion\">;\n\ninterface EntityRefactorResponse {\n  isSuccess: boolean;\n  body: { script: string; refactorCount: number } | { error: string };\n}\n\n/* We need these functions to typescript casts the nodes with the correct types */\nexport const isIdentifierNode = (node: Node): node is IdentifierNode => {\n  return node.type === NodeTypes.Identifier;\n};\n\nexport const isMemberExpressionNode = (\n  node: Node,\n): node is MemberExpressionNode => {\n  return node.type === NodeTypes.MemberExpression;\n};\n\nexport const isThisExpressionNode = (\n  node: Node,\n): node is ThisExpressionNode => {\n  return node.type === NodeTypes.ThisExpression;\n};\n\nexport const isConditionalExpressionNode = (\n  node: Node,\n): node is ConditionalExpressionNode =>\n  node.type === NodeTypes.ConditionalExpression;\n\nexport const isAwaitExpressionNode = (\n  node: Node,\n): node is AwaitExpressionNode => node.type === NodeTypes.AwaitExpression;\n\nexport const isBinaryExpressionNode = (\n  node: Node,\n): node is BinaryExpressionNode => {\n  return node.type === NodeTypes.BinaryExpression;\n};\n\nexport const isVariableDeclarator = (\n  node: Node,\n): node is VariableDeclaratorNode => {\n  return node.type === NodeTypes.VariableDeclarator;\n};\n\nconst isFunctionDeclaration = (node: Node): node is FunctionDeclarationNode => {\n  return node.type === NodeTypes.FunctionDeclaration;\n};\n\nconst isFunctionExpression = (node: Node): node is FunctionExpressionNode => {\n  return node.type === NodeTypes.FunctionExpression;\n};\nexport const isArrowFunctionExpression = (\n  node: Node,\n): node is ArrowFunctionExpressionNode => {\n  return node.type === NodeTypes.ArrowFunctionExpression;\n};\n\nexport const isAssignmentExpression = (\n  node: Node,\n): node is AssignmentExpressionNode => {\n  return node.type === NodeTypes.AssignmentExpression;\n};\n\nexport const isObjectExpression = (node: Node): node is ObjectExpression => {\n  return node.type === NodeTypes.ObjectExpression;\n};\n\nconst isAssignmentPatternNode = (node: Node): node is AssignmentPatternNode => {\n  return node.type === NodeTypes.AssignmentPattern;\n};\n\nexport const isLiteralNode = (node: Node): node is LiteralNode => {\n  return node.type === NodeTypes.Literal;\n};\n\nexport const isPropertyNode = (node: Node): node is PropertyNode => {\n  return node.type === NodeTypes.Property;\n};\n\nexport const isCallExpressionNode = (\n  node: Node,\n): node is CallExpressionNode => {\n  return node.type === NodeTypes.CallExpression;\n};\n\nexport const isBlockStatementNode = (\n  node: Node,\n): node is BlockStatementNode => {\n  return node.type === NodeTypes.BlockStatement;\n};\n\nexport const isExpressionStatementNode = (\n  node: Node,\n): node is ExpressionStatement => {\n  return node.type === NodeTypes.ExpressionStatement;\n};\n\nexport const isExportDefaultDeclarationNode = (\n  node: Node,\n): node is ExportDefaultDeclarationNode => {\n  return node.type === NodeTypes.ExportDefaultDeclaration;\n};\n\nexport const isPropertyAFunctionNode = (\n  node: Node,\n): node is ArrowFunctionExpressionNode | FunctionExpressionNode => {\n  return (\n    node.type === NodeTypes.ArrowFunctionExpression ||\n    node.type === NodeTypes.FunctionExpression\n  );\n};\n\nconst isArrayAccessorNode = (node: Node): node is MemberExpressionNode => {\n  return (\n    isMemberExpressionNode(node) &&\n    node.computed &&\n    isLiteralNode(node.property) &&\n    isFinite(node.property.value)\n  );\n};\n\nexport const wrapCode = (code: string) => {\n  return `\n    (function() {\n      return ${code}\n    })\n  `;\n};\n\n//Tech-debt: should upgrade this to better logic\n//Used slice for a quick resolve of critical bug\nconst unwrapCode = (code: string) => {\n  const unwrapedCode = code.slice(32);\n  return unwrapedCode.slice(0, -10);\n};\n\nconst getFunctionalParamNamesFromNode = (\n  node:\n    | FunctionDeclarationNode\n    | FunctionExpressionNode\n    | ArrowFunctionExpressionNode,\n) => {\n  return Array.from(getFunctionalParamsFromNode(node)).map(\n    (functionalParam) => functionalParam.paramName,\n  );\n};\n\n// Memoize the ast generation code to improve performance.\n// Since this will be used by both the server and the client, we want to prevent regeneration of ast\n// for the the same code snippet\nexport const getAST = (code: string, options?: AstOptions) =>\n  parse(code, { ...options, ecmaVersion: ECMA_VERSION });\n\nexport const attachCommentsToAst = (\n  ast: Node,\n  commentArray: Array<Comment>,\n) => {\n  return attachComments(ast, commentArray);\n};\n/**\n * An AST based extractor that fetches all possible references in a given\n * piece of code. We use this to get any references to the global entities in Appsmith\n * and create dependencies on them. If the reference was updated, the given piece of code\n * should run again.\n * @param code: The piece of script where references need to be extracted from\n */\n\nexport interface IdentifierInfo {\n  references: string[];\n  functionalParams: string[];\n  variables: string[];\n}\nexport const extractIdentifierInfoFromCode = (\n  code: string,\n  evaluationVersion: number,\n  invalidIdentifiers?: Record<string, unknown>,\n): IdentifierInfo => {\n  let ast: Node = { end: 0, start: 0, type: \"\" };\n  try {\n    const sanitizedScript = sanitizeScript(code, evaluationVersion);\n    /* wrapCode - Wrapping code in a function, since all code/script get wrapped with a function during evaluation.\n       Some syntax won't be valid unless they're at the RHS of a statement.\n       Since we're assigning all code/script to RHS during evaluation, we do the same here.\n       So that during ast parse, those errors are neglected.\n    */\n    /* e.g. IIFE without braces\n      function() { return 123; }() -> is invalid\n      let result = function() { return 123; }() -> is valid\n    */\n    const wrappedCode = wrapCode(sanitizedScript);\n    ast = getAST(wrappedCode);\n    const { functionalParams, references, variableDeclarations }: NodeList =\n      ancestorWalk(ast);\n    const referencesArr = Array.from(references).filter((reference) => {\n      // To remove references derived from declared variables and function params,\n      // We extract the topLevelIdentifier Eg. Api1.name => Api1\n      const topLevelIdentifier = toPath(reference)[0];\n      return !(\n        functionalParams.has(topLevelIdentifier) ||\n        variableDeclarations.has(topLevelIdentifier) ||\n        has(invalidIdentifiers, topLevelIdentifier)\n      );\n    });\n    return {\n      references: referencesArr,\n      functionalParams: Array.from(functionalParams),\n      variables: Array.from(variableDeclarations),\n    };\n  } catch (e) {\n    if (e instanceof SyntaxError) {\n      // Syntax error. Ignore and return empty list\n      return {\n        references: [],\n        functionalParams: [],\n        variables: [],\n      };\n    }\n    throw e;\n  }\n};\n\nexport const entityRefactorFromCode = (\n  script: string,\n  oldName: string,\n  newName: string,\n  isJSObject: boolean,\n  evaluationVersion: number,\n  invalidIdentifiers?: Record<string, unknown>,\n): EntityRefactorResponse => {\n  //Sanitizing leads to removal of special charater.\n  //Hence we are not sanatizing the script. Fix(#18492)\n  //If script is a JSObject then replace export default to decalartion.\n  if (isJSObject) script = jsObjectToCode(script);\n  else script = wrapCode(script);\n  let ast: Node = { end: 0, start: 0, type: \"\" };\n  //Copy of script to refactor\n  let refactorScript = script;\n  //Difference in length of oldName and newName\n  const nameLengthDiff: number = newName.length - oldName.length;\n  //Offset index used for deciding location of oldName.\n  let refactorOffset = 0;\n  //Count of refactors on the script\n  let refactorCount = 0;\n  try {\n    ast = getAST(script);\n    const {\n      functionalParams,\n      identifierList,\n      references,\n      variableDeclarations,\n    }: NodeList = ancestorWalk(ast);\n    const identifierArray = Array.from(\n      identifierList,\n    ) as Array<RefactorIdentifierNode>;\n    //To handle if oldName has property (\"JSObject.myfunc\")\n    const oldNameArr = oldName.split(\".\");\n    const referencesArr = Array.from(references).filter((reference) => {\n      // To remove references derived from declared variables and function params,\n      // We extract the topLevelIdentifier Eg. Api1.name => Api1\n      const topLevelIdentifier = toPath(reference)[0];\n      return !(\n        functionalParams.has(topLevelIdentifier) ||\n        variableDeclarations.has(topLevelIdentifier) ||\n        has(invalidIdentifiers, topLevelIdentifier)\n      );\n    });\n    //Traverse through all identifiers in the script\n    identifierArray.forEach((identifier) => {\n      if (identifier.name === oldNameArr[0]) {\n        let index = 0;\n        while (index < referencesArr.length) {\n          if (identifier.name === referencesArr[index].split(\".\")[0]) {\n            //Replace the oldName by newName\n            //Get start index from node and get subarray from index 0 till start\n            //Append above with new name\n            //Append substring from end index from the node till end of string\n            //Offset variable is used to alter the position based on `refactorOffset`\n            //In case of nested JS action get end postion fro the property.\n            ///Default end index\n            let endIndex = identifier.end;\n            const propertyNode = identifier.property;\n            //Flag variable : true if property should be updated\n            //false if property should not be updated\n            const propertyCondFlag =\n              oldNameArr.length > 1 &&\n              propertyNode &&\n              oldNameArr[1] === propertyNode.name;\n            //Condition to validate if Identifier || Property should be updated??\n            if (oldNameArr.length === 1 || propertyCondFlag) {\n              //Condition to extend end index in case of property match\n              if (propertyCondFlag && propertyNode) {\n                endIndex = propertyNode.end;\n              }\n              refactorScript =\n                refactorScript.substring(0, identifier.start + refactorOffset) +\n                newName +\n                refactorScript.substring(endIndex + refactorOffset);\n              refactorOffset += nameLengthDiff;\n              ++refactorCount;\n              //We are only looking for one match in refrence for the identifier name.\n              break;\n            }\n          }\n          index++;\n        }\n      }\n    });\n    //If script is a JSObject then revert decalartion to export default.\n    if (isJSObject) refactorScript = jsCodeToObject(refactorScript);\n    else refactorScript = unwrapCode(refactorScript);\n    return {\n      isSuccess: true,\n      body: { script: refactorScript, refactorCount },\n    };\n  } catch (e) {\n    if (e instanceof SyntaxError) {\n      // Syntax error. Ignore and return empty list\n      return { isSuccess: false, body: { error: \"Syntax Error\" } };\n    }\n    throw e;\n  }\n};\n\nexport interface functionParam {\n  paramName: string;\n  defaultValue: unknown;\n}\n\nexport const getFunctionalParamsFromNode = (\n  node:\n    | FunctionDeclarationNode\n    | FunctionExpressionNode\n    | ArrowFunctionExpressionNode,\n  needValue = false,\n): Set<functionParam> => {\n  const functionalParams = new Set<functionParam>();\n  node.params.forEach((paramNode) => {\n    if (isIdentifierNode(paramNode)) {\n      functionalParams.add({\n        paramName: paramNode.name,\n        defaultValue: undefined,\n      });\n    } else if (isAssignmentPatternNode(paramNode)) {\n      if (isIdentifierNode(paramNode.left)) {\n        const paramName = paramNode.left.name;\n        if (!needValue) {\n          functionalParams.add({ paramName, defaultValue: undefined });\n        } else {\n          // figure out how to get value of paramNode.right for each node type\n          // currently we don't use params value, hence skipping it\n          // functionalParams.add({\n          //   defaultValue: paramNode.right.value,\n          // });\n        }\n      }\n    }\n  });\n  return functionalParams;\n};\n\nconst constructFinalMemberExpIdentifier = (\n  node: MemberExpressionNode,\n  child = \"\",\n): string => {\n  const propertyAccessor = getPropertyAccessor(node.property);\n  if (isIdentifierNode(node.object)) {\n    return `${node.object.name}${propertyAccessor}${child}`;\n  } else {\n    const propertyAccessor = getPropertyAccessor(node.property);\n    const nestedChild = `${propertyAccessor}${child}`;\n    return constructFinalMemberExpIdentifier(\n      node.object as MemberExpressionNode,\n      nestedChild,\n    );\n  }\n};\n\nconst getPropertyAccessor = (propertyNode: IdentifierNode | LiteralNode) => {\n  if (isIdentifierNode(propertyNode)) {\n    return `.${propertyNode.name}`;\n  } else if (isLiteralNode(propertyNode) && isString(propertyNode.value)) {\n    // is string literal search a['b']\n    return `.${propertyNode.value}`;\n  } else if (isLiteralNode(propertyNode) && isFinite(propertyNode.value)) {\n    // is array index search - a[9]\n    return `[${propertyNode.value}]`;\n  }\n};\n\nexport const isTypeOfFunction = (type: string) => {\n  return (\n    type === NodeTypes.ArrowFunctionExpression ||\n    type === NodeTypes.FunctionExpression\n  );\n};\n\nexport interface MemberExpressionData {\n  property: NodeWithLocation<IdentifierNode | LiteralNode>;\n  object: NodeWithLocation<IdentifierNode>;\n}\n\nexport interface AssignmentExpressionData {\n  property: NodeWithLocation<IdentifierNode | LiteralNode>;\n  object: NodeWithLocation<IdentifierNode | MemberExpressionNode>;\n  parentNode: NodeWithLocation<AssignmentExpressionNode>;\n}\n\nexport interface CallExpressionData {\n  property: NodeWithLocation<IdentifierNode>;\n  params: NodeWithLocation<MemberExpressionNode | LiteralNode>[];\n}\n\n// This interface is used for storing call expression nodes with callee as member node\n// example of such case is when a function is called on object like obj.func()\n// This is required to understand whether appsmith.store.test.func() is present in script\n// in order to display mutation error on such statements.\nexport interface MemberCallExpressionData {\n  property: NodeWithLocation<MemberExpressionNode | LiteralNode>;\n  object: NodeWithLocation<MemberExpressionNode>;\n  parentNode: NodeWithLocation<CallExpressionNode>;\n}\n\nexport interface AssignmentExpressionNode extends Node {\n  operator: string;\n  left: Expression;\n  Right: Expression;\n}\n\n/** Function returns Invalid top-level member expressions from code\n * @param code\n * @param data\n * @param evaluationVersion\n * @returns information about all invalid property/method assessment in code\n * @example Given data {\n * JSObject1: {\n * name:\"JSObject\",\n * data:[]\n * },\n * Api1:{\n * name: \"Api1\",\n * data: []\n * }\n * },\n * For code {{Api1.name + JSObject.unknownProperty}}, function returns information about \"JSObject.unknownProperty\" node.\n */\nexport const extractExpressionsFromCode = (\n  code: string,\n  data: Record<string, any>,\n  evaluationVersion: number,\n): {\n  invalidTopLevelMemberExpressionsArray: MemberExpressionData[];\n  assignmentExpressionsData: AssignmentExpressionData[];\n  callExpressionsData: CallExpressionData[];\n  memberCallExpressionData: MemberCallExpressionData[];\n} => {\n  const assignmentExpressionsData = new Set<AssignmentExpressionData>();\n  const callExpressionsData = new Set<CallExpressionData>();\n  const memberCallExpressionData = new Set<MemberCallExpressionData>();\n  const invalidTopLevelMemberExpressions = new Set<MemberExpressionData>();\n  const variableDeclarations = new Set<string>();\n  let functionalParams = new Set<string>();\n  let ast: Node = { end: 0, start: 0, type: \"\" };\n  try {\n    const sanitizedScript = sanitizeScript(code, evaluationVersion);\n    const wrappedCode = wrapCode(sanitizedScript);\n    ast = getAST(wrappedCode, { locations: true });\n  } catch (e) {\n    if (e instanceof SyntaxError) {\n      // Syntax error. Ignore and return empty list\n      return {\n        invalidTopLevelMemberExpressionsArray: [],\n        assignmentExpressionsData: [],\n        callExpressionsData: [],\n        memberCallExpressionData: [],\n      };\n    }\n    throw e;\n  }\n  simple(ast, {\n    MemberExpression(node: Node) {\n      const { computed, object, property } = node as MemberExpressionNode;\n\n      // We are only interested in top-level MemberExpression nodes\n      // Eg. for Api1.data.name, we are only interested in Api1.data\n      if (!isIdentifierNode(object)) return;\n      if (!(object.name in data) || !isTrueObject(data[object.name])) return;\n      // For computed member expressions (assessed via [], eg. JSObject1[\"name\"] ),\n      // We are only interested in strings\n      if (\n        isLiteralNode(property) &&\n        isString(property.value) &&\n        !(property.value in data[object.name])\n      ) {\n        invalidTopLevelMemberExpressions.add({\n          object,\n          property,\n        } as MemberExpressionData);\n      }\n      // We ignore computed member expressions if property is an identifier (JSObject[name])\n      // This is because we can't statically determine what the value of the identifier might be.\n      if (\n        isIdentifierNode(property) &&\n        !computed &&\n        !(property.name in data[object.name])\n      ) {\n        invalidTopLevelMemberExpressions.add({\n          object,\n          property,\n        } as MemberExpressionData);\n      }\n    },\n    VariableDeclarator(node: Node) {\n      if (isVariableDeclarator(node)) {\n        variableDeclarations.add(node.id.name);\n      }\n    },\n    FunctionDeclaration(node: Node) {\n      if (!isFunctionDeclaration(node)) return;\n      functionalParams = new Set([\n        ...functionalParams,\n        ...getFunctionalParamNamesFromNode(node),\n      ]);\n    },\n    FunctionExpression(node: Node) {\n      if (!isFunctionExpression(node)) return;\n      functionalParams = new Set([\n        ...functionalParams,\n        ...getFunctionalParamNamesFromNode(node),\n      ]);\n    },\n    ArrowFunctionExpression(node: Node) {\n      if (!isArrowFunctionExpression(node)) return;\n      functionalParams = new Set([\n        ...functionalParams,\n        ...getFunctionalParamNamesFromNode(node),\n      ]);\n    },\n    AssignmentExpression(node: Node) {\n      if (\n        !isAssignmentExpression(node) ||\n        node.operator !== \"=\" ||\n        !isMemberExpressionNode(node.left)\n      )\n        return;\n\n      const { object, property } = node.left;\n\n      assignmentExpressionsData.add({\n        object,\n        property,\n        parentNode: node,\n      } as AssignmentExpressionData);\n    },\n    CallExpression(node: Node) {\n      if (isCallExpressionNode(node)) {\n        if (isIdentifierNode(node.callee)) {\n          callExpressionsData.add({\n            property: node.callee,\n            params: node.arguments,\n          } as CallExpressionData);\n        }\n\n        if (isMemberExpressionNode(node.callee)) {\n          const { object, property } = node.callee;\n\n          memberCallExpressionData.add({\n            object,\n            property,\n            parentNode: node,\n          } as MemberCallExpressionData);\n        }\n      }\n    },\n  });\n\n  const invalidTopLevelMemberExpressionsArray = Array.from(\n    invalidTopLevelMemberExpressions,\n  ).filter((MemberExpression) => {\n    return !(\n      variableDeclarations.has(MemberExpression.object.name) ||\n      functionalParams.has(MemberExpression.object.name)\n    );\n  });\n\n  return {\n    invalidTopLevelMemberExpressionsArray,\n    assignmentExpressionsData: [...assignmentExpressionsData],\n    callExpressionsData: [...callExpressionsData],\n    memberCallExpressionData: [...memberCallExpressionData],\n  };\n};\n\nconst ancestorWalk = (ast: Node): NodeList => {\n  //List of all Identifier nodes with their property(if exists).\n  const identifierList = new Array<RefactorIdentifierNode>();\n  // List of all references found\n  const references = new Set<string>();\n  // List of variables declared within the script. All identifiers and member expressions derived from declared variables will be removed\n  const variableDeclarations = new Set<string>();\n  // List of functional params declared within the script. All identifiers and member expressions derived from functional params will be removed\n  let functionalParams = new Set<string>();\n\n  /*\n   * We do an ancestor walk on the AST in order to extract all references. For example, for member expressions and identifiers, we need to know\n   * what surrounds the identifier (its parent and ancestors), ancestor walk will give that information in the callback\n   * doc: https://github.com/acornjs/acorn/tree/master/acorn-walk\n   */\n  ancestor(ast, {\n    Identifier(node: Node, ancestors: Node[]) {\n      /*\n       * We are interested in identifiers. Due to the nature of AST, Identifier nodes can\n       * also be nested inside MemberExpressions. For deeply nested object references, there\n       * could be nesting of many MemberExpressions. To find the final reference, we will\n       * try to find the top level MemberExpression that does not have a MemberExpression parent.\n       * */\n      let candidateTopLevelNode: IdentifierNode | MemberExpressionNode =\n        node as IdentifierNode;\n      let depth = ancestors.length - 2; // start \"depth\" with first parent\n      while (depth > 0) {\n        const parent = ancestors[depth];\n        if (\n          isMemberExpressionNode(parent) &&\n          /* Member expressions that are \"computed\" (with [ ] search)\n             and the ones that have optional chaining ( a.b?.c )\n             will be considered top level node.\n             We will stop looking for further parents */\n          /* \"computed\" exception - isArrayAccessorNode\n             Member expressions that are array accessors with static index - [9]\n             will not be considered top level.\n             We will continue looking further. */\n          (!parent.computed || isArrayAccessorNode(parent)) &&\n          !parent.optional\n        ) {\n          candidateTopLevelNode = parent;\n          depth = depth - 1;\n        } else {\n          // Top level found\n          break;\n        }\n      }\n      //If parent is a Member expression then attach property to the Node.\n      //else push Identifier Node.\n      const parentNode = ancestors[ancestors.length - 2];\n      if (isMemberExpressionNode(parentNode)) {\n        identifierList.push({\n          ...(node as IdentifierNode),\n          property: parentNode.property as IdentifierNode,\n        });\n      } else identifierList.push(node as RefactorIdentifierNode);\n      if (isIdentifierNode(candidateTopLevelNode)) {\n        // If the node is an Identifier, just save that\n        references.add(candidateTopLevelNode.name);\n      } else {\n        // For MemberExpression Nodes, we will construct a final reference string and then add\n        // it to the references list\n        const memberExpIdentifier = constructFinalMemberExpIdentifier(\n          candidateTopLevelNode,\n        );\n        references.add(memberExpIdentifier);\n      }\n    },\n    VariableDeclarator(node: Node) {\n      // keep a track of declared variables so they can be\n      // removed from the final list of references\n      if (isVariableDeclarator(node)) {\n        variableDeclarations.add(node.id.name);\n      }\n    },\n    FunctionDeclaration(node: Node) {\n      // params in function declarations are also counted as references so we keep\n      // track of them and remove them from the final list of references\n      if (!isFunctionDeclaration(node)) return;\n      functionalParams = new Set([\n        ...functionalParams,\n        ...getFunctionalParamNamesFromNode(node),\n      ]);\n    },\n    FunctionExpression(node: Node) {\n      // params in function expressions are also counted as references so we keep\n      // track of them and remove them from the final list of references\n      if (!isFunctionExpression(node)) return;\n      functionalParams = new Set([\n        ...functionalParams,\n        ...getFunctionalParamNamesFromNode(node),\n      ]);\n    },\n    ArrowFunctionExpression(node: Node) {\n      // params in arrow function expressions are also counted as references so we keep\n      // track of them and remove them from the final list of references\n      if (!isArrowFunctionExpression(node)) return;\n      functionalParams = new Set([\n        ...functionalParams,\n        ...getFunctionalParamNamesFromNode(node),\n      ]);\n    },\n  });\n  return {\n    references,\n    functionalParams,\n    variableDeclarations,\n    identifierList,\n  };\n};\n\n//Replace export default by a variable declaration.\n//This is required for acorn to parse code into AST.\nconst jsObjectToCode = (script: string) => {\n  return script.replace(/export default/g, jsObjectDeclaration);\n};\n\n//Revert the string replacement from 'jsObjectToCode'.\n//variable declaration is replaced back by export default.\nconst jsCodeToObject = (script: string) => {\n  return script.replace(jsObjectDeclaration, \"export default\");\n};\n\nexport const isFunctionPresent = (\n  script: string,\n  evaluationVersion: number,\n) => {\n  try {\n    const sanitizedScript = sanitizeScript(script, evaluationVersion);\n    const ast = getAST(sanitizedScript, {\n      locations: true,\n      ranges: true,\n    });\n\n    let isFunction = false;\n    simple(ast, {\n      FunctionDeclaration() {\n        isFunction = true;\n      },\n      FunctionExpression() {\n        isFunction = true;\n      },\n      ArrowFunctionExpression() {\n        isFunction = true;\n      },\n    });\n\n    return isFunction;\n  } catch (e) {\n    return false;\n  }\n};\n\nexport function getMemberExpressionObjectFromProperty(\n  propertyName: string,\n  code: string,\n  evaluationVersion = 2,\n) {\n  if (!propertyName) return [];\n  const memberExpressionObjects = new Set<string>();\n  let ast: Node = { end: 0, start: 0, type: \"\" };\n  try {\n    const sanitizedScript = sanitizeScript(code, evaluationVersion);\n    const wrappedCode = wrapCode(sanitizedScript);\n    ast = getAST(wrappedCode, { locations: true });\n    simple(ast, {\n      MemberExpression(node: Node) {\n        const { object, property } = node as MemberExpressionNode;\n        if (!isLiteralNode(property) && !isIdentifierNode(property)) return;\n        const propName = isLiteralNode(property)\n          ? property.value\n          : property.name;\n        if (!isNil(propName) && getStringValue(propName) === propertyName) {\n          const memberExpressionObjectString = generate(object);\n          memberExpressionObjects.add(memberExpressionObjectString);\n        }\n      },\n    });\n    return Array.from(memberExpressionObjects);\n  } catch (e) {\n    return [];\n  }\n}\n","import type { Node } from \"acorn\";\nimport { simple } from \"acorn-walk\";\nimport type {\n  IdentifierNode,\n  LiteralNode,\n  NodeWithLocation,\n  PropertyNode,\n} from \"../index\";\nimport {\n  getAST,\n  isExportDefaultDeclarationNode,\n  isObjectExpression,\n  isTypeOfFunction,\n} from \"../index\";\nimport { generate } from \"astring\";\nimport type { functionParam } from \"../index\";\nimport { getFunctionalParamsFromNode, isPropertyAFunctionNode } from \"../index\";\nimport { SourceType } from \"../../index\";\nimport { attachComments } from \"escodegen\";\nimport { extractContentByPosition } from \"../utils\";\n\nconst jsObjectVariableName =\n  \"____INTERNAL_JS_OBJECT_NAME_USED_FOR_PARSING_____\";\n\nexport const jsObjectDeclaration = `var ${jsObjectVariableName} =`;\n\nexport interface JSPropertyPosition {\n  startLine: number;\n  startColumn: number;\n  endLine: number;\n  endColumn: number;\n  keyStartLine: number;\n  keyEndLine: number;\n  keyStartColumn: number;\n  keyEndColumn: number;\n}\n\ninterface BaseJSProperty {\n  key: string;\n  value: string;\n  type: string;\n  position: Partial<JSPropertyPosition>;\n  rawContent: string;\n}\n\nexport type JSFunctionProperty = BaseJSProperty & {\n  arguments: functionParam[];\n  // If function uses the \"async\" keyword\n  isMarkedAsync: boolean;\n};\nexport type JSVarProperty = BaseJSProperty;\n\nexport type TParsedJSProperty = JSVarProperty | JSFunctionProperty;\n\nexport const isJSFunctionProperty = (\n  t: TParsedJSProperty,\n): t is JSFunctionProperty => {\n  return isTypeOfFunction(t.type);\n};\n\nexport const parseJSObject = (code: string) => {\n  let ast: Node = { end: 0, start: 0, type: \"\" };\n  const result: TParsedJSProperty[] = [];\n  try {\n    const comments: any = [];\n    const token: any = [];\n    ast = getAST(code, {\n      sourceType: SourceType.module,\n      onComment: comments,\n      onToken: token,\n      ranges: true,\n      locations: true,\n    });\n    attachComments(ast, comments, token);\n  } catch (e) {\n    return { parsedObject: result, success: false };\n  }\n\n  const parsedObjectProperties = new Set<TParsedJSProperty>();\n  let JSObjectProperties: NodeWithLocation<PropertyNode>[] = [];\n\n  simple(ast, {\n    ExportDefaultDeclaration(node) {\n      if (\n        !isExportDefaultDeclarationNode(node) ||\n        !isObjectExpression(node.declaration)\n      )\n        return;\n      JSObjectProperties = node.declaration\n        .properties as NodeWithLocation<PropertyNode>[];\n    },\n  });\n\n  JSObjectProperties.forEach((node) => {\n    const propertyKey = node.key as NodeWithLocation<\n      LiteralNode | IdentifierNode\n    >;\n    let property: TParsedJSProperty = {\n      key: generate(node.key),\n      value: generate(node.value),\n      rawContent: extractContentByPosition(code, {\n        from: {\n          line: node.loc.start.line - 1,\n          ch: node.loc.start.column,\n        },\n        to: {\n          line: node.loc.end.line - 1,\n          ch: node.loc.end.column - 1,\n        },\n      }),\n      type: node.value.type,\n      position: {\n        startLine: node.loc.start.line,\n        startColumn: node.loc.start.column,\n        endLine: node.loc.end.line,\n        endColumn: node.loc.end.column,\n        keyStartLine: propertyKey.loc.start.line,\n        keyEndLine: propertyKey.loc.end.line,\n        keyStartColumn: propertyKey.loc.start.column,\n        keyEndColumn: propertyKey.loc.end.column,\n      },\n    };\n\n    if (isPropertyAFunctionNode(node.value)) {\n      // if in future we need default values of each param, we could implement that in getFunctionalParamsFromNode\n      // currently we don't consume it anywhere hence avoiding to calculate that.\n      const params = getFunctionalParamsFromNode(node.value);\n      property = {\n        ...property,\n        arguments: [...params],\n        isMarkedAsync: node.value.async,\n      };\n    }\n\n    parsedObjectProperties.add(property);\n  });\n\n  return { parsedObject: [...parsedObjectProperties], success: true };\n};\n","import unescapeJS from \"unescape-js\";\nimport type { PropertyNode } from \"../index\";\nimport { isLiteralNode } from \"../index\";\n\nconst beginsWithLineBreakRegex = /^\\s+|\\s+$/;\n\nexport function sanitizeScript(js: string, evaluationVersion: number) {\n  // We remove any line breaks from the beginning of the script because that\n  // makes the final function invalid. We also unescape any escaped characters\n  // so that eval can happen\n  //default value of evalutaion version is 2\n  evaluationVersion = evaluationVersion ? evaluationVersion : 2;\n  const trimmedJS = js.replace(beginsWithLineBreakRegex, \"\");\n  return evaluationVersion > 1 ? trimmedJS : unescapeJS(trimmedJS);\n}\n\n// For the times when you need to know if something truly an object like { a: 1, b: 2}\n// typeof, lodash.isObject and others will return false positives for things like array, null, etc\nexport const isTrueObject = (\n  item: unknown,\n): item is Record<string, unknown> => {\n  return Object.prototype.toString.call(item) === \"[object Object]\";\n};\n\nexport const getNameFromPropertyNode = (node: PropertyNode): string =>\n  isLiteralNode(node.key) ? String(node.key.value) : node.key.name;\n\ninterface Position {\n  line: number;\n  ch: number;\n}\n\nexport const extractContentByPosition = (\n  content: string,\n  position: { from: Position; to: Position },\n) => {\n  const eachLine = content.split(\"\\n\");\n\n  let returnedString = \"\";\n\n  for (let i = position.from.line; i <= position.to.line; i++) {\n    if (i === position.from.line) {\n      returnedString =\n        position.from.line !== position.to.line\n          ? eachLine[position.from.line].slice(position.from.ch)\n          : eachLine[position.from.line].slice(\n              position.from.ch,\n              position.to.ch + 1,\n            );\n    } else if (i === position.to.line) {\n      returnedString += eachLine[position.to.line].slice(0, position.to.ch + 1);\n    } else {\n      returnedString += eachLine[i];\n    }\n    if (i !== position.to.line) {\n      returnedString += \"\\n\";\n    }\n  }\n  return returnedString;\n};\n\nexport const getStringValue = (\n  inputValue: string | number | boolean | RegExp,\n) => {\n  if (typeof inputValue === \"object\" || typeof inputValue === \"boolean\") {\n    inputValue = JSON.stringify(inputValue);\n  } else if (typeof inputValue === \"number\" || typeof inputValue === \"string\") {\n    inputValue += \"\";\n  }\n  return inputValue;\n};\n","import type { OtlpSpan, SpanAttributes } from \"./generateTraces\";\nimport { startNestedSpan } from \"./generateTraces\";\nimport type { TimeInput } from \"@opentelemetry/api\";\n\nexport interface WebworkerSpanData {\n  attributes: SpanAttributes;\n  spanName: string;\n  startTime: TimeInput;\n  endTime: TimeInput;\n}\n\n//this is used in webworkers to generate telemetry data\n//this telemetry data is pushed to the main thread which is converted\n//to regular otlp telemetry data and subsequently exported to our telemetry collector\nexport const newWebWorkerSpanData = (\n  spanName: string,\n  attributes: SpanAttributes,\n): WebworkerSpanData => {\n  return {\n    attributes,\n    spanName,\n    startTime: Date.now(),\n    endTime: Date.now(),\n  };\n};\n\nconst addEndTimeForWebWorkerSpanData = (span: WebworkerSpanData) => {\n  span.endTime = Date.now();\n};\n\nexport const profileFn = (\n  spanName: string,\n  attributes: SpanAttributes = {},\n  allSpans: Record<string, WebworkerSpanData | SpanAttributes>,\n  fn: (...args: any[]) => any,\n) => {\n  const span = newWebWorkerSpanData(spanName, attributes);\n  const res = fn();\n  addEndTimeForWebWorkerSpanData(span);\n  allSpans[spanName] = span;\n  return res;\n};\n\n//convert webworker spans to OTLP spans\nexport const convertWebworkerSpansToRegularSpans = (\n  parentSpan: OtlpSpan,\n  allSpans: Record<string, WebworkerSpanData> = {},\n) => {\n  Object.values(allSpans)\n    .filter(({ endTime, startTime }) => startTime && endTime)\n    .forEach((spanData) => {\n      const { attributes, endTime, spanName, startTime } = spanData;\n      const span = startNestedSpan(spanName, parentSpan, attributes, startTime);\n      span?.end(endTime);\n    });\n};\n\nexport const filterSpanData = (\n  spanData: Record<string, WebworkerSpanData | SpanAttributes>,\n): Record<string, WebworkerSpanData> => {\n  return Object.keys(spanData)\n    .filter((key) => !key.startsWith(\"__\"))\n    .reduce<Record<string, WebworkerSpanData>>((obj, key) => {\n      obj[key] = spanData[key] as WebworkerSpanData;\n      return obj;\n    }, {});\n};\n","import type { PageErrorMessageProps } from \"pages/common/ErrorPages/Components/PageErrorMessage\";\n\nexport function createMessage(\n  format: (...strArgs: any[]) => string,\n  ...args: any[]\n) {\n  return format(...args);\n}\n\n/*\n  For self hosted CE, it displays the string \"Appsmith Community v1.10.0\".\n */\nexport const APPSMITH_DISPLAY_VERSION = (edition: string, version: string) =>\n  `Appsmith ${edition} ${version}`;\nexport const INTERCOM_CONSENT_MESSAGE = () =>\n  `Can we have your email for better support?`;\nexport const YES = () => `Yes`;\nexport const ARE_YOU_SURE = () => `Are you sure?`;\nexport const CHAT_WITH_US = () => `Chat with us`;\nexport const ERROR_ADD_API_INVALID_URL = () =>\n  `Unable to create API. Try adding a URL to the datasource`;\nexport const ERROR_MESSAGE_NAME_EMPTY = () => `Please select a name`;\nexport const ERROR_MESSAGE_CREATE_APPLICATION = () =>\n  `We could not create the Application`;\nexport const APPLICATION_NAME_UPDATE = () => `Application name updated`;\nexport const ERROR_EMPTY_APPLICATION_NAME = () =>\n  `Application name can't be empty`;\nexport const API_PATH_START_WITH_SLASH_ERROR = () => `Path cannot start with /`;\nexport const FIELD_REQUIRED_ERROR = () => `This field is required`;\nexport const INPUT_DEFAULT_TEXT_MAX_CHAR_ERROR = (max: number) =>\n  `Default text length must be less than or equal to ${max} characters`;\nexport const INPUT_TEXT_MAX_CHAR_ERROR = (max: number) =>\n  `Input text length must be less than ${max} characters`;\nexport const INPUT_DEFAULT_TEXT_MAX_NUM_ERROR = () =>\n  `Default Text value must be less than Max number allowed`;\nexport const INPUT_DEFAULT_TEXT_MIN_NUM_ERROR = () =>\n  `Default Text value must be greater than Min number allowed`;\nexport const INPUT_INVALID_TYPE_ERROR = () =>\n  `Type Mismatch. Please enter a valid value`;\nexport const VALID_FUNCTION_NAME_ERROR = () =>\n  `Must be a valid variable name (camelCase)`;\nexport const UNIQUE_NAME_ERROR = () => `Name must be unique`;\nexport const NAME_SPACE_ERROR = () => `Name must not have spaces`;\nexport const APLHANUMERIC_HYPHEN_SLASH_SPACE_ERROR = () =>\n  `Name must only contain alphanumeric characters, hyphen, slash, and space`;\n\nexport const FORM_VALIDATION_EMPTY_EMAIL = () => `Please enter an email`;\nexport const FORM_VALIDATION_INVALID_EMAIL = () =>\n  `Please provide a valid email address`;\nexport const ENTER_VIDEO_URL = () => `Please provide a valid url`;\nexport const ENTER_AUDIO_URL = () => `Please provide a valid url`;\n\nexport const FORM_VALIDATION_EMPTY_PASSWORD = () => `Please enter the password`;\nexport const FORM_VALIDATION_PASSWORD_RULE = () =>\n  `Please provide a password between 8 and 48 characters`;\nexport const FORM_VALIDATION_INVALID_PASSWORD = FORM_VALIDATION_PASSWORD_RULE;\n\nexport const LOGIN_PAGE_EMAIL_INPUT_LABEL = () => `Email`;\nexport const LOGIN_PAGE_PASSWORD_INPUT_LABEL = () => `Password`;\nexport const LOGIN_PAGE_EMAIL_INPUT_PLACEHOLDER = () => `Enter your email`;\nexport const LOGIN_PAGE_PASSWORD_INPUT_PLACEHOLDER = () =>\n  `Enter your password`;\nexport const LOGIN_PAGE_INVALID_CREDS_ERROR = () =>\n  `It looks like you may have entered incorrect/invalid credentials. Please try again or reset password using the button below.`;\nexport const LOGIN_PAGE_INVALID_CREDS_FORGOT_PASSWORD_LINK = () =>\n  `Reset password`;\nexport const NEW_TO_APPSMITH = () => `Don't have an account?`;\nexport const LOGIN_PAGE_TITLE = () => `Sign in to your account`;\nexport const LOGIN_PAGE_SUBTITLE = () => `Sign in to your account`;\n\nexport const LOGIN_PAGE_LOGIN_BUTTON_TEXT = () => `Sign in`;\nexport const LOGIN_PAGE_FORGOT_PASSWORD_TEXT = () => `Forgot password`;\nexport const LOGIN_PAGE_REMEMBER_ME_LABEL = () => `Remember`;\nexport const LOGIN_PAGE_SIGN_UP_LINK_TEXT = () => `Sign up`;\nexport const SIGNUP_PAGE_TITLE = () => `Create your account`;\nexport const SIGNUP_PAGE_SUBTITLE = () => `Use your workspace email`;\nexport const SIGNUP_PAGE_EMAIL_INPUT_LABEL = () => `Email`;\nexport const SIGNUP_PAGE_EMAIL_INPUT_PLACEHOLDER = () => `Enter your email`;\nexport const SIGNUP_PAGE_NAME_INPUT_PLACEHOLDER = () => `Name`;\nexport const SIGNUP_PAGE_NAME_INPUT_LABEL = () => `Name`;\nexport const SIGNUP_PAGE_PASSWORD_INPUT_LABEL = () => `Password`;\nexport const SIGNUP_PAGE_PASSWORD_INPUT_PLACEHOLDER = () =>\n  `Enter your password`;\nexport const SIGNUP_PAGE_LOGIN_LINK_TEXT = () => `Sign in`;\nexport const SIGNUP_PAGE_NAME_INPUT_SUBTEXT = () => `How should we call you?`;\nexport const SIGNUP_PAGE_SUBMIT_BUTTON_TEXT = () => `Sign up`;\nexport const ALREADY_HAVE_AN_ACCOUNT = () => `Already have an account?`;\nexport const LOOKING_TO_SELF_HOST = () => \"Looking to self-host Appsmith?\";\nexport const VISIT_OUR_DOCS = () => \"Visit our docs\";\n\nexport const SIGNUP_PAGE_SUCCESS = () =>\n  `Awesome! You have successfully registered.`;\nexport const SIGNUP_PAGE_SUCCESS_LOGIN_BUTTON_TEXT = () => `Login`;\n\nexport const RESET_PASSWORD_PAGE_PASSWORD_INPUT_LABEL = () => `New password`;\nexport const RESET_PASSWORD_PAGE_PASSWORD_INPUT_PLACEHOLDER = () =>\n  `New Password`;\nexport const RESET_PASSWORD_LOGIN_LINK_TEXT = () => `Back to sign in`;\nexport const RESET_PASSWORD_PAGE_TITLE = () => `Reset password`;\nexport const RESET_PASSWORD_SUBMIT_BUTTON_TEXT = () => `Reset`;\nexport const RESET_PASSWORD_PAGE_SUBTITLE = () =>\n  `Create a new password for your account `;\n\nexport const RESET_PASSWORD_RESET_SUCCESS = () =>\n  `Your password has been reset`; //`Your password has been reset. Please login` (see next entry));\nexport const RESET_PASSWORD_RESET_SUCCESS_LOGIN_LINK = () => `Login`;\n\nexport const RESET_PASSWORD_EXPIRED_TOKEN = () =>\n  `The password reset link has expired. Please try generating a new link`;\nexport const RESET_PASSWORD_INVALID_TOKEN = () =>\n  `The password reset link is invalid. Please try generating a new link`;\nexport const RESET_PASSWORD_FORGOT_PASSWORD_LINK = () => `Forgot password`;\n\nexport const FORGOT_PASSWORD_PAGE_EMAIL_INPUT_LABEL = () => `Email`;\nexport const FORGOT_PASSWORD_PAGE_EMAIL_INPUT_PLACEHOLDER = () =>\n  `Enter your email`;\nexport const FORGOT_PASSWORD_PAGE_TITLE = () => `Reset password`;\nexport const FORGOT_PASSWORD_PAGE_SUB_TITLE = () =>\n  `Enter the email address associated with your account`;\nexport const FORGOT_PASSWORD_PAGE_SUBTITLE = () =>\n  `We will send a reset link to the email below`;\nexport const FORGOT_PASSWORD_PAGE_SUBMIT_BUTTON_TEXT = () => `Send reset link`;\nexport const FORGOT_PASSWORD_SUCCESS_TEXT = (email: string) =>\n  `A password reset link has been sent to your email address ${email} registered with Appsmith.`;\n\nexport const VERIFICATION_PENDING_TITLE = () => `Check your inbox`;\nexport const VERIFICATION_PENDING_BODY = () =>\n  `To finish your account setup click on the verification link we have sent in an email to `;\n\nexport const VERIFICATION_PENDING_NOT_YOU = () => `Not you?`;\n\nexport const VERIFICATION_PENDING_NO_EMAIL = () =>\n  `No email in your inbox or spam folder?`;\n\nexport const VERIFICATION_PENDING_RESEND_LINK = () => `Resend link`;\n\nexport const VERIFY_ERROR_ALREADY_VERIFIED_TITLE = () =>\n  `Email already verified`;\n\nexport const VERIFY_ERROR_EXPIRED_TITLE = () => \"Oops, this link has expired\";\n\nexport const VERIFY_ERROR_MISMATCH_TITLE = () =>\n  \"This link seems damaged. Please request a new link\";\n\nexport const PRIVACY_POLICY_LINK = () => `Privacy policy`;\nexport const TERMS_AND_CONDITIONS_LINK = () => `Terms and conditions`;\n\nexport const ERROR_500 = () =>\n  `We apologize, something went wrong. We're trying to fix things.`;\nexport const ERROR_0 = () =>\n  `We could not connect to our servers. Please check your network connection`;\nexport const ERROR_401 = () =>\n  `We are unable to verify your identity. Please login again.`;\nexport const ERROR_413 = (maxFileSize: number) =>\n  `Payload too large. File size cannot exceed ${maxFileSize}MB.`;\nexport const GENERIC_API_EXECUTION_ERROR = () => `API execution error`;\nexport const APPSMITH_HTTP_ERROR_413 = () => `413 CONTENT_TOO_LARGE`;\nexport const ERROR_403 = (entity: string, userEmail: string) =>\n  `Sorry, but your account (${userEmail}) does not seem to have the required access to update this ${entity}. Please get in touch with your Appsmith admin to resolve this.`;\nexport const PAGE_NOT_FOUND_ERROR = () =>\n  `The page you’re looking for either does not exist, or cannot be found`;\nexport const INVALID_URL_ERROR = () => `Invalid URL`;\nexport const INVALID_NAME_ERROR = () => `Invalid name`;\nexport const MAKE_APPLICATION_PUBLIC = () => \"Make application public\";\nexport const MAKE_APPLICATION_PUBLIC_TOOLTIP = () =>\n  \"A public app is accessible to anyone who can access your instance of appsmith\";\nexport const INVITE_TAB = () => \"Invite\";\nexport const INVITE_USERS_VALIDATION_EMAIL_LIST = () =>\n  `Invalid email address(es) found`;\nexport const INVITE_USERS_VALIDATION_ROLE_EMPTY = () => `Please select a role`;\nexport const APPLICATION_INVITE = (name: string) => `Invite users to ${name}`;\nexport const INVITE_USERS_EMAIL_LIST_PLACEHOLDER = () =>\n  `Comma separated emails`;\nexport const INVITE_USERS_ROLE_SELECT_PLACEHOLDER = () => `Select role`;\nexport const INVITE_USERS_ROLE_SELECT_LABEL = () => `Role`;\nexport const INVITE_USERS_EMAIL_LIST_LABEL = () => `User emails`;\nexport const INVITE_USERS_ADD_EMAIL_LIST_FIELD = () => `Add more`;\nexport const INVITE_USERS_MESSAGE = () => `Invite users`;\nexport const INVITE_USERS_PLACEHOLDER = () => `Enter email address(es)`;\nexport const INVITE_USERS_SUBMIT_BUTTON_TEXT = () => `Invite users`;\nexport const INVITE_USERS_SUBMIT_SUCCESS = (\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  cloudHosting?: boolean,\n) => `The users have been invited successfully`;\nexport const INVITE_USER_SUBMIT_SUCCESS = (\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  cloudHosting?: boolean,\n) => `The user has been invited successfully`;\nexport const INVITE_USERS_VALIDATION_EMAILS_EMPTY = () =>\n  `Please enter the user emails`;\nexport const INVITE_USER_RAMP_TEXT = () =>\n  \"Users will have access to all applications in the workspace. For application-level access, try out our \";\nexport const CUSTOM_ROLES_RAMP_TEXT = () =>\n  \"To build and assign custom roles, try out our \";\nexport const ASSIGN_CUSTOM_ROLE = () => \"Assign Custom Role\";\nexport const CUSTOM_ROLE_TEXT = () => \"Custom role\";\nexport const CUSTOM_ROLE_DISABLED_OPTION_TEXT = () =>\n  \"Can access specific applications or only certain pages and queries within an application\";\nexport const USERS_HAVE_ACCESS_TO_ALL_APPS = () =>\n  \"Users will have access to all applications in this workspace\";\nexport const USERS_HAVE_ACCESS_TO_ONLY_THIS_APP = () =>\n  \"Users will only have access to this application\";\nexport const NO_USERS_INVITED = () => \"You haven't invited any users yet\";\nexport const BUSINESS_EDITION_TEXT = () => \"business plan\";\nexport const PARTNER_PROGRAM_CALLOUT = (\n  email: string,\n) => `${email} is outside your organisation. If you’re building this app\nfor someone else, you should check out our partner program.`;\nexport const PARTNER_PROGRAM_CALLOUT_LINK = () =>\n  `Learn about Appsmith Partner Program`;\nexport const NEW_APPLICATION = () => `New application`;\nexport const APPLICATIONS = () => `Applications`;\n\nexport const USER_PROFILE_PICTURE_UPLOAD_FAILED = () =>\n  \"Unable to upload display picture.\";\nexport const UPDATE_USER_DETAILS_FAILED = () =>\n  \"Unable to update user details.\";\nexport const USER_DISPLAY_PICTURE_FILE_INVALID = () =>\n  \"File content doesn't seem to be an image. Please verify.\";\nexport const USER_DISPLAY_NAME_CHAR_CHECK_FAILED = () =>\n  \"No special characters allowed except .'-\";\nexport const USER_DISPLAY_NAME_PLACEHOLDER = () => \"Display name\";\nexport const USER_DISPLAY_PICTURE_PLACEHOLDER = () => \"Display picture\";\nexport const USER_EMAIL_PLACEHOLDER = () => \"Email\";\nexport const USER_RESET_PASSWORD = () => \"Reset password\";\n\nexport const CREATE_PASSWORD_RESET_SUCCESS = () => `Your password has been set`;\nexport const CREATE_PASSWORD_RESET_SUCCESS_LOGIN_LINK = () => `Login`;\n\nexport const FORGOT_PASSWORD_PAGE_LOGIN_LINK = () => `Back to sign in`;\nexport const ADD_API_TO_PAGE_SUCCESS_MESSAGE = (actionName: string) =>\n  `${actionName} API added to page`;\nexport const INPUT_WIDGET_DEFAULT_VALIDATION_ERROR = () => `Invalid input`;\n\nexport const AUTOFIT_ALL_COLUMNS = () => `Autofit all columns`;\nexport const AUTOFIT_THIS_COLUMN = () => `Autofit this column`;\nexport const AUTOFIT_COLUMN = () => `Autofit column`;\n\nexport const DATE_WIDGET_DEFAULT_VALIDATION_ERROR = () => \"Date out of range\";\n\nexport const TIMEZONE = () => `Timezone`;\nexport const ENABLE_TIME = () => `Enable Time`;\n\nexport const EDIT_APP = () => `Edit app`;\nexport const FORK_APP = () => `Fork app`;\nexport const SIGN_IN = () => `Sign in`;\nexport const SHARE_APP = () => `Share app`;\nexport const ALL_APPS = () => `All apps`;\n\nexport const EDITOR_HEADER = {\n  saving: () => \"Saving\",\n  saveFailed: () => \"Save failed\",\n  share: () => \"Share\",\n  previewTooltip: {\n    text: () => \"Preview\",\n    shortcut: () => \"P\",\n  },\n};\n\n// Homepage\nexport const CREATE_NEW_APPLICATION = () => `Create new`;\nexport const SEARCH_APPS = () => `Search for apps...`;\nexport const GETTING_STARTED = () => `Getting started`;\nexport const WORKSPACES_HEADING = () => `Workspaces`;\nexport const CREATE_A_NEW_WORKSPACE = () => `Create a new workspace`;\nexport const WELCOME_TOUR = () => `Welcome tour`;\nexport const NO_APPS_FOUND = () =>\n  `Whale! Whale! This name doesn't ring a bell!`;\nexport const APPLICATION_CARD_LIST_ZERO_STATE = () =>\n  `There are no applications in this workspace.`;\nexport const TRY_GUIDED_TOUR = () => `Try guided tour`;\nexport const JOIN_OUR_DISCORD = () => `Join our discord`;\nexport const WHATS_NEW = () => `What's new?`;\nexport const WORKSPACE_ACTION_BUTTON = () => \"Create new\";\nexport const NEW_APP = () => \"Application\";\nexport const NEW_APP_FROM_TEMPLATE = () => \"Templates\";\nexport const NO_WORKSPACE_HEADING = () => \"Oops! No workspace found\";\nexport const NO_WORKSPACE_DESCRIPTION = () =>\n  \"You can find workspace list on the left sidebar, try selecting one of them to access a workspace.\";\n\n// Lightning menu\nexport const LIGHTNING_MENU_DATA_API = () => `Use data from an API`;\nexport const LIGHTNING_MENU_DATA_QUERY = () => `Use data from a query`;\nexport const LIGHTNING_MENU_DATA_TOOLTIP = () => `Quick start data binding`;\nexport const LIGHTNING_MENU_DATA_WIDGET = () => `Use data from a widget`;\nexport const LIGHTNING_MENU_QUERY_CREATE_NEW = () => `Create new query`;\nexport const LIGHTNING_MENU_API_CREATE_NEW = () => `Create new API`;\n\nexport const LIGHTNING_MENU_OPTION_TEXT = () => `Plain text`;\nexport const LIGHTNING_MENU_OPTION_JS = () => `Write JS`;\nexport const LIGHTNING_MENU_OPTION_HTML = () => `Write HTML`;\nexport const CHECK_REQUEST_BODY = () =>\n  `Please check your request configuration to debug`;\nexport const DONT_SHOW_THIS_AGAIN = () => `Don't show this again`;\n\nexport const TABLE_FILTER_COLUMN_TYPE_CALLOUT = () =>\n  `Change column datatype to see filter operators`;\n\nexport const SAVE_HOTKEY_TOASTER_MESSAGE = () =>\n  \"Don't worry about saving, we've got you covered!\";\n\nexport const WIDGET_SIDEBAR_TITLE = () => `Widgets`;\nexport const WIDGET_SIDEBAR_CAPTION = () =>\n  `Drag a widget and drop it on the canvas`;\nexport const GOOGLE_RECAPTCHA_KEY_ERROR = () =>\n  `Google reCAPTCHA token generation failed! Please check the reCAPTCHA site key.`;\nexport const GOOGLE_RECAPTCHA_DOMAIN_ERROR = () =>\n  `Google reCAPTCHA token generation failed! Please check the allowed domains.`;\n\nexport const SERVER_API_TIMEOUT_ERROR = () =>\n  `Appsmith server is taking too long to respond. Please try again after some time`;\nexport const DEFAULT_ERROR_MESSAGE = () => `There was an unexpected error`;\nexport const REMOVE_FILE_TOOL_TIP = () => \"Remove Upload\";\nexport const ERROR_FILE_TOO_LARGE = (fileSize: string) =>\n  `File size should be less than ${fileSize}!`;\nexport const ERROR_DATEPICKER_MIN_DATE = () =>\n  `Min date cannot be greater than current widget value`;\nexport const ERROR_DATEPICKER_MAX_DATE = () =>\n  `Min date cannot be greater than current widget value`;\nexport const ERROR_WIDGET_DOWNLOAD = (err: string) => `Download failed. ${err}`;\nexport const ERROR_PLUGIN_ACTION_EXECUTE = (actionName: string) =>\n  `${actionName} failed to execute`;\nexport const ACTION_EXECUTION_CANCELLED = (actionName: string) =>\n  `${actionName} was cancelled`;\nexport const ERROR_FAIL_ON_PAGE_LOAD_ACTIONS = () =>\n  `Failed to execute actions during page load`;\nexport const ERROR_ACTION_EXECUTE_FAIL = (actionName: string) =>\n  `${actionName} action returned an error response`;\nexport const ACTION_MOVE_SUCCESS = (actionName: string, pageName: string) =>\n  `${actionName} action moved to page ${pageName} successfully`;\nexport const ERROR_ACTION_MOVE_FAIL = (actionName: string) =>\n  `Error while moving action ${actionName}`;\nexport const ACTION_COPY_SUCCESS = (actionName: string, pageName: string) =>\n  `${actionName} action copied to page ${pageName} successfully`;\nexport const ERROR_ACTION_COPY_FAIL = (actionName: string) =>\n  `Error while copying action ${actionName}`;\nexport const ERROR_ACTION_RENAME_FAIL = (actionName: string) =>\n  `Unable to update action name to ${actionName}`;\n\n// Action Names Messages\nexport const ACTION_NAME_PLACEHOLDER = (type: string) =>\n  `Name of the ${type} in camelCase`;\nexport const ACTION_INVALID_NAME_ERROR = () => \"Please enter a valid name\";\nexport const ACTION_NAME_CONFLICT_ERROR = (name: string) =>\n  `${name} is already being used or is a restricted keyword.`;\nexport const ENTITY_EXPLORER_ACTION_NAME_CONFLICT_ERROR = (name: string) =>\n  `${name} is already being used.`;\n\nexport const ACTION_ID_NOT_FOUND_IN_URL =\n  \"No correct API id or Query id found in the url.\";\nexport const JSOBJECT_ID_NOT_FOUND_IN_URL =\n  \"No correct JS Object id found in the url.\";\n\nexport const DATASOURCE_CREATE = (dsName: string) =>\n  `${dsName} datasource created`;\nexport const DATASOURCE_DELETE = (dsName: string) =>\n  `${dsName} datasource deleted successfully`;\nexport const DATASOURCE_UPDATE = (dsName: string) =>\n  `${dsName} datasource updated successfully`;\nexport const DATASOURCE_VALID = (dsName: string) =>\n  `${dsName} datasource is valid`;\nexport const EDIT_DATASOURCE = () => \"Edit datasource\";\nexport const SAVE_DATASOURCE = () => \"Save as datasource\";\nexport const SAVE_DATASOURCE_MESSAGE = () =>\n  \"Save the URL as a datasource to access authentication settings\";\nexport const EDIT_DATASOURCE_MESSAGE = () =>\n  \"Edit datasource to access authentication settings\";\nexport const OAUTH_ERROR = () => \"OAuth Error\";\nexport const OAUTH_2_0 = () => \"OAuth 2.0\";\nexport const ENABLE = () => \"Enable\";\nexport const UPGRADE = () => \"Upgrade\";\nexport const EDIT = () => \"Edit\";\nexport const CONFIGURE = () => \"Configure\";\nexport const UNEXPECTED_ERROR = () => \"An unexpected error occurred\";\nexport const EXPECTED_ERROR = () => \"An error occurred\";\nexport const NO_DATASOURCE_FOR_QUERY = () =>\n  `Seems like you don’t have any Datasources to create a query`;\nexport const ACTION_EDITOR_REFRESH = () => \"Refresh\";\nexport const INVALID_FORM_CONFIGURATION = () => \"Invalid form configuration\";\nexport const ACTION_RUN_BUTTON_MESSAGE_FIRST_HALF = () => \"🙌 Click on\";\nexport const ACTION_RUN_BUTTON_MESSAGE_SECOND_HALF = () =>\n  \"after adding your query\";\nexport const CREATE_NEW_DATASOURCE = () => \"Create datasource\";\nexport const CREATE_NEW_DATASOURCE_DATABASE_HEADER = () => \"Databases\";\nexport const CREATE_NEW_DATASOURCE_MOST_POPULAR_HEADER = () => \"Most popular\";\nexport const CREATE_NEW_DATASOURCE_REST_API = () => \"REST API\";\nexport const SAMPLE_DATASOURCES = () => \"Sample datasources\";\n\nexport const ERROR_EVAL_ERROR_GENERIC = () =>\n  `Unexpected error occurred while evaluating the application`;\n\nexport const ERROR_EVAL_TRIGGER = (message: string) =>\n  `Error occurred while evaluating trigger: ${message}`;\n\nexport const WIDGET_COPY = (widgetName: string) => `Copied ${widgetName}`;\nexport const ERROR_WIDGET_COPY_NO_WIDGET_SELECTED = () =>\n  `Please select a widget to copy`;\nexport const ERROR_WIDGET_COPY_NOT_ALLOWED = () =>\n  `This selected widget cannot be copied.`;\nexport const WIDGET_CUT = (widgetName: string) => `Cut ${widgetName}`;\nexport const ERROR_WIDGET_CUT_NO_WIDGET_SELECTED = () =>\n  `Please select a widget to cut`;\nexport const ERROR_WIDGET_CUT_NOT_ALLOWED = () =>\n  `This selected widget cannot be cut.`;\nexport const SELECT_ALL_WIDGETS_MSG = () =>\n  `All widgets in this page including modals have been selected`;\nexport const ERROR_ADD_WIDGET_FROM_QUERY = () => `Failed to add widget`;\n\nexport const REST_API_AUTHORIZATION_SUCCESSFUL = () =>\n  \"Authorization was successful!\";\nexport const REST_API_AUTHORIZATION_FAILED = () =>\n  \"Authorization failed. Please check your details or try again.\";\n// Todo: improve this for appsmith_error error message\nexport const REST_API_AUTHORIZATION_APPSMITH_ERROR = () =>\n  \"Something went wrong.\";\n\nexport const OAUTH_AUTHORIZATION_SUCCESSFUL = \"Authorization was successful!\";\nexport const OAUTH_AUTHORIZATION_FAILED =\n  \"Authorization failed. Please check your details or try again.\";\n// Todo: improve this for appsmith_error error message\nexport const OAUTH_AUTHORIZATION_APPSMITH_ERROR = \"Something went wrong.\";\nexport const OAUTH_APPSMITH_TOKEN_NOT_FOUND = \"Appsmith token not found\";\n\nexport const GSHEET_AUTHORIZATION_ERROR =\n  \"Authorisation failed, to continue using this data source authorize now.\";\nexport const GSHEET_FILES_NOT_SELECTED =\n  \"Datasource does not have access to any files, please authorize google sheets to use this data source\";\nexport const FILES_NOT_SELECTED_EVENT = () => \"Files not selected\";\n\nexport const LOCAL_STORAGE_QUOTA_EXCEEDED_MESSAGE = () =>\n  \"Error saving a key in localStorage. You have exceeded the allowed storage size limit\";\nexport const LOCAL_STORAGE_NO_SPACE_LEFT_ON_DEVICE_MESSAGE = () =>\n  \"Error saving a key in localStorage. You have run out of disk space\";\nexport const LOCAL_STORAGE_NOT_SUPPORTED_APP_MIGHT_NOT_WORK_AS_EXPECTED = () =>\n  \"LocalStorage is not supported on your device. Some features including the Appsmith store won't work.\";\n\nexport const OMNIBAR_PLACEHOLDER = () =>\n  `Search widgets, queries or create new`;\nexport const OMNIBAR_PLACEHOLDER_NAV = () => \"Search widgets and queries\";\nexport const CREATE_NEW_OMNIBAR_PLACEHOLDER = () =>\n  \"Create a new query, API or JS Object\";\nexport const HELPBAR_PLACEHOLDER = () => \"Search\";\nexport const NO_SEARCH_DATA_TEXT = () => \"No results found\";\n\nexport const WIDGET_BIND_HELP = () =>\n  \"Having trouble taking inputs from widgets?\";\n\nexport const BACK_TO_HOMEPAGE = () => \"Go back to homepage\";\n\n// error pages\nexport const PAGE_NOT_FOUND_TITLE = () => \"404\";\nexport const PAGE_NOT_FOUND = () => \"Page not found\";\nexport const PAGE_SERVER_TIMEOUT_ERROR_CODE = () => \"504\";\nexport const PAGE_SERVER_TIMEOUT_TITLE = () =>\n  \"Appsmith server is taking too long to respond\";\nexport const PAGE_SERVER_TIMEOUT_DESCRIPTION = () =>\n  `Please retry after some time`;\nexport const PAGE_CLIENT_ERROR_TITLE = () => \"Whoops something went wrong!\";\nexport const PAGE_CLIENT_ERROR_DESCRIPTION = () =>\n  \"This is embarrassing, please contact Appsmith support for help\";\n\nexport const PAGE_SERVER_UNAVAILABLE_ERROR_CODE = () => \"503\";\n\n// Modules\nexport const CONVERT_MODULE_CTA_TEXT = () => \"Create module\";\nexport const CONVERT_MODULE_TO_NEW_PKG_OPTION = () => \"Add to a new package\";\n\n// cloudHosting used in EE\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport const PAGE_SERVER_UNAVAILABLE_TITLE = (cloudHosting: boolean) =>\n  \"Appsmith server unavailable\";\n\nexport const PAGE_SERVER_UNAVAILABLE_DESCRIPTION = () =>\n  \"Please try again later\";\n\nexport const PAGE_SERVER_UNAVAILABLE_ERROR_MESSAGES = (\n  cloudHosting: boolean,\n): PageErrorMessageProps[] => {\n  if (cloudHosting) {\n    return [\n      {\n        text: \"If the problem persists, please contact customer support\",\n        links: [\n          {\n            from: 40,\n            to: 56,\n            href: \"mailto: support@appsmith.com?subject=Appsmith 503 Server Error\",\n          },\n        ],\n        addNewLine: true,\n      },\n    ];\n  } else {\n    return [\n      {\n        text: \"If the problem persists, please contact your admin\",\n        addNewLine: true,\n      },\n      {\n        text: \"You can find more information on how to debug and access the logs here\",\n        links: [\n          {\n            from: 66,\n            to: 70,\n            href: \"https://docs.appsmith.com/learning-and-resources/how-to-guides/how-to-get-container-logs\",\n          },\n        ],\n        addNewLine: true,\n      },\n      {\n        text: \"A quick view of the server logs is accessible here\",\n        links: [\n          {\n            from: 46,\n            to: 50,\n            href: \"/supervisor/logtail/backend\",\n          },\n        ],\n      },\n    ];\n  }\n};\n\n// comments\nexport const POST = () => \"Post\";\nexport const CANCEL = () => \"Cancel\";\nexport const REMOVE = () => \"Remove\";\nexport const CREATE = () => \"Create\";\n\n// Showcase Carousel\nexport const NEXT = () => \"NEXT\";\nexport const BACK = () => \"BACK\";\nexport const SKIP = () => \"SKIP\";\n\n// Debugger\nexport const CLICK_ON = () => \"🙌 Click on \";\nexport const PRESS = () => \"🎉 Press \";\nexport const OPEN_THE_DEBUGGER = () => \" to show/hide the debugger\";\nexport const DEBUGGER_QUERY_RESPONSE_SECOND_HALF = () =>\n  \" to see more info in the debugger\";\nexport const LOGS_FILTER_OPTION_ALL = () => \"Show all logs\";\nexport const LOGS_FILTER_OPTION_ERROR = () => \"Error logs\";\nexport const LOGS_FILTER_OPTION_CONSOLE = () => \"Console logs\";\nexport const LOGS_FILTER_OPTION_SYSTEM = () => \"System logs\";\nexport const NO_LOGS = () => \"No logs to show\";\nexport const NO_ERRORS = () => \"No signs of trouble here!\";\nexport const DEBUGGER_ERRORS = () => \"Errors\";\nexport const DEBUGGER_RESPONSE = () => \"Response\";\nexport const DEBUGGER_LOGS = () => \"Logs\";\nexport const INSPECT_ENTITY = () => \"Inspect entity\";\nexport const INSPECT_ENTITY_BLANK_STATE = () => \"Select an entity to inspect\";\nexport const VALUE_IS_INVALID = (propertyPath: string) =>\n  `The value at ${propertyPath} is invalid`;\nexport const ACTION_CONFIGURATION_UPDATED = () => \"Configuration updated\";\nexport const WIDGET_PROPERTIES_UPDATED = () => \"Widget properties were updated\";\nexport const EMPTY_RESPONSE_FIRST_HALF = () => \"🙌 Click on\";\nexport const EMPTY_RESPONSE_LAST_HALF = () => \"to get a response\";\nexport const EMPTY_JS_RESPONSE_LAST_HALF = () =>\n  \"to view response of selected function\";\nexport const INVALID_EMAIL = () => \"Please enter a valid email\";\nexport const DEBUGGER_INTERCOM_TEXT = (text: string) =>\n  `Hi, \\nI'm facing the following error on Appsmith, can you please help? \\n\\n${text}`;\nexport const DEBUGGER_TRIGGER_ERROR = (propertyName: string) =>\n  `Error occurred while evaluating trigger ${propertyName}`;\n\nexport const TROUBLESHOOT_ISSUE = () => \"Troubleshoot issue\";\nexport const DEBUGGER_OPEN_DOCUMENTATION = () => \"Open documentation\";\nexport const DEBUGGER_SEARCH_SNIPPET = () => \"Browse code snippets\";\nexport const DEBUGGER_APPSMITH_SUPPORT = () => \"Get Appsmith support\";\n\n//action creator menu\nexport const NO_ACTION = () => `No action`;\nexport const EXECUTE_A_QUERY = () => `Execute a query`;\nexport const NAVIGATE_TO = () => `Navigate to`;\nexport const SHOW_ALERT = () => `Show alert`;\nexport const SHOW_MODAL = () => `Show modal`;\nexport const CLOSE_MODAL = () => `Close modal`;\nexport const CLOSE = () => `Close`;\nexport const STORE_VALUE = () => `Store value`;\nexport const REMOVE_VALUE = () => `Remove value`;\nexport const CLEAR_STORE = () => `Clear store`;\nexport const DOWNLOAD = () => `Download`;\nexport const COPY_TO_CLIPBOARD = () => `Copy to clipboard`;\nexport const RESET_WIDGET = () => `Reset widget`;\nexport const EXECUTE_JS_FUNCTION = () => `Execute a JS function`;\nexport const SET_INTERVAL = () => `Set interval`;\nexport const CLEAR_INTERVAL = () => `Clear interval`;\nexport const GET_GEO_LOCATION = () => `Get geolocation`;\nexport const WATCH_GEO_LOCATION = () => `Watch geolocation`;\nexport const STOP_WATCH_GEO_LOCATION = () => `Stop watching geolocation`;\nexport const POST_MESSAGE = () => `Post message`;\n\n//js actions\nexport const JS_ACTION_COPY_SUCCESS = (actionName: string, pageName: string) =>\n  `${actionName} copied to page ${pageName} successfully`;\nexport const ERROR_JS_ACTION_COPY_FAIL = (actionName: string) =>\n  `Error while copying ${actionName}`;\nexport const JS_ACTION_DELETE_SUCCESS = (actionName: string) =>\n  `${actionName} deleted successfully`;\nexport const JS_ACTION_MOVE_SUCCESS = (actionName: string, pageName: string) =>\n  `${actionName} moved to page ${pageName} successfully`;\nexport const ERROR_JS_ACTION_MOVE_FAIL = (actionName: string) =>\n  `Error while moving ${actionName}`;\nexport const ERROR_JS_COLLECTION_RENAME_FAIL = (actionName: string) =>\n  `Unable to update JS collection name to ${actionName}`;\nexport const PARSE_JS_FUNCTION_ERROR = (message: string) =>\n  `Syntax error: ${message}`;\n\nexport const EXECUTING_FUNCTION = () => `Executing function`;\nexport const UPDATING_JS_COLLECTION = () => `Updating...`;\nexport const EMPTY_JS_OBJECT = () =>\n  `Nothing to show, write some code to get response`;\nexport const EXPORT_DEFAULT_BEGINNING = () =>\n  `Start object with export default`;\nexport const ACTION_EXECUTION_FAILED = (actionName: string) =>\n  `The action \"${actionName}\" has failed.`;\nexport const JS_EXECUTION_SUCCESS = () => \"JS Function executed successfully\";\nexport const JS_EXECUTION_FAILURE = () => \"JS Function execution failed\";\nexport const JS_EXECUTION_FAILURE_TOASTER = () =>\n  \"There was an error while executing function\";\nexport const JS_SETTINGS_ONPAGELOAD = () => \"Run function on page load (Beta)\";\nexport const JS_SETTINGS_ONPAGELOAD_SUBTEXT = () =>\n  \"Will refresh data every time page is reloaded\";\nexport const JS_SETTINGS_CONFIRM_EXECUTION = () =>\n  \"Request confirmation before calling function?\";\nexport const JS_SETTINGS_CONFIRM_EXECUTION_SUBTEXT = () =>\n  \"Ask confirmation from the user every time before refreshing data\";\nexport const JS_SETTINGS_EXECUTE_TIMEOUT = () =>\n  \"Function timeout (in milliseconds)\";\nexport const FUNCTION_SETTINGS_HEADING = () => \"Function settings\";\nexport const NO_JS_FUNCTIONS = () => \"There is no function in this JS Object\";\nexport const NO_JS_FUNCTION_TO_RUN = (JSObjectName: string) =>\n  `${JSObjectName} has no function`;\nexport const NO_JS_FUNCTION_RETURN_VALUE = (JSFunctionName: string) =>\n  `${JSFunctionName} did not return any data. Did you add a return statement?`;\n\nexport const REMOVE_CONFIRM_BEFORE_CALLING_HEADING = () =>\n  `Remove 'Confirm before calling' `;\nexport const REMOVE_CONFIRM_BEFORE_CALLING_DESCRIPTION =\n  () => `By turning off this setting, you won't be able to undo or turn on this setting again,\nas it has been deprecated. Are you sure you want to proceed?`;\n\n// Import/Export Application features\nexport const ERROR_IMPORTING_APPLICATION_TO_WORKSPACE = () =>\n  \"Error importing application. No workspace found\";\nexport const IMPORT_APPLICATION_MODAL_TITLE = () => \"Import application\";\nexport const IMPORT_APPLICATION_MODAL_LABEL = () =>\n  \"Where would you like to import your application from?\";\nexport const IMPORT_APP_FROM_FILE_TITLE = () => \"Import from file\";\nexport const UPLOADING_JSON = () => \"Uploading JSON file\";\nexport const UPLOADING_APPLICATION = () => \"Uploading application\";\nexport const IMPORT_APP_FROM_GIT_TITLE = () =>\n  \"Import from Git repository (Beta)\";\nexport const IMPORT_APP_FROM_FILE_MESSAGE = () =>\n  \"Drag and drop your file or upload from your computer\";\nexport const IMPORT_APP_FROM_GIT_MESSAGE = () =>\n  \"Import an application from its Git repository using its SSH URL\";\nexport const IMPORT_FROM_GIT_REPOSITORY = () => \"Import from Git repository\";\nexport const RECONNECT_MISSING_DATASOURCE_CREDENTIALS = () =>\n  \"Reconnect missing datasource credentials\";\nexport const RECONNECT_MISSING_DATASOURCE_CREDENTIALS_DESCRIPTION = () =>\n  \"Fill these with utmost care as the application will not behave normally otherwise\";\nexport const RECONNECT_DATASOURCE_SUCCESS_MESSAGE1 = () =>\n  \"These datasources were imported successfully!\";\nexport const RECONNECT_DATASOURCE_SUCCESS_MESSAGE2 = () =>\n  \"Please fill up the missing datasources\";\nexport const ADD_MISSING_DATASOURCES = () => \"Add missing datasources\";\nexport const SKIP_TO_APPLICATION_TOOLTIP_HEADER = () =>\n  \"This action is irreversible.\";\nexport const SKIP_TO_APPLICATION_TOOLTIP_DESCRIPTION = () =>\n  `Skip this step to configure datasources later`;\nexport const SKIP_TO_APPLICATION = () => \"Go to application\";\nexport const SKIP_CONFIGURATION = () => \"Skip configuration\";\nexport const SELECT_A_METHOD_TO_ADD_CREDENTIALS = () =>\n  \"Select a method to add credentials\";\nexport const DELETE_CONFIRMATION_MODAL_TITLE = () => `Are you sure?`;\nexport const DELETE_CONFIRMATION_MODAL_SUBTITLE = (\n  name?: string | null,\n  entityType?: string,\n) =>\n  `You want to remove ${name} from this ${\n    entityType === \"Application\" ? \"application\" : \"workspace\"\n  }`;\nexport const PARSING_ERROR = () =>\n  \"Syntax error: Unable to parse code, please check error logs to debug\";\nexport const PARSING_WARNING = () =>\n  \"Linting errors: Please resolve linting errors before using these functions\";\nexport const JS_FUNCTION_CREATE_SUCCESS = () =>\n  \"New JS function added successfully\";\nexport const JS_FUNCTION_UPDATE_SUCCESS = () =>\n  \"JS Function updated successfully\";\nexport const JS_FUNCTION_DELETE_SUCCESS = () =>\n  \"JS function deleted successfully\";\nexport const JS_OBJECT_BODY_INVALID = () => \"JS Object could not be parsed\";\nexport const JS_ACTION_EXECUTION_ERROR = (jsFunctionName: string) =>\n  `An error occured while trying to execute ${jsFunctionName}, please check error logs to debug`;\n//Editor Page\nexport const EDITOR_HEADER_SAVE_INDICATOR = () => \"Saved\";\n\n//Import Application Succesful\nexport const IMPORT_APP_SUCCESSFUL = () => \"Application imported successfully\";\n//Unable to import application in workspace\nexport const UNABLE_TO_IMPORT_APP = () =>\n  \"Unable to import application in workspace\";\n//\nexport const ERROR_IN_EXPORTING_APP = () =>\n  \"Error exporting application. Please try again.\";\n//undo redo\nexport const WIDGET_REMOVED = (widgetName: string) =>\n  `${widgetName} is removed`;\nexport const WIDGET_ADDED = (widgetName: string) =>\n  `${widgetName} is added back`;\nexport const BULK_WIDGET_REMOVED = (widgetName: string) =>\n  `${widgetName} widgets are removed`;\nexport const BULK_WIDGET_ADDED = (widgetName: string) =>\n  `${widgetName} widgets are added back`;\n\nexport const ACTION_CONFIGURATION_CHANGED = (name: string) =>\n  `${name}'s configuration has changed`;\n\n// Generate page from DB Messages\n\nexport const UNSUPPORTED_PLUGIN_DIALOG_TITLE = () =>\n  `We could not auto-generate a page from this Datasource`;\n\nexport const UNSUPPORTED_PLUGIN_DIALOG_SUBTITLE = () =>\n  `You can continue building your app with it using our drag & drop builder`;\nexport const UNSUPPORTED_PLUGIN_DIALOG_MAIN_HEADING = () =>\n  `Issue with auto generation`;\n\nexport const BUILD_FROM_SCRATCH_ACTION_SUBTITLE = () =>\n  \"Start from scratch and create your custom UI\";\n\nexport const BUILD_FROM_SCRATCH_ACTION_TITLE = () => \"Build with drag & drop\";\n\nexport const GENERATE_PAGE_ACTION_TITLE = () => \"Generate page with data\";\n\nexport const GENERATE_PAGE_FORM_TITLE = () => \"Generate from data\";\n\nexport const GEN_CRUD_SUCCESS_MESSAGE = () =>\n  \"Hurray! Your application is ready for use.\";\nexport const GEN_CRUD_INFO_DIALOG_TITLE = () => \"How it works?\";\nexport const GEN_CRUD_INFO_DIALOG_SUBTITLE = () =>\n  \"CRUD page is generated from selected datasource. You can use the form to modify data. Since all your data is already connected, you can add more queries and modify the bindings\";\nexport const GEN_CRUD_COLUMN_HEADER_TITLE = () => \"Column headers fetched\";\nexport const GEN_CRUD_NO_COLUMNS = () => \"No columns found\";\nexport const GEN_CRUD_DATASOURCE_DROPDOWN_LABEL = () => \"Select datasource\";\nexport const GEN_CRUD_TABLE_HEADER_LABEL = () => \"Table header index\";\nexport const GEN_CRUD_TABLE_HEADER_TOOLTIP_DESC = () =>\n  \"Row index of the column headers in the sheet table\";\n// Actions Right pane\nexport const SEE_CONNECTED_ENTITIES = () => \"See all connected entities\";\nexport const INCOMING_ENTITIES = () => \"Incoming entities\";\nexport const NO_INCOMING_ENTITIES = () => \"No incoming entities\";\nexport const OUTGOING_ENTITIES = () => \"Outgoing entities\";\nexport const NO_OUTGOING_ENTITIES = () => \"No outgoing entities\";\nexport const NO_CONNECTIONS = () => \"No connections to show here\";\nexport const BACK_TO_CANVAS = () => \"Back to canvas\";\nexport const SUGGESTED_WIDGET_DESCRIPTION = () =>\n  \"This will add a new widget to the canvas.\";\nexport const ADD_NEW_WIDGET = () => \"Add a widget\";\nexport const SUGGESTED_WIDGETS = () => \"Suggested widgets\";\nexport const SUGGESTED_WIDGET_TOOLTIP = () => \"Add to canvas\";\nexport const WELCOME_TOUR_STICKY_BUTTON_TEXT = () => \"Next mission\";\nexport const BINDING_SECTION_LABEL = () => \"Bindings\";\nexport const ADD_NEW_WIDGET_SUB_HEADING = () =>\n  \"Select how you want to display data.\";\nexport const CONNECT_EXISTING_WIDGET_LABEL = () => \"Select a widget\";\nexport const CONNECT_EXISTING_WIDGET_SUB_HEADING = () =>\n  \"Replace the data of an existing widget\";\nexport const NO_EXISTING_WIDGETS = () => \"Display data in a new widget\";\nexport const BINDING_WALKTHROUGH_TITLE = () => \"Display your data\";\nexport const BINDING_WALKTHROUGH_DESC = () =>\n  \"You can replace data of an existing widget of your page or you can select a new widget.\";\nexport const BINDINGS_DISABLED_TOOLTIP = () =>\n  \"You can display data when you have a successful response to your query\";\n\n// Data Sources pane\nexport const EMPTY_ACTIVE_DATA_SOURCES = () => \"No active datasources found.\";\n\n// Datasource structure\n\nexport const SCHEMA_NOT_AVAILABLE = () => \"Schema not available\";\nexport const TABLE_NOT_FOUND = () => \"Table not found.\";\nexport const DATASOURCE_STRUCTURE_INPUT_PLACEHOLDER_TEXT = (name: string) =>\n  `Tables in ${name}`;\nexport const SCHEMA_LABEL = () => \"Schema\";\nexport const STRUCTURE_NOT_FETCHED = () =>\n  \"We could not fetch the schema of the database.\";\nexport const TEST_DATASOURCE_AND_FIX_ERRORS = () =>\n  \"Test the datasource and fix the errors.\";\nexport const LOADING_SCHEMA = () => \"Loading schema...\";\nexport const SCHEMA_WALKTHROUGH_TITLE = () => \"Query data fast\";\nexport const SCHEMA_WALKTHROUGH_DESC = () =>\n  \"Select a template from a database table to quickly create your first query. \";\nexport const SUGGESTED_TAG = () => \"Suggested\";\n\n// structure - View Mode\n\nexport const DATASOURCE_VIEW_DATA_TAB = () => \"View data\";\nexport const DATASOURCE_CONFIGURATIONS_TAB = () => \"Configurations\";\nexport const DATASOURCE_NO_RECORDS_TO_SHOW = () => \"No data records to show\";\n\n// Git sync\nexport const CONNECTED_TO_GIT = () => \"Connected to Git\";\n\nexport const GIT_DISCONNECT_POPUP_TITLE = () =>\n  `This will disconnect the Git repository from this application`;\n\nexport const GIT_DISCONNECT_POPUP_SUBTITLE = () =>\n  `Git features will no more be shown for this application`;\nexport const GIT_DISCONNECT_POPUP_MAIN_HEADING = () => `Are you sure?`;\n\nexport const CONFIGURE_GIT = () => \"Configure Git\";\nexport const IMPORT_APP = () => \"Import app via Git\";\nexport const SETTINGS_GIT = () => \"Settings\";\n\nexport const GIT_CONNECTION = () => \"Git connection\";\nexport const GIT_IMPORT = () => \"Git import\";\nexport const MERGE = () => \"Merge\";\nexport const GIT_SETTINGS = () => \"Git settings\";\nexport const CONNECT_TO_GIT = () => \"Connect to Git repository\";\nexport const CONNECT_TO_GIT_SUBTITLE = () =>\n  \"Checkout branches, make commits, and deploy your application\";\nexport const REMOTE_URL = () => \"Remote URL\";\nexport const REMOTE_URL_INFO = () =>\n  `Create an empty Git repository and paste the remote URL here.`;\nexport const IMPORT_URL_INFO = () => `Paste the remote URL here:`;\nexport const REMOTE_URL_VIA = () => \"Remote URL via\";\n\nexport const USER_PROFILE_SETTINGS_TITLE = () => \"User settings\";\nexport const GIT_USER_SETTINGS_TITLE = () => \"Git author\";\n\nexport const USE_DEFAULT_CONFIGURATION = () => \"Use default configuration\";\nexport const AUTHOR_NAME_ONLY = () => \"Name\";\nexport const AUTHOR_EMAIL_ONLY = () => \"E-mail\";\nexport const AUTHOR_NAME = () => \"Author name\";\nexport const AUTHOR_EMAIL = () => \"Author email\";\nexport const AUTHOR_NAME_CANNOT_BE_EMPTY = () => \"Author name cannot be empty\";\nexport const AUTHOR_EMAIL_CANNOT_BE_EMPTY = () =>\n  \"Author email cannot be empty\";\n\nexport const NAME_YOUR_NEW_BRANCH = () => \"Name your new branch\";\nexport const SWITCH_BRANCHES = () => \"Switch branches\";\n\nexport const DOCUMENTATION = () => \"Documentation\";\nexport const DOCUMENTATION_TOOLTIP = () => \"Open docs in new tab\";\nexport const CONNECT = () => \"Connect\";\nexport const LATEST_DP_TITLE = () => \"Latest deployed preview\";\nexport const LATEST_DP_SUBTITLE = () => \"last deployed\";\nexport const CHECK_DP = () => \"CHECK\";\nexport const DEPLOY_TO_CLOUD = () => \"Deploy to cloud\";\nexport const DEPLOY_WITHOUT_GIT = () =>\n  \"Deploy your application without version control\";\nexport const COMMIT_CHANGES = () => \"Commit changes\";\nexport const COMMIT_TO = () => \"Commit to\";\nexport const COMMIT_AND_PUSH = () => \"Commit & push\";\nexport const PULL_CHANGES = () => \"Pull changes\";\nexport const REGENERATE_SSH_KEY = (keyType: string, keySize: number) =>\n  `Regenerate ${keyType} ${keySize} key`;\nexport const GENERATE_SSH_KEY = (keyType: string, keySize: number) =>\n  `${keyType} ${keySize} key`;\nexport const SSH_KEY_PLATFORM = (name: string) => ` (${name})`;\nexport const SSH_KEY = () => \"SSH key\";\nexport const COPY_SSH_KEY = () => \"Copy SSH key\";\nexport const SSH_KEY_GENERATED = () => \"SSH key generated\";\nexport const REGENERATE_KEY_CONFIRM_MESSAGE = () =>\n  \"This might cause the application to break. This key needs to be updated in your Git repository too!\";\nexport const DEPLOY_KEY_USAGE_GUIDE_MESSAGE = () =>\n  \"Paste this key in your repository settings and give it write access.\";\nexport const COMMITTING_AND_PUSHING_CHANGES = () =>\n  \"Committing and pushing changes...\";\nexport const DISCARDING_AND_PULLING_CHANGES = () =>\n  \"Discarding and pulling changes...\";\nexport const DISCARD_SUCCESS = () => \"Discarded changes successfully.\";\nexport const DISCARD_AND_PULL_SUCCESS = () => \"Pulled from remote successfully\";\n\nexport const IS_MERGING = () => \"Merging changes...\";\n\nexport const MERGE_CHANGES = () => \"Merge changes\";\nexport const SELECT_BRANCH_TO_MERGE = () => \"Select branch to merge\";\nexport const CONNECT_GIT = () => \"Connect Git\";\nexport const CONNECT_GIT_BETA = () => \"Connect Git (Beta)\";\nexport const RETRY = () => \"Retry\";\nexport const CREATE_NEW_BRANCH = () => \"Create new branch\";\nexport const ERROR_WHILE_PULLING_CHANGES = () => \"ERROR WHILE PULLING CHANGES\";\nexport const SUBMIT = () => \"Submit\";\nexport const GIT_USER_UPDATED_SUCCESSFULLY = () =>\n  \"Git user updated successfully\";\nexport const REMOTE_URL_INPUT_PLACEHOLDER = () =>\n  \"git@example.com:user/repository.git\";\nexport const GIT_COMMIT_MESSAGE_PLACEHOLDER = () => \"Your commit message here\";\nexport const INVALID_USER_DETAILS_MSG = () => \"Please enter valid user details\";\nexport const PASTE_SSH_URL_INFO = () =>\n  \"Please enter a valid SSH URL of your repository\";\nexport const GENERATE_KEY = () => \"Generate key\";\nexport const UPDATE_CONFIG = () => \"Update config\";\nexport const CONNECT_BTN_LABEL = () => \"Connect\";\nexport const IMPORT_BTN_LABEL = () => \"Import\";\nexport const FETCH_GIT_STATUS = () => \"Fetching status...\";\nexport const FETCH_MERGE_STATUS = () => \"Checking mergeability...\";\nexport const NO_MERGE_CONFLICT = () =>\n  \"This branch has no conflicts with the base branch.\";\nexport const MERGE_CONFLICT_ERROR = () => \"Merge conflicts found!\";\nexport const FETCH_MERGE_STATUS_FAILURE = () => \"Unable to fetch merge status\";\nexport const GIT_UPSTREAM_CHANGES = () =>\n  \"Looks like there are pending upstream changes. We will pull the changes and push them to your repository.\";\nexport const GIT_CONFLICTING_INFO = () =>\n  \"Please resolve the merge conflicts manually on your repository.\";\nexport const CANNOT_PULL_WITH_LOCAL_UNCOMMITTED_CHANGES = () =>\n  \"You have uncommitted changes. Please commit or discard before pulling the remote changes.\";\nexport const CANNOT_MERGE_DUE_TO_UNCOMMITTED_CHANGES = () =>\n  \"Your current branch has uncommitted changes. Please commit them before proceeding to merge.\";\n\nexport const DISCONNECT_SERVICE_SUBHEADER = () =>\n  \"Changes to this section can disrupt user authentication. Proceed with caution.\";\nexport const DISCONNECT_SERVICE_WARNING = () =>\n  \"will be removed as primary method of authentication\";\nexport const AUTHENTICATION_METHOD_ENABLED = (methodName: string) => `\n  ${methodName} authentication is enabled\n`;\n\nexport const REVOKE_EXISTING_REPOSITORIES = () =>\n  \"Revoke existing repositories\";\nexport const REVOKE_EXISTING_REPOSITORIES_INFO = () =>\n  \"To make space for newer repositories, you can remove existing repositories.\";\nexport const CONTACT_SUPPORT = () => \"Contact support\";\nexport const CONTACT_SALES_MESSAGE_ON_INTERCOM = (workspaceName: string) =>\n  `Hey there, thanks for getting in touch! We understand that you’d like to extend the number of private repos for your ${workspaceName}. Could you tell us how many private repositories you require and why? We'll get back to you in a short while.`;\nexport const REPOSITORY_LIMIT_REACHED = () => \"Repository limit reached\";\nexport const REPOSITORY_LIMIT_REACHED_INFO = () =>\n  \"Adding and using upto 3 repositories is free. To add more repositories, kindly upgrade.\";\nexport const APPLICATION_IMPORT_SUCCESS = () =>\n  `Your application is ready to use.`;\nexport const APPLICATION_IMPORT_SUCCESS_DESCRIPTION = () =>\n  \"All your datasources are configured and ready to use.\";\nexport const NONE_REVERSIBLE_MESSAGE = () =>\n  \"This action is non-reversible. Please proceed with caution.\";\nexport const CONTACT_SUPPORT_TO_UPGRADE = () =>\n  \"Please contact support to upgrade. You can add unlimited private repositories in upgraded plan.\";\nexport const REVOKE_CAUSE_APPLICATION_BREAK = () =>\n  \"Revoking your repository might cause the application to break.\";\nexport const REVOKE_GIT = () => \"Revoke access\";\nexport const DISCONNECT = () => \"Disconnect\";\nexport const REVOKE = () => \"Revoke\";\nexport const REVOKE_ACCESS = () => \"Revoke Access\";\nexport const GIT_DISCONNECTION_SUBMENU = () => \"Git Connection > Disconnect\";\nexport const DISCONNECT_FROM_GIT = (name: string) =>\n  `Disconnect ${name} from Git`;\nexport const GIT_REVOKE_ACCESS = (name: string) => `Revoke access to ${name}`;\nexport const GIT_TYPE_REPO_NAME_FOR_REVOKING_ACCESS = (name: string) =>\n  `Type “${name}” in the input box to revoke access.`;\nexport const APPLICATION_NAME = () => \"Application name\";\nexport const OPEN_REPO = () => \"Open repository\";\nexport const CONNECTING_REPO = () => \"Connecting to Git repository\";\nexport const IMPORTING_APP_FROM_GIT = () => \"Importing application from Git\";\nexport const CONFIRM_SSH_KEY = () =>\n  \"Please make sure your SSH key has write access.\";\nexport const READ_DOCUMENTATION = () => \"Read documentation\";\nexport const LEARN_MORE = () => \"Learn more\";\n\nexport const I_UNDERSTAND = () => \"I understand\";\nexport const GIT_NO_UPDATED_TOOLTIP = () => \"No new updates to push\";\n\nexport const FIND_OR_CREATE_A_BRANCH = () => \"Find or create a branch\";\nexport const SYNC_BRANCHES = () => \"Sync branches\";\n\nexport const CONFLICTS_FOUND = () =>\n  \"Conflicts found. Please resolve them and pull again.\";\nexport const UNCOMMITTED_CHANGES = () => \"You have uncommitted changes\";\nexport const NO_COMMITS_TO_PULL = () =>\n  \"No commits to pull. This branch is in sync with the remote repository\";\nexport const CONFLICTS_FOUND_WHILE_PULLING_CHANGES = () =>\n  \"Conflicts found while pulling changes.\";\nexport const NOT_LIVE_FOR_YOU_YET = () => \"It's not live for you yet\";\nexport const COMING_SOON = () => \"Coming Soon!\";\nexport const CONNECTING_TO_REPO_DISABLED = () =>\n  \"Connecting to a Git repository is disabled\";\nexport const DURING_ONBOARDING_TOUR = () => \"during the onboarding tour\";\nexport const MERGED_SUCCESSFULLY = () => \"Merged successfully\";\nexport const DISCARD_CHANGES_WARNING = () =>\n  \"This action will replace your local changes with the latest remote version.\";\nexport const DISCARD_CHANGES = () => \"Discard & pull\";\n\n// GIT DEPLOY begin\nexport const DEPLOY = () => \"Deploy\";\nexport const DEPLOY_YOUR_APPLICATION = () => \"Deploy your application\";\nexport const CHANGES_APP_SETTINGS = () => \"Application settings modified\";\nexport const CHANGES_THEME = () => \"Theme modified\";\nexport const CHANGES_SINCE_LAST_DEPLOYMENT = () =>\n  \"Changes since last deployment\";\nexport const CHANGES_ONLY_USER = () => \"Changes since last commit\";\nexport const CHANGES_MADE_SINCE_LAST_COMMIT = () =>\n  \"Changes made since last commit\";\nexport const CHANGES_ONLY_MIGRATION = () =>\n  \"Appsmith update changes since last commit\";\nexport const CHANGES_USER_AND_MIGRATION = () =>\n  \"Appsmith update and user changes since last commit\";\nexport const CURRENT_PAGE_DISCARD_WARNING = (page: string) =>\n  `Current page (${page}) is in the discard list.`;\nexport const DISCARD_MESSAGE = () =>\n  `Some changes may reappear after discarding them, these changes support new features in Appsmith. You can safely commit them to your repository.`;\n// GIT DEPLOY end\n\n// GIT CHANGE LIST begin\nexport const CHANGES_FROM_APPSMITH = () =>\n  \"Some changes are platform upgrades from Appsmith.\";\nexport const TRY_TO_PULL = () =>\n  \"We will try to pull before pushing your changes.\";\nexport const NOT_PUSHED_YET = () =>\n  \"These are the commits that haven't been pushed to remote yet.\";\n// GIT CHANGE LIST end\n\n// GIT DELETE BRANCH begin\nexport const DELETE = () => \"Delete\";\nexport const LOCAL_BRANCHES = () => \"Local branches\";\nexport const REMOTE_BRANCHES = () => \"Remote branches\";\n\nexport const DELETE_BRANCH_SUCCESS = (branchName: string) =>\n  `Successfully deleted branch: ${branchName}`;\n\n// warnings\nexport const DELETE_BRANCH_WARNING_CHECKED_OUT = (currentBranchName: string) =>\n  `Cannot delete checked out branch. Please check out other branch before deleting ${currentBranchName}.`;\nexport const DELETE_BRANCH_WARNING_DEFAULT = (defaultBranchName: string) =>\n  `Cannot delete default branch: ${defaultBranchName}`;\n// GIT DELETE BRANCH end\n\n// GIT ERRORS begin\nexport const ERROR_GIT_AUTH_FAIL = () =>\n  \"Please make sure that regenerated SSH key is added and has write access to the repository.\";\nexport const ERROR_GIT_INVALID_REMOTE = () =>\n  \"Either the remote repository doesn't exist or is unreachable.\";\n// GIT ERRORS end\n\n// Git Connect V2\nexport const CHOOSE_A_GIT_PROVIDER_STEP = () => \"Choose a Git provider\";\nexport const GENERATE_SSH_KEY_STEP = () => \"Generate SSH key\";\nexport const ADD_DEPLOY_KEY_STEP = () => \"Add deploy key\";\nexport const CHOOSE_GIT_PROVIDER_QUESTION = () =>\n  \"To begin with, choose your Git service provider\";\nexport const IS_EMPTY_REPO_QUESTION = () =>\n  \"Do you have an existing empty repository to connect to Git?\";\nexport const HOW_TO_CREATE_EMPTY_REPO = () => \"How to create a new repository?\";\nexport const IMPORT_APP_IF_NOT_EMPTY = () =>\n  \"If you already have an app connected to Git, you can import it to the workspace.\";\nexport const I_HAVE_EXISTING_REPO = () =>\n  \"I have an existing appsmith app connected to Git\";\nexport const ERROR_REPO_NOT_EMPTY_TITLE = () =>\n  \"The repo you added isn't empty\";\nexport const ERROR_REPO_NOT_EMPTY_MESSAGE = () =>\n  \"Kindly create a new repository and provide its remote SSH URL here. We require an empty repository to continue.\";\nexport const READ_DOCS = () => \"Read Docs\";\nexport const COPY_SSH_URL_MESSAGE = () =>\n  \"To generate the SSH Key, in your repo, copy the Remote SSH URL & paste it in the input field below.\";\nexport const REMOTE_URL_INPUT_LABEL = () => \"Remote SSH URL\";\nexport const HOW_TO_COPY_REMOTE_URL = () =>\n  \"How to copy & paste SSH remote URL\";\nexport const ERROR_SSH_KEY_MISCONF_TITLE = () => \"SSH key misconfiguration\";\nexport const ERROR_SSH_KEY_MISCONF_MESSAGE = () =>\n  \"It seems that your SSH key hasn't been added to your repository. To proceed, please revisit the steps below and configure your SSH key correctly.\";\nexport const ADD_DEPLOY_KEY_STEP_TITLE = () =>\n  \"Add deploy key & give write access\";\nexport const HOW_TO_ADD_DEPLOY_KEY = () =>\n  \"How to paste SSH Key in repo and give write access?\";\nexport const CONSENT_ADDED_DEPLOY_KEY = () =>\n  \"I've added the deploy key and gave it write access\";\nexport const PREVIOUS_STEP = () => \"Previous step\";\nexport const GIT_AUTHOR = () => \"Git author\";\nexport const DISCONNECT_GIT = () => \"Disconnect Git\";\nexport const DISCONNECT_GIT_MESSAGE = () =>\n  \"This is irreversible. If you wish to reconnect, you will have to connect a new empty repository.\";\nexport const AUTOCOMMIT = () => \"Auto - commit\";\nexport const AUTOCOMMIT_MESSAGE = () =>\n  \"Enable/disable auto migrations from Appsmith.\";\nexport const AUTOCOMMIT_ENABLE = () => \"Enable auto - commit\";\nexport const AUTOCOMMIT_DISABLE = () => \"Disable auto - commit\";\nexport const AUTOCOMMIT_CONFIRM_DISABLE_MESSAGE = () =>\n  \"Disabling auto-commit may result in uncommitted system changes after an Appsmith instance upgrade, requiring manual handling and potential discrepancies in Git versioning.\";\nexport const AUTOCOMMIT_IN_PROGRESS_MESSAGE = () =>\n  \"Auto-committing Appsmith upgrade changes...\";\nexport const AUTOCOMMIT_ENABLED_TOAST = () =>\n  \"Auto-commit enabled successfully\";\nexport const AUTOCOMMIT_DISABLED_TOAST = () =>\n  \"Auto-commit disabled successfully\";\nexport const NEED_EMPTY_REPO_MESSAGE = () =>\n  \"You need an empty repository to connect to Git on Appsmith, please create one on your Git service provider to continue.\";\nexport const GIT_IMPORT_WAITING = () =>\n  \"Please wait while we import the app...\";\nexport const GIT_CONNECT_WAITING = () =>\n  \"Please wait while we connect to Git...\";\nexport const CONNECT_GIT_TEXT = () => \"Connect Git\";\nexport const ERROR_SSH_RECONNECT_MESSAGE = () =>\n  \"We couldn't connect to the repo due to a missing deploy key. You can fix this in two ways:\";\nexport const ERROR_SSH_RECONNECT_OPTION1 = () =>\n  \"Copy the SSH key below and add it to your repository.\";\nexport const ERROR_SSH_RECONNECT_OPTION2 = () =>\n  \"If you want to connect a new repository, you can disconnect and do that instead.\";\nexport const COPIED_SSH_KEY = () => \"Copied SSH key\";\nexport const NO_COPIED_SSH_KEY = () => \"Could not copy SSH key\";\n// Git Connect V2 end\n\n// Git Branch Protection\nexport const UPDATE = () => \"Update\";\nexport const DEFAULT_BRANCH = () => \"Default branch\";\nexport const DEFAULT_BRANCH_DESC = () =>\n  \"This is the base branch of the app. Users launching the app from the dashboard will see the deployed version from this branch.\";\nexport const BRANCH_PROTECTION = () => \"Branch protection\";\nexport const BRANCH_PROTECTION_DESC = () =>\n  \"Protected branches enable you to enforce Git workflows. Changes to the app are not allowed in the protected branches.\";\nexport const GO_TO_SETTINGS = () => \"Go to settings\";\nexport const NOW_PROTECT_BRANCH = () =>\n  \"You can now protect your default branch.\";\nexport const APPSMITH_ENTERPRISE = () => \"Appsmith Enterprise\";\nexport const PROTECT_BRANCH_SUCCESS = () => \"Changed protected branches\";\nexport const UPDATE_DEFAULT_BRANCH_SUCCESS = (branchName: string) =>\n  `Updated default branch ${!!branchName ? `to ${branchName}` : \"\"}`;\nexport const CONTACT_ADMIN_FOR_GIT = () =>\n  \"Please contact your workspace admin to connect your app to a git repo\";\nexport const BRANCH_PROTECTION_CALLOUT_MSG = () =>\n  \"The branch is protected; please switch to or create a new branch to edit the app.\";\nexport const BRANCH_PROTECTION_CALLOUT_CREATE_BRANCH = () =>\n  \"Create new branch\";\nexport const BRANCH_PROTECTION_CALLOUT_UNPROTECT = () => \"Unprotect branch\";\nexport const BRANCH_PROTECTION_CALLOUT_UNPROTECT_LOADING = () =>\n  \"Unprotecting branch ...\";\nexport const BRANCH_PROTECTION_PROTECTED = () => \"Protected\";\n// Git Branch Protection end\n\n// Git Connection Success\nexport const GIT_CONNECT_SUCCESS_TITLE = () => \"Successfully connected to Git\";\nexport const GIT_CONNECT_SUCCESS_MESSAGE = () =>\n  \"Now you can start collaborating with your team members by committing, merging and deploying your app\";\nexport const GIT_CONNECT_SUCCESS_ACTION_CONTINUE = () =>\n  \"Continue to edit application\";\nexport const GIT_CONNECT_SUCCESS_ACTION_SETTINGS = () => \"Protect your branch\";\nexport const GIT_CONNECT_SUCCESS_PROTECTION_MSG = () =>\n  \"We recommend protecting your default branch to have a seamless collaboration.\";\nexport const GIT_CONNECT_SUCCESS_REPO_NAME = () => \"Repository name\";\nexport const GIT_CONNECT_SUCCESS_DEFAULT_BRANCH = () => \"Default branch\";\nexport const GIT_CONNECT_SUCCESS_DEFAULT_BRANCH_TOOLTIP = () =>\n  \"This is the base branch of the app. Users launching the app from the dashboard will see the deployed version from this branch.\";\nexport const GIT_CONNECT_SUCCESS_PROTECTION_DOC_CTA = () =>\n  \"Learn more about branch protection\";\n// Git Connection Success end\n\nexport const GENERAL = () => \"General\";\nexport const BRANCH = () => \"Branch\";\n\nexport const CONTINUOUS_DELIVERY = () => \"Continuous delivery\";\nexport const CONFIGURE_CD_TITLE = () => \"Configure continuous delivery\";\nexport const CONFIGURE_CD_DESC = () =>\n  \"To automatically trigger a pull when changes occur on the remote branch, consider upgrading to our enterprise plan for enhanced functionality\";\nexport const TRY_APPSMITH_ENTERPRISE = () => \"Try Appsmith Enterprise\";\n\nexport const NAV_DESCRIPTION = () =>\n  `Navigate to any page, widget or file across this project.`;\nexport const ACTION_OPERATION_DESCRIPTION = () =>\n  `Create a new query, API or JS Object`;\nexport const TABLE_WIDGET_VALIDATION_ASSIST_PROMPT = () =>\n  `Access the current cell using `;\n\nexport const TRIGGER_ACTION_VALIDATION_ERROR = (\n  functionName: string,\n  argumentName: string,\n  expectedType: string,\n  received: string,\n) =>\n  `${functionName} expected ${expectedType} for '${argumentName}' argument but received ${received}`;\n\n// Comment card tooltips\nexport const MORE_OPTIONS = () => \"More options\";\nexport const ADD_REACTION = () => \"Add reaction\";\nexport const RESOLVE_THREAD = () => \"Resolve thread\";\nexport const RESOLVED_THREAD = () => \"Resolved thread\";\nexport const EMOJI = () => \"Emoji\";\n\n// Sniping mode messages\nexport const SNIPING_SELECT_WIDGET_AGAIN = () =>\n  \"Unable to detect the widget, please select the widget again.\";\n\nexport const SNIPING_NOT_SUPPORTED = () =>\n  \"Binding on selection is not supported for this type of widget!\";\n\n//First Time User Onboarding\n//Checklist page\nexport enum ONBOARDING_CHECKLIST_ACTIONS {\n  CONNECT_A_DATASOURCE = \"Connect datasource\",\n  CREATE_A_QUERY = \"Create a query\",\n  ADD_WIDGETS = \"Add widgets\",\n  CONNECT_DATA_TO_WIDGET = \"Connect data to widget\",\n  DEPLOY_APPLICATIONS = \"Deploy application\",\n}\n\nexport const ONBOARDING_CHECKLIST_BANNER_HEADER = () =>\n  \"Amazing work! You’ve explored the basics of Appsmith\";\nexport const ONBOARDING_CHECKLIST_BANNER_BODY = () =>\n  \"You can carry on here, or explore the homepage to see how your projects are stored.\";\nexport const ONBOARDING_CHECKLIST_BANNER_BUTTON = () => \"Explore homepage\";\nexport const ONBOARDING_SKIPPED_FIRST_TIME_USER = () =>\n  \"Skipped onboarding tour\";\nexport const ONBOARDING_CHECKLIST_HEADER = () => \"👋 Welcome to Appsmith!\";\nexport const ONBOARDING_CHECKLIST_BODY = () =>\n  \"Let’s get you started on your first application, explore Appsmith yourself or follow our guide below to discover what Appsmith can do.\";\nexport const ONBOARDING_CHECKLIST_COMPLETE_TEXT = () => \"complete\";\n\nexport const SIGNPOSTING_POPUP_SUBTITLE = () =>\n  \"Here’s what you need to do to build your first app:\";\nexport const SIGNPOSTING_SUCCESS_POPUP = {\n  title: () => \"🎉 Awesome! You’ve explored the basics of Appsmith\",\n  subtitle: () =>\n    \"You can carry on building the app from here on. If you are still not sure, checkout our documentation or try guided tour.\",\n};\n\nexport const ONBOARDING_CHECKLIST_CONNECT_DATA_SOURCE = {\n  bold: () => \"Connect to a datasource\",\n  normal: () => \"So your UI can talk to your data.\",\n};\n\nexport const ONBOARDING_CHECKLIST_CREATE_A_QUERY = {\n  bold: () => \"Write your first query\",\n  normal: () => \"To get the data to present in widgets\",\n};\n\nexport const ONBOARDING_CHECKLIST_ADD_WIDGETS = {\n  bold: () => \"Drop a widget on the canvas\",\n  normal: () => \"To start building your UI\",\n};\n\nexport const ONBOARDING_CHECKLIST_CONNECT_DATA_TO_WIDGET = {\n  bold: () => \"Connect queries and widgets\",\n  normal: () => \"using query names in bindings {{}}\",\n};\n\nexport const ONBOARDING_CHECKLIST_DEPLOY_APPLICATIONS = {\n  bold: () => \"Deploy your application\",\n  normal: () => \"To see your live app and share it with end-users.\",\n};\n\nexport const SIGNPOSTING_LAST_STEP_TOOLTIP = () => \"Almost there!\";\nexport const SIGNPOSTING_TOOLTIP = {\n  DEFAULT: {\n    content: () =>\n      \"Finish these 5 steps to learn the basics in-order to build an app & deploy it. This would take 5 mins of your time.\",\n  },\n  CONNECT_A_DATASOURCE: {\n    content: () => \"Let's add a datasource\",\n  },\n  CREATE_QUERY: {\n    content: () => \"Datasource connected. Let's write your first query now.\",\n  },\n  ADD_WIDGET: {\n    content: () => \"The query seems fine, right? Let's build our UI next.\",\n  },\n  CONNECT_DATA_TO_WIDGET: {\n    content: () =>\n      \"That was easy. Connect the query you wrote in Step 2 to present data in this widget.\",\n  },\n  DEPLOY_APPLICATION: {\n    content: () =>\n      \"Deploy your app to see it live and share it with your users.\",\n  },\n  DOCUMENTATION: {\n    content: () => \"Open documentation\",\n  },\n};\n\nexport const ONBOARDING_CHECKLIST_FOOTER = () =>\n  \"Not sure where to start? Take the welcome tour\";\n\nexport const ONBOARDING_TELEMETRY_POPUP = () =>\n  \"We only collect usage data to make Appsmith better for everyone. Visit admin settings to toggle this off.\";\n\n//Introduction modal\nexport const HOW_APPSMITH_WORKS = () =>\n  \"Here’s a quick overview of how Appsmith works. \";\nexport const ONBOARDING_INTRO_CONNECT_YOUR_DATABASE = () =>\n  \"Connect to your database or APIs\";\nexport const DRAG_AND_DROP = () =>\n  \"Drag and drop pre-built widgets to build UI\";\nexport const CUSTOMIZE_WIDGET_STYLING = () =>\n  \"Customise the styling of every widget. Then bind your data to the widget and use JS to write any logic.\";\nexport const ONBOARDING_INTRO_PUBLISH = () =>\n  \"Publish & Share with permissions\";\nexport const CHOOSE_ACCESS_CONTROL_ROLES = () =>\n  \"Instantly publish & share your apps with users. Choose from pre-defined access control roles.\";\nexport const BUILD_MY_FIRST_APP = () => \"Build on my own\";\nexport const ONBOARDING_INTRO_FOOTER = () =>\n  \"Let’s start building your first application\";\nexport const START_TUTORIAL = () => \"Start tutorial\";\nexport const WELCOME_TO_APPSMITH = () => \"Welcome to Appsmith!\";\nexport const QUERY_YOUR_DATABASE = () =>\n  \"Query your own database or API inside Appsmith. Write JS to construct dynamic queries.\";\nexport const SIGNPOSTING_INFO_MENU = {\n  documentation: () => \"Open documentation\",\n};\n\n//Statusbar\nexport const ONBOARDING_STATUS_STEPS_FIRST = () => \"First, add a datasource\";\nexport const ONBOARDING_STATUS_STEPS_FIRST_ALT = () => \"Next, add a datasource\";\nexport const ONBOARDING_STATUS_STEPS_SECOND = () => \"Next, create a query\";\nexport const ONBOARDING_STATUS_STEPS_THIRD = () => \"Next, add a widget\";\nexport const ONBOARDING_STATUS_STEPS_THIRD_ALT = () => \"First, add a widget\";\nexport const ONBOARDING_STATUS_STEPS_FOURTH = () =>\n  \"Next, connect data to widget\";\nexport const ONBOARDING_STATUS_STEPS_FIVETH = () =>\n  \"Next, deploy your application\";\nexport const ONBOARDING_STATUS_STEPS_SIXTH = () => \"Completed 🎉\";\nexport const ONBOARDING_STATUS_GET_STARTED = () => \"Get started\";\n\n//Tasks\n//1. datasource\nexport const ONBOARDING_TASK_DATASOURCE_HEADER = () =>\n  \"Start by adding your first datasource\";\nexport const ONBOARDING_TASK_DATASOURCE_BODY = () =>\n  \"Adding a datasource makes creating applications more powerful. Don’t worry if you don’t have any data on hand, we have a sample dataset that you can use.\";\nexport const ONBOARDING_TASK_DATASOURCE_BUTTON = () => \"Add a datasource\";\nexport const ONBOARDING_TASK_DATASOURCE_FOOTER_ACTION = () => \"add a widget\";\nexport const ONBOARDING_TASK_DATASOURCE_FOOTER = () => \"first.\";\n//2. query\nexport const ONBOARDING_TASK_QUERY_HEADER = () => \"Next, create a query\";\nexport const ONBOARDING_TASK_QUERY_BODY = () =>\n  \"Great job adding a datasource! The next thing you can do is create a query on your data.\";\nexport const ONBOARDING_TASK_QUERY_BUTTON = () => \"Create a query\";\nexport const ONBOARDING_TASK_QUERY_FOOTER_ACTION = () => \"add a widget\";\n//2. widget\nexport const ONBOARDING_TASK_WIDGET_HEADER = () =>\n  \"Next, add a widget to start displaying data\";\nexport const ONBOARDING_TASK_WIDGET_BODY = () =>\n  \"Great job adding a datasource! The next thing you can do is add widget to start visualizing your data.\";\nexport const ONBOARDING_TASK_WIDGET_BUTTON = () => \"Add a widget\";\nexport const ONBOARDING_TASK_WIDGET_FOOTER_ACTION = () =>\n  \"deploy your application\";\nexport const ONBOARDING_TASK_FOOTER = () => \"Alternatively, you can also\";\n\nexport const USE_SNIPPET = () => \"Snippet\";\nexport const SNIPPET_TOOLTIP = () => \"Search code snippets\";\n\n//Welcome page\nexport const WELCOME_HEADER = () => \"Almost there\";\nexport const WELCOME_BODY = () => \"Let's setup your account first\";\nexport const WELCOME_ACTION = () => \"Get started\";\nexport const PRODUCT_UPDATES_CONFIRMATION_LABEL = () =>\n  \"I accept receiving security and product updates\";\n\n// API Editor\nexport const API_EDITOR_TAB_TITLES = {\n  HEADERS: () => \"Headers\",\n  PARAMS: () => \"Params\",\n  BODY: () => \"Body\",\n  PAGINATION: () => \"Pagination\",\n  AUTHENTICATION: () => \"Authentication\",\n  SETTINGS: () => \"Settings\",\n};\nexport const ACTION_EXECUTION_MESSAGE = (actionType: string) =>\n  `Sending the ${actionType} request`;\nexport const ACTION_EXECUTION_CANCEL = () => \"Cancel request\";\n\nexport const WELCOME_FORM_HEADER = () => \"Let us get to know you better!\";\nexport const WELCOME_FORM_FIRST_NAME = () => \"First name\";\nexport const WELCOME_FORM_LAST_NAME = () => \"Last name\";\nexport const WELCOME_FORM_EMAIL_ID = () => \"Email\";\nexport const WELCOME_FORM_CREATE_PASSWORD = () => \"Enter password\";\nexport const WELCOME_FORM_VERIFY_PASSWORD = () => \"Verify password\";\nexport const WELCOME_FORM_DATA_COLLECTION_HEADER = () =>\n  \"Usage data preference\";\nexport const WELCOME_FORM_DATA_COLLECTION_BODY = () =>\n  \"Share anonymous usage data to help improve the product.\";\nexport const WELCOME_FORM_DATA_COLLECTION_LINK = () => \"See what is shared\";\nexport const WELCOME_FORM_DATA_COLLECTION_LABEL_ENABLE = () =>\n  \"Share data & make Appsmith better!\";\nexport const WELCOME_FORM_DATA_COLLECTION_LABEL_DISABLE = () =>\n  \"Don't share any data\";\nexport const WELCOME_FORM_NEWLETTER_HEADER = () => \"Stay in touch\";\nexport const WELCOME_FORM_NEWLETTER_LABEL = () =>\n  \"Get updates about what we are cooking. We will not spam you.\";\nexport const WELCOME_FORM_SUBMIT_LABEL = () => \"Make your first app\";\n\n//help tooltips\nexport const ACCOUNT_TOOLTIP = () => \"Your account\";\nexport const RENAME_APPLICATION_TOOLTIP = () => \"Rename application\";\nexport const LOGO_TOOLTIP = () => \"Back to homepage\";\nexport const ADD_PAGE_TOOLTIP = () => \"Add a new page\";\nexport const ADD_DATASOURCE_TOOLTIP = () =>\n  \"Add datasource or create new query\";\nexport const ADD_WIDGET_TOOLTIP = () => \"Find and add a widget\";\nexport const HELP_RESOURCE_TOOLTIP = () => \"Help and resources\";\nexport const COPY_ELEMENT = () => \"Copy element\";\nexport const SHOW_TEMPLATES = () => \"Add a query\";\nexport const LAYOUT_DROPDOWN_TOOLTIP = () =>\n  \"Choose how your application looks on desktop, tablet and mobile devices\";\nexport const DEPLOY_BUTTON_TOOLTIP = () =>\n  \"Deploy the current version of the application\";\nexport const SHARE_BUTTON_TOOLTIP = () => \"Invite your team to Appsmith\";\nexport const SHARE_BUTTON_TOOLTIP_WITH_USER = (length: number) => () =>\n  `Shared with ${length} other`;\nexport const DEBUGGER_TOOLTIP = () => \"Open Debugger\";\nexport const PAGE_PROPERTIES_TOOLTIP = () => \"Page properties\";\nexport const CLEAR_LOG_TOOLTIP = () => \"Clear logs\";\nexport const ADD_JS_ACTION = () => \"Add a new JS Object\";\nexport const ENTITY_MORE_ACTIONS_TOOLTIP = () => \"More actions\";\nexport const NOTIFICATIONS_TOOLTIP = () => \"Notifications\";\n\n// Navigation Menu\nexport const DEPLOY_MENU_OPTION = () => \"Deploy\";\nexport const CURRENT_DEPLOY_PREVIEW_OPTION = () => \"Current deployed version\";\nexport const CONNECT_TO_GIT_OPTION = () => \"Connect to Git repository\";\n//\nexport const GO_TO_PAGE = () => \"Go to page\";\nexport const DEFAULT_PAGE_TOOLTIP = () => \"Default page\";\nexport const HIDDEN_TOOLTIP = () => \"Hidden\";\nexport const CLONE_TOOLTIP = () => \"Clone\";\nexport const DELETE_TOOLTIP = () => \"Delete\";\nexport const SETTINGS_TOOLTIP = () => \"Settings\";\n\n//settings\nexport const ADMIN_SETTINGS = () => \"Admin settings\";\nexport const HELP = () => \"Help\";\nexport const RESTART_BANNER_BODY = () =>\n  \"Hang in there. This should be done soon.\";\nexport const RESTART_BANNER_HEADER = () => \"Restarting your server\";\nexport const RESTART_ERROR_BODY = () =>\n  \"You can try restarting the server again for the settings to take place.\";\nexport const RESTART_ERROR_HEADER = () => \"Restarting failed\";\nexport const RETRY_BUTTON = () => \"Retry\";\nexport const INFO_VERSION_MISMATCH_FOUND_RELOAD_REQUEST = () =>\n  \"Hey! There is a new version of Appsmith available. Please consider refreshing your window.\";\nexport const TEST_EMAIL_SUCCESS = (email: string) => () =>\n  `Test email sent, please check the inbox of ${email}`;\nexport const TEST_EMAIL_SUCCESS_TROUBLESHOOT = () => \"Troubleshoot\";\nexport const TEST_EMAIL_FAILURE = () => \"Sending test email failed\";\n\nexport const ADMIN_SETTINGS_EMAIL_WARNING = () =>\n  \"Please ensure that the SMTP server is correctly configured. This will be used to send emails about forgot password and email verification.\";\nexport const DISCONNECT_AUTH_ERROR = () =>\n  \"Cannot disconnect the only connected authentication method.\";\nexport const MANDATORY_FIELDS_ERROR = () => \"Mandatory fields cannot be empty\";\nexport const FORM_LOGIN_DESC = () =>\n  \"Enable your workspace to sign in with Appsmith Form.\";\nexport const GOOGLE_AUTH_DESC = () =>\n  \"Enable your workspace to sign in with Google (OAuth 2.0) single sign-on (SSO).\";\nexport const GITHUB_AUTH_DESC = () =>\n  \"Enable your workspace to sign in with GitHub (OAuth 2.0) single sign-on (SSO).\";\nexport const SAPCDC_AUTH_DESC = () =>\n  \"Enable your workspace to sign in with SAP CDC (OAuth 2.0) single sign-on (SSO).\";\nexport const SAML_AUTH_DESC = () =>\n  \"Enable your workspace to sign in with your preferred SAML2 compliant provider.\";\nexport const OIDC_AUTH_DESC = () =>\n  \"Enable your workspace to sign in with your preferred OIDC compliant provider.\";\nexport const SAVE_BUTTON = () => \"Save\";\nexport const SAVE_AND_RESTART_BUTTON = () => \"Save & Restart\";\nexport const SAVE_AND_REFRESH_BUTTON = () => \"Save & Refresh\";\nexport const RESET_BUTTON = () => \"Reset\";\nexport const BUSINESS_TAG = () => \"Business\";\nexport const ENTERPRISE_TAG = () => \"Enterprise\";\n\n// Upgrade pages begin\nexport const AVAILABLE_ON_BUSINESS = () => \"Available on a business plan only\";\nexport const EXCLUSIVE_TO_BUSINESS = (featureName: string) =>\n  `The ${featureName} feature is exclusive to workspaces on the business plan`;\nexport const AVAILABLE_ON_ENTERPRISE = () => \"Available on Appsmith Enterprise\";\n// Upgrade pages end\n\n// Audit logs begin\nexport const AUDIT_LOGS = () => \"Audit logs\";\nexport const TRY_AGAIN_WITH_YOUR_FILTER = () => \"Try again with your filter\";\n\n// Audit logs Upgrade page begin\nexport const INTRODUCING = (featureName: string) =>\n  `Introducing ${featureName}`;\nexport const AUDIT_LOGS_UPGRADE_PAGE_SUB_HEADING = () =>\n  \"See a timestamped trail of events in your workspace. Filter by type of event, user, resource ID, and time. Drill down into each event to investigate further.\";\nexport const SECURITY_AND_COMPLIANCE = () => \"Security & compliance\";\nexport const SECURITY_AND_COMPLIANCE_DETAIL1 = () =>\n  \"Proactively derisk misconfigured permissions, roll back changes from a critical security event, and keep checks against your compliance policies.\";\nexport const SECURITY_AND_COMPLIANCE_DETAIL2 = () =>\n  \"Exports to popular compliance tools coming soon\";\nexport const DEBUGGING = () => \"Debugging\";\nexport const DEBUGGING_DETAIL1 = () =>\n  \"Debug with a timeline of events filtered by user and resource ID, correlate them with end-user and app developer actions, and investigate back to the last known good state of your app.\";\nexport const INCIDENT_MANAGEMENT = () => \"Incident management\";\nexport const INCIDENT_MANAGEMENT_DETAIL1 = () =>\n  \"Go back in time from an incident to see who did what, correlate events with breaking changes, and run RCAs to remediate incidents for now and the future.\";\n// Audit logs Upgrade page end\n// Audit logs end\n\n// Access control upgrade page begin\nexport const GRANULAR_ACCESS_CONTROL_FOR_TEAMS = () =>\n  \"granular access controls for teams\";\nexport const ACCESS_CONTROL_UPGRADE_PAGE_SUB_HEADING = () =>\n  \"Control all permissions for all resources in your apps in a workspace. Manage permissions granularly by attributes. Use permissions and user groups to easily define access levels.\";\nexport const SECURITY_APPS_LEAST_PRIVILEGE = () =>\n  \"Secure apps by the least privilege needed\";\nexport const SECURITY_APPS_LEAST_PRIVILEGE_DETAIL1 = () =>\n  `Create roles by the least privilege needed as defaults, <span>e.g.: View only</span>, assign them to users in groups, <span>e.g.: Marketing</span>, and modify for special access, <span>e.g.: Content creators_Execute queries</span>`;\nexport const PREVENT_ACCIDENTAL_DAMAGE = () =>\n  \"Prevent accidental damage to data\";\nexport const PREVENT_ACCIDENTAL_DAMAGE_DETAIL1 = () =>\n  `Assign edit and delete permissions to an entire group, then modify granularly so non-native users of your data don’t drop a table or bulk-delete streaming data records before you can say, “Retrieve”.`;\nexport const RESTRICT_PUBLIC_EXPOSURE = () =>\n  \"Restrict public exposure of sensitive data\";\nexport const RESTRICT_PUBLIC_EXPOSURE_DETAIL1 = () =>\n  \"Proactively disallow groups of non-admin or non-super-admin users from publicly sharing your app or exporting app data out of your environment, domain, and security perimeters.\";\nexport const ACCESS_CONTROL_UPGRADE_PAGE_FOOTER = () =>\n  \"Unlock granular access controls along with audit logs and SSO for enhanced security and reliability with an upgrade to our Business plan.\";\n// Access control upgrade page end\n\n// Provisioning upgrade page begin\nexport const USER_PROVISIONING_FOR_ENTERPRISES = () =>\n  \"Manage Appsmith users via your identity provider\";\nexport const PROVISIONING_UPGRADE_PAGE_SUB_HEADING = () =>\n  `Add and remove Appsmith users centrally. Sync existing groups to Appsmith.`;\nexport const PROVISION_DEPROVISION_USERS = () =>\n  \"Provision and deprovision users from your IdP\";\nexport const PROVISION_DEPROVISION_USERS_DETAIL1 = () =>\n  `Control user authorization and access to Appsmith workspaces and apps via your IdP using the SCIM protocol.<div>&nbsp;</div><div><span style=\"font-style: italic;font-weight: normal;\">More protocols coming soon</span></div>`;\nexport const AUTO_GROUP_SYNC = () => \"Automatic group sync\";\nexport const AUTO_GROUP_SYNC_DETAIL1 = () =>\n  `Easily manage access for groups when you sync them to Appsmith from your IdP.`;\nexport const PROVISIONING_UPGRADE_PAGE_FOOTER = () =>\n  \"Secure your Appsmith apps with Granular Access Controls, Audit Logs, Custom SSO, and more on Appsmith Enterprise.\";\n// Provisioning upgrade page end\n\n//\nexport const WELCOME_FORM_NON_SUPER_USER_ROLE_DROPDOWN = () =>\n  \"Tell us about your primary skillset\";\nexport const WELCOME_FORM_NON_SUPER_USER_ROLE = () => \"Role\";\nexport const WELCOME_FORM_NON_SUPER_USER_USE_CASE = () =>\n  \"What would you like to use Appsmith for?\";\nexport const WELCOME_FORM_NON_SUPER_USER_PROFICIENCY_LEVEL = () =>\n  \"What is your general development proficiency?\";\n\nexport const WELCOME_FORM_PROFICIENCY_ERROR_MESSAGE = () =>\n  \"Please select a proficiency level\";\nexport const WELCOME_FORM_USE_CASE_ERROR_MESSAGE = () =>\n  \"Please select an use case\";\n\nexport const WELCOME_FORM_EMAIL_ERROR_MESSAGE = () =>\n  \"Enter a valid email address.\";\n\nexport const WELCOME_FORM_STRONG_PASSWORD_ERROR_MESSAGE = () =>\n  \"Please enter a strong password.\";\n\nexport const WELCOME_FORM_GENERIC_ERROR_MESSAGE = () =>\n  \"This field is required.\";\n\nexport const WELCOME_FORM_PASSWORDS_NOT_MATCHING_ERROR_MESSAGE = () =>\n  \"Passwords don't match.\";\n\nexport const QUERY_CONFIRMATION_MODAL_MESSAGE = () =>\n  `Are you sure you want to run `;\nexport const ENTITY_EXPLORER_TITLE = () => \"NAVIGATION\";\nexport const MULTI_SELECT_PROPERTY_PANE_MESSAGE = () =>\n  `Select a widget to see it's properties`;\nexport const WIDGET_MULTI_SELECT = () => \"Multiple selected\";\nexport const WIDGET_DEPRECATION_MESSAGE = (widgetName: string) =>\n  `Drag the latest ${widgetName} to unlock new features and prevent end-of-life headaches for this widget.`;\n\nexport const LOCK_ENTITY_EXPLORER_MESSAGE = () => `Lock sidebar open`;\nexport const CLOSE_ENTITY_EXPLORER_MESSAGE = () => `Close sidebar`;\nexport const JS_TOGGLE_DISABLED_MESSAGE = \"Clear the field to toggle back\";\nexport const JS_TOGGLE_SWITCH_JS_MESSAGE =\n  \"Switch to JS mode to customize your data using javascript\";\nexport const PROPERTY_PANE_EMPTY_SEARCH_RESULT_MESSAGE =\n  \"No properties found based on your search\";\nexport const PROPERTY_SEARCH_INPUT_PLACEHOLDER =\n  \"Search for controls, labels etc\";\nexport const EXPLORER_BETA_ENTITY = () => \"BETA\";\nexport const BINDING_WIDGET_WALKTHROUGH_TITLE = () => \"Widget properties\";\nexport const BINDING_WIDGET_WALKTHROUGH_DESC = () =>\n  `We’ve set the table data property for you. You can change it at anytime. The properties pane is a central hub for configuring widgets, allowing you to easily modify settings.`;\n\n// API Pane\nexport const API_PANE_NO_BODY = () => \"This request does not have a body\";\nexport const API_PANE_AUTO_GENERATED_HEADER = () =>\n  \"This content-type header is auto-generated by appsmith based on body type of the API. Create a new header content-type to overwrite this value.\";\nexport const API_PANE_DUPLICATE_HEADER = (headerName: string) =>\n  `This is a duplicate header and will be overridden by the ${headerName} header added by you.`;\n\nexport const TABLE_WIDGET_TOTAL_RECORD_TOOLTIP = () =>\n  \"It stores the total no. of rows in the table. Helps in calculating the no. of pages that further allows to enable or disable the next/previous control in pagination.\";\nexport const CREATE_DATASOURCE_TOOLTIP = () => \"Add a new datasource\";\nexport const ADD_QUERY_JS_TOOLTIP = () => \"Add a new query/JS Object\";\nexport const LIST_WIDGET_V2_TOTAL_RECORD_TOOLTIP = () =>\n  \"Count of all the records in the source data for the list. This helps us calculate the number of pages to be shown\";\n\n// Add datasource\nexport const GENERATE_APPLICATION_TITLE = () => \"Generate page\";\nexport const GENERATE_APPLICATION_DESCRIPTION = () =>\n  \"Quickly generate a page to perform CRUD operations on your database tables\";\nexport const DELETE_WORKSPACE_SUCCESSFUL = () =>\n  \"Workspace deleted successfully\";\n// theming\nexport const CHANGE_APP_THEME = (name: string) => `Theme ${name} applied`;\nexport const SET_DEFAULT_SELECTED_THEME = (name: string) =>\n  `Applied the ${name} theme, since custom theme was not found`;\nexport const SAVE_APP_THEME = (name: string) => `Theme ${name} saved`;\nexport const DELETE_APP_THEME = (name: string) => `Theme ${name} deleted`;\nexport const DELETE_APP_THEME_WARNING = () =>\n  `Do you really want to delete this theme? This process cannot be undone.`;\nexport const APP_THEME_BETA_CARD_HEADING = () => `🎨 Theme your app`;\nexport const APP_THEME_BETA_CARD_CONTENT = () =>\n  `Customize your app's look through global styles. Full widget support coming soon`;\n\nexport const UPGRADE_TO_EE = (authLabel: string) =>\n  `Hello, I would like to upgrade and start using ${authLabel} authentication.`;\nexport const UPGRADE_TO_EE_FEATURE = (feature: string) =>\n  `Hello, I would like to upgrade and start using the ${feature} feature.`;\nexport const UPGRADE_TO_EE_GENERIC = () => `Hello, I would like to upgrade`;\nexport const ADMIN_AUTH_SETTINGS_TITLE = () => \"Authentication\";\nexport const ADMIN_AUTH_SETTINGS_SUBTITLE = () =>\n  \"Select a protocol you want to authenticate users with\";\nexport const DANGER_ZONE = () => \"Danger zone\";\nexport const DISCONNECT_AUTH_METHOD = () => \"Disconnect\";\nexport const DISCONNECT_CONFIRMATION = () => \"Are you sure?\";\n\n// Branding\nexport const ADMIN_BRANDING_SETTINGS_TITLE_UPGRADE = () =>\n  \"Custom Branding for your workspaces\";\nexport const ADMIN_BRANDING_SETTINGS_SUBTITLE_UPGRADE = () =>\n  \"Make your workspaces and apps look more yours in a few clicks as in the example below. Upload your logo and favicon, set your primary color, and preview the new look. To save a look you like, upgrade to our Business plan.\";\nexport const ADMIN_BRANDING_COLOR_TOOLTIP = () =>\n  `When you choose a primary color, we auto-magically fill in the secondary and accent colors. You can change them to get the look you want.`;\nexport const ADMIN_BRANDING_LOGO_SIZE_ERROR = () =>\n  `Uploaded file must be less than 2MB`;\nexport const ADMIN_BRANDING_LOGO_DIMENSION_ERROR = () =>\n  `Logo should  be atleast 256px in height`;\nexport const ADMIN_BRANDING_LOGO_FORMAT_ERROR = () =>\n  `Uploaded file must be in .SVG .PNG, and .JPG formats`;\nexport const ADMIN_BRANDING_LOGO_REQUIREMENT = () =>\n  `.SVG, .PNG, or .JPG only • Max 2MB`;\nexport const ADMIN_BRANDING_FAVICON_DIMENSION_ERROR = () =>\n  `Uploaded file must have a max size of 32X32 pixels`;\nexport const ADMIN_BRANDING_FAVICON_SIZE_ERROR = () =>\n  `Uploaded file must be less than 2MB`;\nexport const ADMIN_BRANDING_FAVICON_FORMAT_ERROR = () =>\n  `Uploaded file must be in .ICO, .PNG, and .JPG formats`;\nexport const ADMIN_BRANDING_FAVICON_REQUIREMENT = () =>\n  `.ICO, .PNG, or .JPG only • Max 32X32`;\nexport const ADMIN_BRANDING_COLOR_TOOLTIP_PRIMARY = () =>\n  `Used on buttons, links, and other interactive elements.`;\nexport const ADMIN_BRANDING_COLOR_TOOLTIP_BACKGROUND = () =>\n  `Used as background color for the auth pages`;\nexport const ADMIN_BRANDING_COLOR_TOOLTIP_HOVER = () =>\n  `Used as hover color for the button.`;\nexport const ADMIN_BRANDING_COLOR_TOOLTIP_FONT = () =>\n  `Used as text color for the buttons.`;\nexport const ADMIN_BRANDING_COLOR_TOOLTIP_DISABLED = () =>\n  `Used as background color for disabled buttons.`;\nexport const ADMIN_BRANDING_UPGRADE_INTERCOM_MESSAGE = () =>\n  `I would like to enable Custom Branding for my workspace and am interested in Appsmith Business.`;\n\n// Guided tour\n// -- STEPS ---\nexport const STEP_ONE_TITLE = () =>\n  \"First step is querying the database. Here we are querying a Postgres database populated with customers data.\";\nexport const STEP_ONE_SUCCESS_TEXT = () =>\n  \"Excellent! You successfully queried the database and you can see the response of the query below. \";\nexport const STEP_ONE_BUTTON_TEXT = () => \"Proceed to next step\";\nexport const STEP_TWO_TITLE = () =>\n  \"Let’s display this response in a table. Select the table widget we’ve added for you.\";\nexport const STEP_THREE_TITLE = () =>\n  \"Display the response of the query in a table.\";\nexport const STEP_THREE_SUCCESS_TEXT = () =>\n  \"Great job! The table is now displaying the response of a query. You can use {{ }} in any input field to bind data to widgets.\";\nexport const STEP_THREE_SUCCESS_BUTTON_TEXT = () => \"Proceed to next step\";\nexport const STEP_FOUR_TITLE = () =>\n  \"Let’s build a form to update a customer record \";\nexport const STEP_FOUR_HINT_BUTTON_TEXT = () => \"Proceed\";\nexport const STEP_FOUR_SUCCESS_TEXT = () =>\n  \"Awesome! You connected the input widget to table’s selected row. The input will always show the data from the selected row.\";\nexport const STEP_FOUR_SUCCESS_BUTTON_TEXT = () => \"Proceed to next step\";\nexport const STEP_FIVE_TITLE = () =>\n  \"Connect all input fields in the Customer Update Form with the table\";\nexport const STEP_FIVE_HINT_TEXT = () =>\n  `Now let's connect rest of widgets in the container to the table's selected row`;\nexport const STEP_FIVE_SUCCESS_TEXT = () =>\n  \"Great work! All inputs are now connected to the table’s selected row\";\nexport const STEP_FIVE_SUCCESS_BUTTON_TEXT = () => \"Proceed to next step\";\nexport const STEP_SIX_TITLE = () =>\n  \"Add an update button to trigger an update query\";\nexport const STEP_SIX_SUCCESS_TEXT = () =>\n  \"Perfect! Your update button is ready to trigger an update query.\";\nexport const STEP_SIX_SUCCESS_BUTTON_TEXT = () => \"Proceed to next step\";\nexport const STEP_SEVEN_TITLE = () =>\n  \"Trigger updateCustomerInfo query by binding to the button widget\";\nexport const STEP_EIGHT_TITLE = () =>\n  \"After successfully triggering the update query, fetch the updated customer data. \";\nexport const STEP_EIGHT_SUCCESS_TEXT = () =>\n  \"Exceptional work! You’ve now built a way to see customer data and update it.\";\nexport const STEP_NINE_TITLE = () => \"Final step - test & deploy your app\";\nexport const CONTINUE = () => \"Continue\";\nexport const PROCEED_TO_NEXT_STEP = () => \"Proceed to next step\";\nexport const PROCEED = () => \"Proceed\";\nexport const COMPLETE = () => \"Complete\";\n// -- End Tutorial --\nexport const END_TUTORIAL = () => \"End tutorial\";\nexport const CANCEL_DIALOG = () => \"Cancel\";\n// -- Intro content --\nexport const TITLE = () =>\n  \"In this tutorial we’ll build a tool to display customer information\";\nexport const DESCRIPTION = () =>\n  \"This tool has a table that displays customer data and a form to update a particular customer record. Try out the tool below before you start building.\";\nexport const BUTTON_TEXT = () => \"Start building\";\n// -- Rating --\nexport const RATING_TITLE = () =>\n  \"Congratulations! You just built your first app in Appsmith.\";\nexport const RATING_DESCRIPTION = () =>\n  \"You can now invite others to this application.\";\nexport const RATING_TEXT = () => \"Rate your experience\";\n// -- End Message --\nexport const END_TITLE = () => \"What’s next? Start building your own apps.\";\nexport const END_DESCRIPTION = () =>\n  \"Inspect properties of queries, components, etc.\";\nexport const END_BUTTON_TEXT = () => \"Start building an app\";\n\nexport const CONTEXT_EDIT_NAME = () => \"Edit name\";\nexport const CONTEXT_SHOW_BINDING = () => \"Show bindings\";\nexport const CONTEXT_MOVE = () => \"Move to page\";\nexport const CONTEXT_COPY = () => \"Copy to page\";\nexport const CONTEXT_DELETE = () => \"Delete\";\nexport const CONFIRM_CONTEXT_DELETE = () => \"Are you sure?\";\nexport const CONFIRM_CONTEXT_DELETING = () => \"Deleting\";\nexport const CONTEXT_NO_PAGE = () => \"No pages\";\nexport const CONTEXT_REFRESH = () => \"Refresh\";\nexport const CONTEXT_CLONE = () => \"Clone\";\nexport const CONTEXT_SETTINGS = () => \"Settings\";\nexport const CONTEXT_PARTIAL_EXPORT = () => \"Export\";\nexport const CONTEXT_PARTIAL_IMPORT = () => \"Import\";\nexport const CONTEXT_SET_AS_HOME_PAGE = () => \"Set as home page\";\nexport const PAGE = () => \"Page\";\nexport const PAGES = () => \"Pages\";\n\n// Entity explorer\nexport const ADD_DATASOURCE_BUTTON = () => \"Add datasource\";\nexport const ADD_WIDGET_BUTTON = () => \"Add widget\";\nexport const ADD_QUERY_JS_BUTTON = () => \"Add query/JS\";\nexport const EMPTY_WIDGET_MAIN_TEXT = () => \"No widget to display\";\nexport const EMPTY_WIDGET_BUTTON_TEXT = () => \"New widget\";\nexport const EMPTY_QUERY_JS_MAIN_TEXT = () => \"No query/JS to display\";\nexport const EMPTY_QUERY_JS_BUTTON_TEXT = () => \"New query/JS\";\nexport const EMPTY_DATASOURCE_MAIN_TEXT = () => \"No datasource to display\";\nexport const EMPTY_DATASOURCE_BUTTON_TEXT = () => \"New datasource\";\nexport const SEARCH_DATASOURCES = () => \"Search datasources\";\n\n// Templates\nexport const MORE = () => \"More\";\nexport const SHOW_LESS = () => \"Show less\";\nexport const CHOOSE_WHERE_TO_FORK = () => \"Choose where to fork the template\";\nexport const SELECT_WORKSPACE = () => \"Select workspace\";\nexport const FORK_TEMPLATE = () => \"Fork template\";\nexport const TEMPLATES = () => \"Templates\";\nexport const FORK_THIS_TEMPLATE = () => \"Use template\";\nexport const FORK_THIS_TEMPLATE_BUILDING_BLOCK = () => \"Use building block\";\nexport const COULDNT_FIND_TEMPLATE = () =>\n  \"Couldn’t find what you are looking for?\";\nexport const COULDNT_FIND_TEMPLATE_DESCRIPTION = () =>\n  \"Submit suggestions for templates you'd like to see or upvote requests raised by others and our team will work on it.\";\nexport const REQUEST_TEMPLATE = () => \"Request for a template\";\nexport const REQUEST_BUILDING_BLOCK = () => \"Request a building block\";\nexport const SEARCH_TEMPLATES = () => \"Search templates\";\nexport const INTRODUCING_TEMPLATES = () => \"Introducing templates\";\nexport const TEMPLATE_NOTIFICATION_DESCRIPTION = () =>\n  \"Use these templates to learn, create, and build apps even faster\";\nexport const GO_BACK = () => \"Back\";\nexport const OVERVIEW = () => \"Overview\";\nexport const FUNCTION = () => \"Function\";\nexport const INDUSTRY = () => \"Use case\";\nexport const DATASOURCES = () => \"Datasources\";\nexport const NOTE = () => \"Note: \";\nexport const NOTE_MESSAGE = () => \"You can add your datasources as well\";\nexport const WIDGET_USED = () => \"Widgets\";\nexport const SIMILAR_TEMPLATES = () => \"Similar templates\";\nexport const VIEW_ALL_TEMPLATES = () => \"View all templates\";\nexport const FILTERS = () => \"Filters\";\nexport const FILTER_SELECTALL = () => \"Select all\";\nexport const FILTER_SELECT_PAGE = () => \"Add selected page\";\nexport const FILTER_SELECT_PAGES = () => \"Add selected pages\";\nexport const FORKING_TEMPLATE = () => \"Setting up the template\";\nexport const FETCHING_TEMPLATES = () => \"Loading template details\";\nexport const FETCHING_TEMPLATE_LIST = () => \"Loading templates list\";\n\nexport const TEMPLATES_BACK_BUTTON = () => \"Back\";\nexport const SKIP_START_WITH_USE_CASE_TEMPLATES = () =>\n  \"Skip this step, I’ll do it later\";\n\nexport const IMAGE_LOAD_ERROR = () => \"Unable to display the image\";\n\nexport const REDIRECT_URL_TOOLTIP = () =>\n  \"This URL will be used while configuring your Identity Provider's Callback/Redirect URL\";\nexport const ENTITY_ID_TOOLTIP = () =>\n  \"This URL will be used while configuring your Identity Provider's Entity ID URL\";\n\nexport const FORK_APP_MODAL_LOADING_TITLE = () =>\n  \"Fetching workspaces to fork to...\";\nexport const FORK_APP_MODAL_EMPTY_TITLE = () =>\n  \"No workspace available to fork to\";\nexport const FORK_APP_MODAL_SUCCESS_TITLE = () =>\n  \"Choose where to fork the app\";\nexport const FORK = () => `Fork`;\n\nexport const CLEAN_URL_UPDATE = {\n  name: () => \"Update URLs\",\n  shortDesc: () =>\n    \"All URLs in your applications will update to a new readable format that includes the application and page names.\",\n  description: [\n    () =>\n      \"All URLs in your applications will be updated to match our new style. This will make your apps easier to find, and URLs easier to remember.\",\n    (url: string) =>\n      `The current app’s URL will be:<br /><code style=\"line-break: anywhere; padding: 2px 4px; line-height: 22px\">${url}</code>`,\n  ],\n  disclaimer: () =>\n    \"Existing references to <strong>appsmith.URL.fullpath</strong> and <strong>appsmith.URL.pathname</strong> properties will behave differently.\",\n};\n\nexport const MEMBERS_TAB_TITLE = (\n  length: number,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  isFreeInstance?: boolean,\n) => `Users (${length})`;\nexport const SEARCH_USERS = (\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  isFreeInstance?: boolean,\n) => `Search for users`;\n\nexport const CREATE_PAGE = () => \"New blank page\";\nexport const CANVAS_NEW_PAGE_CARD = () => \"Create new page\";\nexport const ADD_PAGE_FROM_TEMPLATE = () => \"Add page from template\";\nexport const INVALID_URL = () =>\n  \"Please enter a valid URL, for example, https://example.com\";\nexport const SAVE_OR_DISCARD_DATASOURCE_WARNING = () =>\n  `Unsaved changes will be lost if you exit this page, save the changes before exiting.`;\n\nexport const APP_SETTINGS_PANE_HEADER = () => \"Settings\";\nexport const APP_SETTINGS_CLOSE_TOOLTIP = () => \"Close settings panel\";\n\nexport const GENERAL_SETTINGS_SECTION_HEADER = () => \"General\";\nexport const GENERAL_SETTINGS_SECTION_CONTENT_HEADER = () => \"General settings\";\nexport const GENERAL_SETTINGS_SECTION_HEADER_DESC = () => \"App name and icon\";\nexport const GENERAL_SETTINGS_APP_NAME_LABEL = () => \"App name\";\nexport const GENERAL_SETTINGS_NAME_EMPTY_MESSAGE = () =>\n  \"App name cannot be empty\";\nexport const GENERAL_SETTINGS_NAME_SPECIAL_CHARACTER_ERROR = () =>\n  \"Only alphanumeric or '-()' are allowed\";\nexport const GENERAL_SETTINGS_APP_ICON_LABEL = () => \"App icon\";\n\nexport const THEME_SETTINGS_SECTION_HEADER = () => \"Theme\";\nexport const THEME_SETTINGS_SECTION_CONTENT_HEADER = () => \"Theme settings\";\nexport const THEME_SETTINGS_SECTION_HEADER_DESC = () =>\n  \"Set theme, color and font\";\n\nexport const PAGE_SETTINGS_SECTION_HEADER = () => \"Page settings\";\nexport const PAGE_SETTINGS_SECTION_CONTENT_HEADER = () => \"settings\";\nexport const PAGE_SETTINGS_PAGE_NAME_LABEL = () => \"Page name\";\nexport const PAGE_SETTINGS_NAME_EMPTY_MESSAGE = () =>\n  \"Page name cannot be empty\";\nexport const PAGE_SETTINGS_NAME_SPECIAL_CHARACTER_ERROR = () =>\n  \"Only alphanumeric or '-' are allowed\";\nexport const PAGE_SETTINGS_PAGE_URL_LABEL = () => \"Change page URL\";\nexport const PAGE_SETTINGS_PAGE_URL_VERSION_UPDATE_1 = () => \"Please\";\nexport const PAGE_SETTINGS_PAGE_URL_VERSION_UPDATE_2 = () => \"update\";\nexport const PAGE_SETTINGS_PAGE_URL_VERSION_UPDATE_3 = () =>\n  \"your app URL to the new format to set the page URL.\";\nexport const PAGE_SETTINGS_SHOW_PAGE_NAV = () => \"Show page navigation\";\nexport const PAGE_SETTINGS_SHOW_PAGE_NAV_TOOLTIP = () =>\n  \"Show or hide the page in the appsmith navbar in view mode\";\nexport const PAGE_SETTINGS_SET_AS_HOMEPAGE = () => \"Set as home page\";\nexport const PAGE_SETTINGS_SET_AS_HOMEPAGE_TOOLTIP = () =>\n  \"This is the current home page, you can change this by setting another page as the home page\";\nexport const PAGE_SETTINGS_SET_AS_HOMEPAGE_TOOLTIP_NON_HOME_PAGE = () =>\n  \"Set this page as your home page. This will override your previously set home page.\";\nexport const PAGE_SETTINGS_ACTION_NAME_CONFLICT_ERROR = (name: string) =>\n  `${name} is already being used.`;\n\nexport const CODE_EDITOR_LOADING_ERROR = (message?: string) =>\n  `Failed to load the code editor${message ? `: ${message}` : \"\"}`;\n\nexport const UPDATE_VIA_IMPORT_SETTING = {\n  settingHeader: () => \"Update through file import\",\n  settingDesc: () => \"Update app by importing file\",\n  settingLabel: () => \"Import\",\n  settingContent: () =>\n    \"This action will override your existing application. Please exercise caution while selecting the file to import.\",\n  settingActionButtonTxt: () => \"Import\",\n  disabledForGit: () =>\n    \"This feature is not supported for apps connected to Git version control. Please use git pull to update and sync your app.\",\n};\n\nexport const IN_APP_EMBED_SETTING = {\n  applicationUrl: () => \"application url\",\n  allowEmbeddingLabel: () => \"Embedding enabled\",\n  allowEmbeddingTooltip: () =>\n    \"This app can be embedded in all domains, including malicious ones\",\n  forkApplicationConfirmation: {\n    title: () => \"Allow developers to fork this app to their workspace?\",\n    body: () => \"Forking allows developers to copy your app to their workspace\",\n    cancel: () => \"Cancel\",\n    confirm: () => \"Allow forking\",\n  },\n  copy: () => \"Copy\",\n  copied: () => \"Copied\",\n  limitEmbeddingLabel: () => \"Embedding restricted\",\n  limitEmbeddingTooltip: () => \"This app can be embedded in approved URLs only\",\n  disableEmbeddingLabel: () => \"Embedding disabled\",\n  disableEmbeddingTooltip: () =>\n    \"This app cannot be embedded anywhere on the internet\",\n  embed: () => \"Embed\",\n  embedSnippetTitle: () => \"Embed URL\",\n  change: () => \"Change\",\n  copiedEmbedCode: () => \"Embed code copied to clipboard\",\n  embedSize: () => \"Embed size\",\n  previewEmbeddedApp: () => \"Preview embedded app\",\n  sectionHeader: () => \"Share & Embed\",\n  sectionContentHeader: () => \"Share\",\n  sectionHeaderDesc: () => \"Make public, embed properties\",\n  showNavigationBar: () => \"Show navigation bar\",\n  forkContentHeader: () => \"Fork\",\n  forkLabel: () => \"Make application forkable\",\n  forkLabelTooltip: () =>\n    \"Forking allows developers to copy your app to their workspace\",\n  upgradeHeading: () =>\n    \"Embedding in public mode is supported in the free plan. To make your app public, please contact your administrator.\",\n  upgradeHeadingForInviteModal: () => \"Public apps\",\n  upgradeSubheadingForInviteModal: () =>\n    \"Make your app public by visiting the share settings, and easily embed your Appsmith app into legacy applications\",\n  privateAppsText: () => \"Private apps\",\n  rampSubtextModal: () =>\n    \"Embed private Appsmith apps and seamlessly authenticate users through SSO in our Enterprise Plan\",\n  rampSubtextSidebar: () =>\n    \"To embed private Appsmith apps and seamlessly authenticate users through SSO, try our \",\n  rampLinktext: () => \"Try Enterprise\",\n  rampLinktextvariant2: () => \"Enterprise Plan\",\n  upgradeContent: () => \"Private embedding is now available in\",\n  appsmithEnterpriseEdition: () => \"Appsmith Enterprise Plan.\",\n  secondaryHeadingForAppSettings: () =>\n    \"Make your app public to embed your Appsmith app into legacy applications\",\n  secondaryHeading: () =>\n    \"Embedding in public mode is supported in the free plan. To make your app public, please contact your administrator.\",\n};\n\nexport const APP_NAVIGATION_SETTING = {\n  sectionHeader: () => \"Navigation\",\n  sectionHeaderDesc: () => \"Customize the navigation bar\",\n  showNavbarLabel: () => \"Show navbar\",\n  orientationLabel: () => \"Orientation\",\n  navStyleLabel: () => \"Variant\",\n  positionLabel: () => \"Position\",\n  itemStyleLabel: () => \"Item style\",\n  colorStyleLabel: () => \"Background color\",\n  logoLabel: () => \"Logo\",\n  logoConfigurationLabel: () => \"Logo configuration\",\n  showSignInLabel: () => \"Show sign in\",\n  showSignInTooltip: () =>\n    \"Toggle to show the sign-in button for users who are not logged in.\",\n  logoUploadFormatError: () => `Uploaded file must be in .PNG or .JPG formats.`,\n  logoUploadSizeError: () => `Uploaded file must be less than 1MB.`,\n  showLogoLabel: () => \"Show logo\",\n  showApplicationTitleLabel: () => \"Show application title\",\n};\n\nexport const LOCK_SIDEBAR_MESSAGE = () => `Lock sidebar open`;\nexport const CLOSE_SIDEBAR_MESSAGE = () => `Close sidebar`;\n\n// Datasource/New query\nexport const NEW_QUERY_BUTTON_TEXT = () => \"New query\";\nexport const NEW_API_BUTTON_TEXT = () => \"New API\";\nexport const NEW_AI_BUTTON_TEXT = () => \"New AI Query\";\nexport const GENERATE_NEW_PAGE_BUTTON_TEXT = () => \"Generate new page\";\nexport const RECONNECT_BUTTON_TEXT = () => \"Reconnect\";\nexport const SAVE_BUTTON_TEXT = () => \"Save\";\nexport const TEST_BUTTON_TEXT = () => \"Test configuration\";\nexport const SAVE_AND_AUTHORIZE_BUTTON_TEXT = () => \"Save & Authorize\";\nexport const SAVE_AND_RE_AUTHORIZE_BUTTON_TEXT = () => \"Save & Re-Authorize\";\nexport const DISCARD_POPUP_DONT_SAVE_BUTTON_TEXT = () => \"Don't save\";\nexport const GSHEET_AUTHORISED_FILE_IDS_KEY = () => \"userAuthorizedSheetIds\";\nexport const GOOGLE_SHEETS_INFO_BANNER_MESSAGE = () =>\n  \"Appsmith will require access to your google drive to access google sheets.\";\nexport const GOOGLE_SHEETS_AUTHORIZE_DATASOURCE = () => \"Authorize datasource\";\nexport const GOOGLE_SHEETS_LEARN_MORE = () => \"Learn more\";\nexport const DATASOURCE_SCHEMA_NOT_AVAILABLE = () => \"Schema is not available\";\nexport const DATASOURCE_INTERCOM_TEXT = () =>\n  \"Do you need help setting up a Google Sheets datasource?\";\nexport const GOOGLE_SHEETS_ASK_FOR_SUPPORT = () => \"Ask for support\";\nexport const GOOGLE_SHEETS_FILE_PICKER_TITLE = () =>\n  \"Select Google Sheets to query\";\nexport const DATASOURCE_GENERATE_PAGE_BUTTON = () => \"Generate new page\";\nexport const FETCHING_DATASOURCE_PREVIEW_DATA = () => \"Loading data\";\nexport const SCHEMA_PREVIEW_NO_DATA = () =>\n  \"No data records to show or the table header begins with an index other than 1\";\nexport const GSHEET_SPREADSHEET_LABEL = () => \"Spreadsheets\";\nexport const GSHEET_SPREADSHEET_LOADING = () => \"Loading Spreadsheets\";\nexport const GSHEET_SHEET_LOADING = () => \"Loading Sheets\";\nexport const GSHEET_DATA_LOADING = () => \"Loading attributes\";\nexport const GSHEET_SEARCH_PLACEHOLDER = () => \"Search for spreadsheet\";\n\n//Layout Conversion flow\nexport const CONVERT = () => \"Convert layout\";\nexport const BUILD_RESPONSIVE = () => \"Build responsive apps\";\nexport const BUILD_RESPONSIVE_TEXT = () =>\n  \"Appsmith will convert your application's UI to auto-layout, a new mode designed for building mobile-friendly apps in no time\";\nexport const BUILD_FIXED_LAYOUT = () => \"Use fixed-layout\";\nexport const BUILD_FIXED_LAYOUT_TEXT = () =>\n  \"Appsmith will convert your application’s UI to fixed layout, the default mode.\";\nexport const USE_SNAPSHOT = () => \"Use snapshot\";\nexport const USE_SNAPSHOT_HEADER = () => \"Use snapshot\";\nexport const DISCARD_SNAPSHOT_HEADER = () => \"Discarding a snapshot\";\nexport const SAVE_SNAPSHOT = () =>\n  \"Save a snapshot of your current layout for 5 days\";\nexport const SAVE_SNAPSHOT_TEXT = () =>\n  \"We save a snapshot of your current layout so you can go back if auto-layout doesn't work for you in this beta.\";\nexport const CREATE_SNAPSHOT = () => \"Creating a snapshot\";\nexport const CONVERTING_APP = () => \"Converting your app\";\nexport const RESTORING_SNAPSHOT = () => \"Removing changes made\";\nexport const REFRESH_THE_APP = () => \"Refresh the app\";\nexport const CONVERT_ANYWAYS = () => \"Convert anyways\";\nexport const CONVERSION_SUCCESS_HEADER = () => \"All done\";\nexport const DISCARD_SNAPSHOT_TEXT = () =>\n  \"You are about to discard this snapshot:\";\nexport const CONVERSION_SUCCESS_TEXT = () =>\n  \"Check all your pages and start using your new layout\";\nexport const CONVERSION_WARNING_HEADER = () =>\n  \"All done, some adjustments needed\";\nexport const CONVERSION_WARNING_TEXT = () =>\n  \"You might need to manually position some of the widgets your layout contains\";\nexport const CONVERSION_ERROR_HEADER = () => \"Conversion failed\";\nexport const CONVERSION_ERROR = () =>\n  \"Appsmith ran into a critical error while trying to convert to auto-layout\";\nexport const SEND_REPORT = () => \"Send us a report\";\nexport const CONVERSION_ERROR_TEXT = () => \"No changes were made to your app\";\nexport const DROPDOWN_LABEL_TEXT = () => \"Target canvas size\";\nexport const CONVERSION_WARNING = () => \"Conversion will change your layout\";\nexport const SNAPSHOT_LABEL = () =>\n  \"To revert back to the original state use this snapshot\";\nexport const USE_SNAPSHOT_TEXT = () =>\n  \"Your app will look and work exactly like it used to before the conversion. Widgets, datasources, queries, JS Objects added and any changes you made after conversion will not be present.\";\nexport const SNAPSHOT_WARNING_MESSAGE = () =>\n  \"Any changes you made after conversion will not be present.\";\nexport const CONVERT_TO_FIXED_TITLE = () => \"Convert to fixed layout\";\nexport const CONVERT_TO_FIXED_BUTTON = () => \"Convert to fixed layout (Beta)\";\nexport const CONVERT_TO_AUTO_TITLE = () => \"Convert to auto-layout\";\nexport const CONVERT_TO_AUTO_BUTTON = () => \"Convert to auto-layout (Beta)\";\nexport const SNAPSHOT_BANNER_MESSAGE = () =>\n  \"Confirm this layout is per expectations before you discard the snapshot. Use the snapshot to go back.\";\nexport const USE_SNAPSHOT_CTA = () => \"Use snapshot\";\nexport const DISCARD_SNAPSHOT_CTA = () => \"Discard snapshot\";\nexport const MORE_DETAILS = () => \"More details\";\nexport const CONVERSION_ERROR_MESSAGE_HEADER = () =>\n  \"To resolve this error please:\";\nexport const CONVERSION_ERROR_MESSAGE_TEXT_ONE = () =>\n  \"Check your internet connection.\";\nexport const CONVERSION_ERROR_MESSAGE_TEXT_TWO = () =>\n  \"Send us a report. Sending a report will only inform us that the failure happened and will give us your email address to reach out to.\";\nexport const SNAPSHOT_TIME_FROM_MESSAGE = (\n  timeSince: string,\n  readableDate: string,\n) => `Snapshot from ${timeSince} ago (${readableDate})`;\nexport const SNAPSHOT_TIME_TILL_EXPIRATION_MESSAGE = (\n  timeTillExpiration: string,\n) => `Snapshot of your previous layout expires in ${timeTillExpiration}`;\nexport const DISCARD = () => \"Discard\";\n// Alert options and labels for showMessage types\nexport const ALERT_STYLE_OPTIONS = [\n  { label: \"Info\", value: \"'info'\", id: \"info\" },\n  {\n    label: \"Success\",\n    value: \"'success'\",\n    id: \"success\",\n  },\n  { label: \"Error\", value: \"'error'\", id: \"error\" },\n  { label: \"Warning\", value: \"'warning'\", id: \"warning\" },\n];\n\nexport const customJSLibraryMessages = {\n  ADD_JS_LIBRARY: () => \"Add JS libraries\",\n  REC_LIBRARY: () => \"Recommended libraries\",\n  INSTALLATION_SUCCESSFUL: (accessor: string) =>\n    `Installation Successful. You can access the library via ${accessor}`,\n  INSTALLATION_FAILED: () => \"Installation failed\",\n  INSTALLED_ALREADY: (accessor: string) =>\n    `This library is already installed. You could access it via ${accessor}.`,\n  UNINSTALL_FAILED: (name: string) =>\n    `Couldn't uninstall ${name}. Please try again after sometime.`,\n  UNINSTALL_SUCCESS: (accessor: string) =>\n    `${accessor} is uninstalled successfully.`,\n  LEARN_MORE_DESC: () => \"Learn more about Custom JS libraries\",\n  UNSUPPORTED_LIB: () => `Library is unsupported`,\n  UNSUPPORTED_LIB_DESC: () =>\n    `Unfortunately, this library cannot be supported due to platform limitations. Please try installing a different library.`,\n  LEARN_MORE: () => `Learn more`,\n  REPORT_ISSUE: () => `Report issue`,\n  AUTOCOMPLETE_FAILED: (name: string) =>\n    `Code completion for ${name} will not work.`,\n  CLIENT_LOAD_FAILED: (url: string) => `Failed to load the script at ${url}.`,\n  LIB_OVERRIDE_ERROR: (\n    name: string,\n  ) => `The library ${name} is already installed.\n  If you are trying to install a different version, uninstall the library first.`,\n  DEFS_FAILED_ERROR: (name: string) =>\n    `Failed to generate autocomplete definitions for ${name}.`,\n  IMPORT_URL_ERROR: (url: string) =>\n    `The script at ${url} cannot be installed.`,\n  NAME_COLLISION_ERROR: (accessors: string) =>\n    `Name collision detected: ${accessors}`,\n};\n\n// Business Plan upgrade page\nexport const MOVE_TO_BUSINESS_EDITION = (trailingChar: string) =>\n  `Move to Business plan${trailingChar ? trailingChar : \"\"}`;\n\n//Datasource environment\nexport const START_SWITCH_ENVIRONMENT = (environment: string) =>\n  `Switching your environment to ${environment.toLowerCase()}, and running all associated pageload actions`;\nexport const SWITCH_ENVIRONMENT_SUCCESS = (environment: string) =>\n  `Environment switched to ${environment.toLowerCase()} successfully`;\nexport const SWITCH_ENV_DISABLED_TOOLTIP_TEXT = (): string =>\n  \"To access environments for datasources, try out our \";\n\nexport const TEST_DATASOURCE_SUCCESS = (\n  datasourceName: string,\n  environmentName: string,\n) => {\n  return environmentName\n    ? `Test was successful, ${datasourceName} ${environmentName.toLowerCase()} environment is correctly configured.`\n    : `Test was successful, ${datasourceName} is correctly configured.`;\n};\n\nexport const TEST_DATASOURCE_ERROR = () =>\n  \"Test failed, couldn't establish a connection\";\n\n// Camera widget\nexport const DEFAULT_CAMERA_LABEL = () => \"Default mobile camera\";\nexport const DEFAULT_CAMERA_LABEL_DESCRIPTION = () =>\n  \"Default choice for mobile users. Not applicable for other devices\";\nexport const FRONT_CAMERA_LABEL = () => \"Front (Selfie)\";\nexport const BACK_CAMERA_LABEL = () => \"Back (Rear)\";\n\n// Color picker\nexport const FULL_COLOR_PICKER_LABEL = () => \"Full color picker\";\n\n// Column selector modal\nexport const EDIT_FIELDS = () => \"Edit fields\";\nexport const FIELDS_CONFIGURATION = () => \"Fields Configuration\";\nexport const SAVE_CHANGES = () => \"Save changes\";\nexport const COLUMN_TYPE = () => \"Column type\";\nexport const COLUMN_NAME = () => \"Column name\";\nexport const EDIT_FIELDS_DISABLED_TOOLTIP_TEXT = () =>\n  \"Select a table to edit fields\";\n\nexport const SAVE_CHANGES_DISABLED_TOOLTIP_TEXT = () =>\n  \"You have to select at least 1 field to save\";\n\nexport const NO_CONNECTABLE_WIDGET_FOUND = () =>\n  \"Add a table or list widget with data to get the values from\";\n\nexport const CONNECT_BUTTON_TEXT = () => \"Connect data\";\n\nexport const NO_FIELDS_ADDED = () => \"No fields added\";\n\n// One click binding control\nexport const DATASOURCE_DROPDOWN_OPTIONS = {\n  CONNECT_TO_QUERY: () => \"Connect to query\",\n  CONNECT_TO: () => \"Connect to\",\n  CHOOSE_DATASOURCE_TO_CONNECT: () => \"Choose datasource to connect\",\n  CREATE_OR_EDIT_RECORDS: () => \"Create or Edit records\",\n  WRITE_JSON_SCHEMA: () => \"Write JSON schema\",\n  SELECT_A_DATASOURCE: () => \"Select a datasource\",\n  CONNECT_DATA: () => \"Connect data\",\n  OTHER_ACTIONS: () => \"Other actions\",\n};\n\nexport const COMMUNITY_TEMPLATES = {\n  tabTitle: () => \"Showcase\",\n  cancel: () => \"Cancel\",\n  publishSuccessPage: {\n    title: () => \"Live on Appsmith community\",\n    description: () =>\n      \"This application is live on community as a template for users to fork and remix.\",\n    viewTemplateButton: () => \"View template\",\n  },\n  publishFormPage: {\n    title: () => \"Publish to community\",\n    footer: {\n      publishButton: () => \"Publish to community\",\n      tnCText: () =>\n        \"I understand publishing this app will allow users outside my workspace to fork it to their workspace.\",\n    },\n    preview: {\n      thumbnail: () => \"Thumbnail will be generated automatically\",\n    },\n    templateForm: {\n      titleInputLabel: () => \"Title\",\n      titleInputPlaceholder: () => \"Title of the template\",\n      titleRequiredError: () => `Please provide title`,\n\n      excerptInputLabel: () => \"Headline\",\n      excerptInputPlaceholder: () => \"One line excerpt\",\n\n      descriptionInputLabel: () => \"Description\",\n      descriptionInputPlaceholder: () => \"Description of the template\",\n\n      useCasesInputLabel: () => \"Use-cases\",\n      useCasesInputPlaceholder: () => \"Select use cases\",\n    },\n    authorDetails: {\n      title: () => \"Author details\",\n      displayNameLabel: () => \"Display name\",\n      displayNamePlaceholder: () => \"Display name\",\n      nameRequiredError: () => `Please provide name`,\n\n      emailLabel: () => \"Email\",\n      emailPlaceholder: () => \"Email\",\n    },\n    applicationSettings: {\n      title: () => \"Application settings\",\n      publicSetting: () => \"Make application public\",\n      forkableSetting: () => \"Make application forkable\",\n    },\n    publishedInfo: {\n      title: () => \"What is published?\",\n      correct: [\n        () => \"Widgets & their properties\",\n        () => \"Queries & JS Objects\",\n        () => \"Datasource types\",\n      ],\n      incorrect: [\n        () => \"Datasource credentials\",\n        () => \"API authentication details\",\n        () => \"Environment variables\",\n        () => \"Git credentials\",\n      ],\n    },\n    publishedFailedError: () => \"Unable to publish\",\n  },\n  modals: {\n    unpublishedInfo: {\n      title: () => \"Publish to Appsmith community\",\n      description: () =>\n        \"Publish this app to Appsmith community for the public to view, fork, and remix.\",\n      publishBtn: () => \"Start publishing\",\n    },\n    publishedInfo: {\n      title: () => \"Live on Appsmith community!\",\n      description: () =>\n        \"This application is live on community as a template for users to fork and remix.\",\n      viewTemplate: () => \"View template\",\n    },\n  },\n};\n\n// Interim data state info\nexport const EMPTY_TABLE_TITLE_TEXT = () => \"Empty table\";\nexport const EMPTY_TABLE_MESSAGE_TEXT = () =>\n  \"There are no data records to show\";\nexport const NO_COLUMNS_MESSAGE_TEXT = () => \"There are no columns to show\";\nexport const LOADING_RECORDS_TITLE_TEXT = () => \"Loading records\";\nexport const LOADING_RECORDS_MESSAGE_TEXT = () => \"This may take a few seconds\";\nexport const FAILED_RECORDS_TITLE_TEXT = () => \"Failed to load\";\nexport const FAILED_RECORDS_MESSAGE_TEXT = () =>\n  \"There was an error connecting to the datasource. Please check the datasource configuration and retry. If the issue persists, review the datasource settings.\";\n\nexport const DATA_PANE_TITLE = () => \"Datasources in your workspace\";\nexport const DATASOURCE_LIST_BLANK_DESCRIPTION = () =>\n  \"Connect a datasource to write your first query\";\nexport const DATASOURCE_BLANK_STATE_MESSAGE = () => \"No datasources to display\";\n\n// Create New Apps Intermediary step\nexport const CREATE_NEW_APPS_STEP_TITLE = () => \"How would you like to start?\";\nexport const CREATE_NEW_APPS_STEP_SUBTITLE = () =>\n  \"Choose an option that fits your approach, and let's shape your app together.\";\nexport const START_FROM_TEMPLATE_TITLE = () => \"Start with template\";\nexport const START_FROM_TEMPLATE_SUBTITLE = () =>\n  \"Begin with an app for a specific scenario. We'll guide you through tailoring your app.\";\nexport const START_FROM_SCRATCH_TITLE = () => \"Start from scratch\";\nexport const START_FROM_SCRATCH_SUBTITLE = () =>\n  \"Create an app from the ground up. Design every detail of your app on a blank canvas.\";\nexport const START_WITH_DATA_TITLE = () => \"Start with data\";\nexport const START_WITH_DATA_SUBTITLE = () =>\n  \"Get started with connecting your data, and easily craft a functional application.\";\nexport const START_WITH_DATA_CONNECT_HEADING = () => \"Connect your datasource\";\nexport const START_WITH_DATA_CONNECT_SUBHEADING = () =>\n  \"Select an option to establish a connection. Your data's security is our priority.\";\nexport const START_WITH_TEMPLATE_CONNECT_HEADING = () => \"Select a template\";\nexport const START_WITH_TEMPLATE_CONNECT_SUBHEADING = () =>\n  \"Choose an option below to embark on your app-building adventure!\";\n\nexport const EDITOR_PANE_TEXTS = {\n  queries_tab: () => \"Queries\",\n  js_tab: () => \"JS\",\n  ui_tab: () => \"UI\",\n  query_blank_state: () => \"No queries to display\",\n  js_blank_state: () => \"No JS objects to display\",\n  query_blank_state_description: () =>\n    \"Write your first query or API to access data\",\n  js_blank_state_description: () =>\n    \"Use JS to transform your data or write business logic\",\n  widget_blank_state_description: () =>\n    \"Drag & drop UI elements to create your app\",\n  query_add_button: () => \"New query / API\",\n  js_add_button: () => \"New JS object\",\n  js_blank_object_item: () => \"Blank JS object\",\n  widget_add_button: () => \"New UI element\",\n  query_create_tab_title: () => \"Create new query from\",\n  widgets_create_tab_title: () => \"Drag & drop UI elements\",\n  js_create_tab_title: () => \"Create JS object from\",\n  queries_create_from_existing: () => \"From existing datasource\",\n  queries_create_new: () => \"New API\",\n  loading_building_blocks: () => \"Loading building blocks\",\n};\n\nexport const PARTIAL_IMPORT_EXPORT = {\n  export: {\n    modalHeading: () => \"Export\",\n    modalSubHeading: () => \"Select entities below to export from the Page\",\n    cta: () => \"Export selected entities\",\n    sections: {\n      jsObjects: () => \"JS objects\",\n      databases: () => \"Databases\",\n      queries: () => \"Queries\",\n      customLibs: () => \"Custom libraries\",\n      widgets: () => \"Widgets\",\n    },\n  },\n  import: {\n    modalHeading: () => \"Import\",\n    modalSubheading: () => \"Import partial application from file\",\n  },\n};\n\nexport const DATASOURCE_SECURELY_TITLE = () => \"Secure & fast connection\";\n\nexport const CUSTOM_WIDGET_FEATURE = {\n  addEvent: {\n    addCTA: () => \"Add\",\n    cancelCTA: () => \"Cancel\",\n    addEventCTA: () => \"Add Event\",\n    nameLabel: () => \"Name\",\n    errors: {\n      restricted: () => \"Event name is restricted\",\n      duplicate: () => \"Event name already exists\",\n    },\n  },\n  editSource: {\n    editSourceCTA: () => \"Edit source\",\n    goToSourceCTA: () => \"Go to source editor\",\n  },\n  builder: {\n    header: () => \"Custom Widget Builder\",\n    close: () => \"Close\",\n    connectionLost: () =>\n      \"Connection lost because the custom widget was deselected. Please reselect this widget to continue editing.\",\n    editor: {\n      css: {\n        contextTooltipScss: () => \"Supports SCSS syntax.\",\n        contextTooltipVariables: () => \"You can use following css variables.\",\n        placeholder: () =>\n          \"/* you can access string and number properties of your model using `var(--appsmith-model-<property-name>)`*/\",\n      },\n      html: {\n        placeholder: () =>\n          \"<!-- no need to write html, head, body tags, it is handled by the widget -->\",\n      },\n      js: {\n        placeholder: () =>\n          \"// no need to write window onLoad, it is handled by the widget\",\n      },\n    },\n  },\n  templateKey: {\n    blank: () => \"Blank\",\n    vanillaJs: () => \"Vanilla JS\",\n    react: () => \"React\",\n    vue: () => \"Vue\",\n  },\n  template: {\n    modal: {\n      header: () => \"Are you sure?\",\n      body: () =>\n        \"This will replace the current changes in the HTML, CSS and JS files.\",\n      successCTA: () => \"Replace\",\n      cancelCTA: () => \"Cancel\",\n    },\n    buttonCTA: () => \"Templates\",\n    revert: () => \"Revert to Original\",\n  },\n  layout: {\n    tab: () => \"Tabs\",\n    split: () => \"Splits\",\n  },\n  referrences: {\n    title: () => \"References\",\n    tooltip: {\n      open: () => \"Open references\",\n      close: () => \"Close references\",\n    },\n    liveModel: {\n      helpMessage: [\n        () => \"- Use `appsmith.model` to access your model in javascript\",\n        () =>\n          \"- Use `appsmith.updateModel()` to update your model from javascript\",\n      ],\n      label: () => \"Live Model\",\n    },\n    events: {\n      helpMessage: [\n        () =>\n          \"- Use `appsmith.triggerEvent(&lt;EVENT_NAME&gt;)` to trigger an event\",\n        () =>\n          \"- `appsmith.triggerEvent()` also accepts context data as second arg\",\n      ],\n      label: () => \"Events\",\n      emptyMessage: () =>\n        \"You haven’t created any events. Return to the app editor to add events to this custom widget.\",\n    },\n    help: {\n      message: () =>\n        \"Learn how custom widgets work, and how to access data from the rest of your app within this widget.\",\n      buttonCTA: () => \"Documentation\",\n    },\n  },\n  debugger: {\n    title: () => \"Console\",\n    emptyMessage: () => \"Errors and logs will appear here\",\n    helpDropdown: {\n      stackoverflow: () => \"Search StackOverflow\",\n    },\n    noOnReadyWarning: (url: string) =>\n      `Missing appsmith.onReady() function call. Initiate your component inside 'appsmith.onReady()' for your custom widget to work as expected. For more information - ${url}`,\n  },\n  preview: {\n    eventFired: () => \"Event fired:\",\n    modelUpdated: () => \"Model updated\",\n  },\n};\n\nexport const WIDGET_PANEL_EMPTY_MESSAGE = () =>\n  \"We couldn’t find any UI elements called\";\n\nexport const UI_ELEMENT_PANEL_SEARCH_TEXT = () => \"Search UI elements\";\n\nexport const HTTP_PROTOCOL_INPUT_PLACEHOLDER = () => `Select HTTP Protocol`;\n\nexport const ADD_PAGE_FROM_TEMPLATE_MODAL = {\n  title: () => \"Add page(s) from a template\",\n  buildingBlocksTitle: () => \"Building Blocks\",\n};\n\nexport const HEADER_TITLES = {\n  DATA: () => \"Data\",\n  EDITOR: () => \"Pages\",\n  SETTINGS: () => \"Settings\",\n  LIBRARIES: () => \"Libraries\",\n};\n\nexport const PASTE_FAILED = (str: string): string => `Paste failed! ${str}`;\n\nexport const CREATE_A_NEW_ITEM = (item: string) => `Create a new ${item}`;\n\nexport const MAXIMIZE_BUTTON_TOOLTIP = () =>\n  `Expand code editor to full-screen`;\nexport const MINIMIZE_BUTTON_TOOLTIP = () => `Open code editor next to the UI`;\nexport const SPLITPANE_ANNOUNCEMENT = {\n  TITLE: () => \"Code and UI, side-by-side\",\n  DESCRIPTION: () =>\n    \"Write queries and JS functions while you refer to the UI on the side! This is a beta version that we will continue to improve with your feedback.\",\n};\n\nexport const CANVAS_VIEW_MODE_TOOLTIP = (shortcutKey: string) =>\n  `💡 ${shortcutKey} click a widget to navigate to UI mode.`;\n\nexport const EMPTY_CANVAS_HINTS = {\n  DRAG_DROP_WIDGET_HINT: () => \"Drag and drop a widget here\",\n  DRAG_DROP_BUILDING_BLOCK_HINT: {\n    TITLE: () => \"Drag & drop a building block\",\n    DESCRIPTION: () => \"Make a working app in seconds using functional blocks\",\n  },\n};\n\nexport const BETA_TAG = () => `Beta`;\n\nexport const BUTTON_WIDGET_DEFAULT_LABEL = () => \"Do something\";\n\nexport const PAGE_ENTITY_NAME = \"Page\";\n\nexport const EMPTY_DATASOURCE_TOOLTIP_SIDEBUTTON = () =>\n  \"Create a datasource to power your app with data.\";\n","import { ENTITY_TYPE } from \"entities/DataTree/dataTreeFactory\";\nimport type { DataTreeEntity } from \"entities/DataTree/dataTreeTypes\";\nimport { getJSActionForEvalContext } from \"workers/Evaluation/getJSActionForEvalContext\";\n\nexport const getEntityForEvalContextMap: Record<\n  string,\n  (entityName: string, entity: DataTreeEntity) => unknown\n> = {\n  [ENTITY_TYPE.JSACTION]: (entityName, entity) => {\n    return getJSActionForEvalContext(entityName, entity);\n  },\n};\n","import { getEntityForEvalContextMap } from \"@appsmith/workers/Evaluation/getEntityForEvalContextMap\";\nimport type { DataTreeEntity } from \"entities/DataTree/dataTreeTypes\";\n\nexport function getEntityForEvalContext(\n  entity: DataTreeEntity,\n  entityName: string,\n) {\n  const getterMethod = getEntityForEvalContextMap[entity.ENTITY_TYPE];\n\n  if (!getterMethod) return entity;\n\n  return getterMethod(entityName, entity);\n}\n","/* eslint-disable @typescript-eslint/ban-types */\n\nimport set from \"lodash/set\";\nimport type { DataTreeEntityConfig } from \"@appsmith/entities/DataTree/types\";\nimport type {\n  ConfigTree,\n  DataTree,\n  DataTreeEntity,\n} from \"entities/DataTree/dataTreeTypes\";\nimport type { EvalContext } from \"workers/Evaluation/evaluate\";\nimport type { EvaluationVersion } from \"constants/EvalConstants\";\nimport { addFn } from \"workers/Evaluation/fns/utils/fnGuard\";\nimport {\n  getEntityFunctions,\n  getPlatformFunctions,\n} from \"@appsmith/workers/Evaluation/fns\";\nimport { getEntityForEvalContext } from \"workers/Evaluation/getEntityForContext\";\nimport { klona } from \"klona/full\";\nimport { isEmpty } from \"lodash\";\nimport setters from \"workers/Evaluation/setters\";\ndeclare global {\n  /** All identifiers added to the worker global scope should also\n   * be included in the DEDICATED_WORKER_GLOBAL_SCOPE_IDENTIFIERS in\n   * app/client/src/constants/WidgetValidation.ts\n   * */\n\n  interface Window {\n    $isDataField: boolean;\n    $isAsync: boolean;\n    $evaluationVersion: EvaluationVersion;\n    $cloudHosting: boolean;\n  }\n}\n\nexport enum ExecutionType {\n  PROMISE = \"PROMISE\",\n  TRIGGER = \"TRIGGER\",\n}\n\n/**\n * This method returns new dataTree with entity function and platform function\n */\nexport const addDataTreeToContext = (args: {\n  EVAL_CONTEXT: EvalContext;\n  dataTree: Readonly<DataTree>;\n  removeEntityFunctions?: boolean;\n  isTriggerBased: boolean;\n  configTree: ConfigTree;\n}) => {\n  const {\n    configTree,\n    dataTree,\n    EVAL_CONTEXT,\n    isTriggerBased,\n    removeEntityFunctions = false,\n  } = args;\n  const dataTreeEntries = Object.entries(dataTree);\n  const entityFunctionCollection: Record<string, Record<string, Function>> = {};\n\n  if (isTriggerBased && !removeEntityFunctions) setters.clear();\n\n  for (const [entityName, entity] of dataTreeEntries) {\n    EVAL_CONTEXT[entityName] = getEntityForEvalContext(entity, entityName);\n\n    // when we evaluate data field and removeEntityFunctions is true then we skip adding entity function to evalContext\n    const skipEntityFunctions = !removeEntityFunctions && !isTriggerBased;\n\n    if (skipEntityFunctions) continue;\n\n    for (const entityFn of getEntityFunctions()) {\n      if (!entityFn.qualifier(entity)) continue;\n      const func = entityFn.fn(entity, entityName);\n      const fullPath = `${entityFn.path || `${entityName}.${entityFn.name}`}`;\n      set(entityFunctionCollection, fullPath, func);\n    }\n\n    // Don't add entity function ( setter method ) to evalContext if removeEntityFunctions is true\n    if (removeEntityFunctions) continue;\n\n    const entityConfig = configTree[entityName];\n    const entityMethodMap = setters.getEntitySettersFromConfig(\n      entityConfig,\n      entityName,\n      entity,\n    );\n\n    if (isEmpty(entityMethodMap)) continue;\n    EVAL_CONTEXT[entityName] = Object.assign(\n      {},\n      dataTree[entityName],\n      entityMethodMap,\n    );\n  }\n\n  if (removeEntityFunctions)\n    return removeEntityFunctionsFromEvalContext(\n      entityFunctionCollection,\n      EVAL_CONTEXT,\n    );\n\n  if (!isTriggerBased) return;\n  // if eval is not trigger based i.e., sync eval then we skip adding entity function to evalContext\n  addEntityFunctionsToEvalContext(EVAL_CONTEXT, entityFunctionCollection);\n};\n\nexport const addEntityFunctionsToEvalContext = (\n  evalContext: EvalContext,\n  entityFunctionCollection: Record<string, Record<string, Function>>,\n) => {\n  for (const [entityName, funcObj] of Object.entries(\n    entityFunctionCollection,\n  )) {\n    evalContext[entityName] = Object.assign(\n      {},\n      evalContext[entityName],\n      funcObj,\n    );\n  }\n};\n\nexport const addPlatformFunctionsToEvalContext = (context: any) => {\n  for (const fnDef of getPlatformFunctions()) {\n    addFn(context, fnDef.name, fnDef.fn.bind(context));\n  }\n};\n\nexport function getAllSetterFunctions(\n  dataTree: DataTree,\n  configTree: ConfigTree,\n) {\n  const entitiesSetterFunctions: Record<string, true> = {};\n  const dataTreeEntries = Object.entries(dataTree);\n  for (const [entityName, entity] of dataTreeEntries) {\n    const entityConfig = configTree[entityName];\n    const entityMethodMap = setters.getEntitySettersFromConfig(\n      entityConfig,\n      entityName,\n      entity,\n    );\n\n    if (isEmpty(entityMethodMap)) continue;\n\n    for (const methodName of Object.keys(entityMethodMap)) {\n      entitiesSetterFunctions[`${entityName}.${methodName}`] = true;\n    }\n  }\n  return entitiesSetterFunctions;\n}\n\nexport function getEntitySetterFunctions(\n  entityConfig: DataTreeEntityConfig,\n  entityName: string,\n  entity: DataTreeEntity,\n) {\n  const entitySetterFunctions: Record<string, true> = {};\n  const entityMethodMap = setters.getEntitySettersFromConfig(\n    entityConfig,\n    entityName,\n    entity,\n  );\n\n  for (const methodName of Object.keys(entityMethodMap)) {\n    entitySetterFunctions[`${entityName}.${methodName}`] = true;\n  }\n  return entitySetterFunctions;\n}\n\nexport const getAllAsyncFunctions = (\n  dataTree: DataTree,\n  configTree: ConfigTree,\n) => {\n  let allAsyncFunctions: Record<string, true> = {};\n  const dataTreeEntries = Object.entries(dataTree);\n  for (const [entityName, entity] of dataTreeEntries) {\n    for (const entityFn of getEntityFunctions()) {\n      if (!entityFn.qualifier(entity)) continue;\n      const fullPath = `${entityFn.path || `${entityName}.${entityFn.name}`}`;\n      allAsyncFunctions[fullPath] = true;\n    }\n  }\n  const setterMethods = getAllSetterFunctions(dataTree, configTree);\n  allAsyncFunctions = { ...allAsyncFunctions, ...setterMethods };\n  for (const platformFn of getPlatformFunctions()) {\n    allAsyncFunctions[platformFn.name] = true;\n  }\n  return allAsyncFunctions;\n};\n\nexport const removeEntityFunctionsFromEvalContext = (\n  entityFunctionCollection: Record<string, Record<string, Function>>,\n  evalContext: EvalContext,\n) => {\n  for (const [entityName, funcObj] of Object.entries(\n    entityFunctionCollection,\n  )) {\n    const entity = klona(evalContext[entityName]);\n    Object.keys(funcObj).forEach((entityFn) => {\n      delete entity[entityFn];\n    });\n    evalContext[entityName] = entity;\n  }\n};\n","import { APPSMITH_NAMESPACED_FUNCTIONS as EE_APPSMITH_NAMESPACED_FUNCTIONS } from \"@appsmith/entities/Engine/actionHelpers\";\n\nexport enum APPSMITH_GLOBAL_FUNCTIONS {\n  navigateTo = \"navigateTo\",\n  showAlert = \"showAlert\",\n  showModal = \"showModal\",\n  closeModal = \"closeModal\",\n  storeValue = \"storeValue\",\n  removeValue = \"removeValue\",\n  clearStore = \"clearStore\",\n  download = \"download\",\n  copyToClipboard = \"copyToClipboard\",\n  resetWidget = \"resetWidget\",\n  setInterval = \"setInterval\",\n  clearInterval = \"clearInterval\",\n  postWindowMessage = \"postWindowMessage\",\n}\n\nexport enum APPSMITH_NAMESPACED_FUNCTIONS {\n  getGeolocation = \"appsmith.geolocation.getCurrentPosition\",\n  watchGeolocation = \"appsmith.geolocation.watchPosition\",\n  stopWatchGeolocation = \"appsmith.geolocation.clearWatch\",\n}\n\nexport enum APPSMITH_INTEGRATIONS {\n  none = \"none\",\n  integration = \"integration\",\n  jsFunction = \"jsFunction\",\n}\n\nexport const AppsmithFunction = {\n  ...APPSMITH_INTEGRATIONS,\n  ...APPSMITH_GLOBAL_FUNCTIONS,\n  ...APPSMITH_NAMESPACED_FUNCTIONS,\n  ...EE_APPSMITH_NAMESPACED_FUNCTIONS,\n};\n\nexport const AppsmithFunctionsWithFields = [\n  ...Object.values(APPSMITH_NAMESPACED_FUNCTIONS),\n  ...Object.keys(APPSMITH_GLOBAL_FUNCTIONS),\n];\n\nexport const RESET_CHILDREN_OPTIONS = [\n  { label: \"true\", value: \"true\", id: \"true\" },\n  { label: \"false\", value: \"false\", id: \"false\" },\n];\n\nexport const FILE_TYPE_OPTIONS = [\n  { label: \"Select file type (optional)\", value: \"\", id: \"\" },\n  { label: \"Plain text\", value: \"'text/plain'\", id: \"text/plain\" },\n  { label: \"HTML\", value: \"'text/html'\", id: \"text/html\" },\n  { label: \"CSV\", value: \"'text/csv'\", id: \"text/csv\" },\n  { label: \"JSON\", value: \"'application/json'\", id: \"application/json\" },\n  { label: \"JPEG\", value: \"'image/jpeg'\", id: \"image/jpeg\" },\n  { label: \"PNG\", value: \"'image/png'\", id: \"image/png\" },\n  { label: \"SVG\", value: \"'image/svg+xml'\", id: \"image/svg+xml\" },\n];\n\nexport const NAVIGATION_TARGET_FIELD_OPTIONS = [\n  {\n    label: \"Same window\",\n    value: \"'SAME_WINDOW'\",\n    id: \"SAME_WINDOW\",\n  },\n  {\n    label: \"New window\",\n    value: \"'NEW_WINDOW'\",\n    id: \"NEW_WINDOW\",\n  },\n];\n\nexport const ViewTypes = {\n  SELECTOR_VIEW: \"SELECTOR_VIEW\",\n  KEY_VALUE_VIEW: \"KEY_VALUE_VIEW\",\n  TEXT_VIEW: \"TEXT_VIEW\",\n  BOOL_VIEW: \"BOOL_VIEW\",\n  TAB_VIEW: \"TAB_VIEW\",\n  NO_VIEW: \"NO_VIEW\",\n  ACTION_SELECTOR_VIEW: \"ACTION_SELECTOR_VIEW\",\n};\n\nexport const NAVIGATE_TO_TAB_OPTIONS = {\n  PAGE_NAME: \"page-name\",\n  URL: \"url\",\n};\n\nexport const NEW_MODAL_LABEL = \"New Modal\";\nconst SELECT_OPTIONS_LABEL = \"Select file type (optional)\";\nexport const DEFAULT_LABELS = [NEW_MODAL_LABEL, SELECT_OPTIONS_LABEL];\n\nexport const DEFAULT_SELECTOR_VIEW_TEXT = \"Select Action\";\n\nexport const EMPTY_BINDING = \"{{}}\";\nexport const EMPTY_BINDING_WITH_EMPTY_OBJECT = \"{{{}}}\";\n\nexport enum FieldType {\n  PARAMS_FIELD = \"PARAMS_FIELD\",\n  ACTION_SELECTOR_FIELD = \"ACTION_SELECTOR_FIELD\",\n  ON_SUCCESS_FIELD = \"ON_SUCCESS_FIELD\",\n  ON_ERROR_FIELD = \"ON_ERROR_FIELD\",\n  SHOW_MODAL_FIELD = \"SHOW_MODAL_FIELD\",\n  CLOSE_MODAL_FIELD = \"CLOSE_MODAL_FIELD\",\n  PAGE_SELECTOR_FIELD = \"PAGE_SELECTOR_FIELD\",\n  KEY_VALUE_FIELD = \"KEY_VALUE_FIELD\",\n  URL_FIELD = \"URL_FIELD\",\n  ALERT_TEXT_FIELD = \"ALERT_TEXT_FIELD\",\n  ALERT_TYPE_SELECTOR_FIELD = \"ALERT_TYPE_SELECTOR_FIELD\",\n  KEY_TEXT_FIELD_REMOVE_VALUE = \"KEY_TEXT_FIELD_REMOVE_VALUE\",\n  KEY_TEXT_FIELD_STORE_VALUE = \"KEY_TEXT_FIELD_STORE_VALUE\",\n  VALUE_TEXT_FIELD = \"VALUE_TEXT_FIELD\",\n  QUERY_PARAMS_FIELD = \"QUERY_PARAMS_FIELD\",\n  DOWNLOAD_DATA_FIELD = \"DOWNLOAD_DATA_FIELD\",\n  DOWNLOAD_FILE_NAME_FIELD = \"DOWNLOAD_FILE_NAME_FIELD\",\n  DOWNLOAD_FILE_TYPE_FIELD = \"DOWNLOAD_FILE_TYPE_FIELD\",\n  COPY_TEXT_FIELD = \"COPY_TEXT_FIELD\",\n  NAVIGATION_TARGET_FIELD = \"NAVIGATION_TARGET_FIELD\",\n  WIDGET_NAME_FIELD = \"WIDGET_NAME_FIELD\",\n  RESET_CHILDREN_FIELD = \"RESET_CHILDREN_FIELD\",\n  ARGUMENT_KEY_VALUE_FIELD = \"ARGUMENT_KEY_VALUE_FIELD\",\n  CALLBACK_FUNCTION_FIELD_SET_INTERVAL = \"CALLBACK_FUNCTION_FIELD_SET_INTERVAL\",\n  CALLBACK_FUNCTION_FIELD_GEOLOCATION = \"CALLBACK_FUNCTION_FIELD_GEOLOCATION\",\n  DELAY_FIELD = \"DELAY_FIELD\",\n  ID_FIELD = \"ID_FIELD\",\n  CLEAR_INTERVAL_ID_FIELD = \"CLEAR_INTERVAL_ID_FIELD\",\n  MESSAGE_FIELD = \"MESSAGE_FIELD\",\n  TARGET_ORIGIN_FIELD = \"TARGET_ORIGIN_FIELD\",\n  SOURCE_FIELD = \"SOURCE_FIELD\",\n  PAGE_NAME_AND_URL_TAB_SELECTOR_FIELD = \"PAGE_NAME_AND_URL_TAB_SELECTOR_FIELD\",\n  API_AND_QUERY_SUCCESS_FAILURE_TAB_FIELD = \"API_AND_QUERY_SUCCESS_FAILURE_TAB_FIELD\",\n  CALLBACK_FUNCTION_API_AND_QUERY = \"CALLBACK_FUNCTION_API_AND_QUERY\",\n  ADD_ACTION = \"ADD_ACTION\",\n}\n\nexport const Variants = {\n  mainBlock: \"mainBlock\",\n  callbackBlock: \"callbackBlock\",\n  hoverBorder: \"hoverBorder\",\n};\n","import { DATA_BIND_REGEX_GLOBAL } from \"constants/BindingsConstants\";\nimport { isBoolean, get, set, isString } from \"lodash\";\nimport type {\n  ConditionalOutput,\n  FormConfigEvalObject,\n  FormEvalOutput,\n} from \"reducers/evaluationReducers/formEvaluationReducer\";\nimport type { FormConfigType, HiddenType } from \"./BaseControl\";\nimport type { Diff } from \"deep-diff\";\nimport { diff } from \"deep-diff\";\nimport { MongoDefaultActionConfig } from \"constants/DatasourceEditorConstants\";\nimport type { Action } from \"@sentry/react/dist/types\";\nimport { klona } from \"klona/full\";\nimport type { FeatureFlags } from \"@appsmith/entities/FeatureFlag\";\nimport _ from \"lodash\";\nimport { getType, Types } from \"utils/TypeHelpers\";\nimport {\n  FIELD_REQUIRED_ERROR,\n  createMessage,\n} from \"@appsmith/constants/messages\";\nimport { FEATURE_FLAG } from \"@appsmith/entities/FeatureFlag\";\nimport { InputTypes } from \"components/constants\";\n\n// This function checks if the form is dirty\n// We needed this in the cases where datasources are created from APIs and the initial value\n// already has url set. If user presses back button, we need to show the confirmation dialog\nexport const getIsFormDirty = (\n  isFormDirty: boolean,\n  formData: any,\n  isNewDatasource: boolean,\n  isRestPlugin: boolean,\n  currentEditingEnvId: string,\n) => {\n  const url = isRestPlugin\n    ? get(\n        formData,\n        `datastoreStorages.${currentEditingEnvId}.datasourceConfiguration.url`,\n        \"\",\n      )\n    : \"\";\n\n  if (!isFormDirty && isNewDatasource && isRestPlugin && url.length === 0) {\n    return true;\n  }\n  return isFormDirty;\n};\n\nexport const getTrimmedData = (formData: any) => {\n  const dataType = getType(formData);\n  const isArrayorObject = (type: ReturnType<typeof getType>) =>\n    type === Types.ARRAY || type === Types.OBJECT;\n\n  if (isArrayorObject(dataType)) {\n    Object.keys(formData).map((key) => {\n      const valueType = getType(formData[key]);\n      if (isArrayorObject(valueType)) {\n        getTrimmedData(formData[key]);\n      } else if (valueType === Types.STRING) {\n        _.set(formData, key, formData[key].trim());\n      }\n    });\n  }\n  return formData;\n};\n\nexport const normalizeValues = (\n  formData: any,\n  configDetails: Record<string, string>,\n) => {\n  const checked: Record<string, any> = {};\n  const configProperties = Object.keys(configDetails);\n\n  for (const configProperty of configProperties) {\n    const controlType = configDetails[configProperty];\n\n    if (controlType === \"KEYVALUE_ARRAY\") {\n      const properties = configProperty.split(\"[*].\");\n\n      if (checked[properties[0]]) continue;\n\n      checked[properties[0]] = 1;\n      const values = _.get(formData, properties[0], []);\n      const newValues: ({ [s: string]: unknown } | ArrayLike<unknown>)[] = [];\n\n      values.forEach(\n        (object: { [s: string]: unknown } | ArrayLike<unknown>) => {\n          const isEmpty = Object.values(object).every((x) => x === \"\");\n\n          if (!isEmpty) {\n            newValues.push(object);\n          }\n        },\n      );\n\n      if (newValues.length) {\n        formData = _.set(formData, properties[0], newValues);\n      } else {\n        formData = _.set(formData, properties[0], []);\n      }\n    }\n  }\n\n  return formData;\n};\n\nexport const validate = (\n  requiredFields: Record<string, FormConfigType>,\n  values: any,\n  currentEnvId?: string,\n) => {\n  const errors = {} as any;\n\n  Object.keys(requiredFields).forEach((fieldConfigProperty) => {\n    // Do not check for required fields if the field is not part of the current environment\n    if (\n      !!currentEnvId &&\n      currentEnvId.length > 0 &&\n      !fieldConfigProperty.includes(currentEnvId)\n    ) {\n      return;\n    }\n    const fieldConfig = requiredFields[fieldConfigProperty];\n    if (fieldConfig.controlType === \"KEYVALUE_ARRAY\") {\n      const configProperty = (fieldConfig.configProperty as string).split(\n        \"[*].\",\n      );\n      const arrayValues = _.get(values, configProperty[0], []);\n      const keyValueArrayErrors: Record<string, string>[] = [];\n\n      arrayValues.forEach((value: any, index: number) => {\n        const objectKeys = Object.keys(value);\n        const keyValueErrors: Record<string, string> = {};\n\n        if (\n          !value[objectKeys[0]] ||\n          (isString(value[objectKeys[0]]) && !value[objectKeys[0]].trim())\n        ) {\n          keyValueErrors[objectKeys[0]] = createMessage(FIELD_REQUIRED_ERROR);\n          keyValueArrayErrors[index] = keyValueErrors;\n        }\n        if (\n          !value[objectKeys[1]] ||\n          (isString(value[objectKeys[1]]) && !value[objectKeys[1]].trim())\n        ) {\n          keyValueErrors[objectKeys[1]] = createMessage(FIELD_REQUIRED_ERROR);\n          keyValueArrayErrors[index] = keyValueErrors;\n        }\n      });\n\n      if (keyValueArrayErrors.length) {\n        _.set(errors, configProperty[0], keyValueArrayErrors);\n      }\n    } else {\n      const value = _.get(values, fieldConfigProperty);\n\n      if (_.isNil(value) || (isString(value) && _.isEmpty(value.trim()))) {\n        _.set(errors, fieldConfigProperty, \"This field is required\");\n      }\n    }\n  });\n\n  return !_.isEmpty(errors);\n};\n\nexport const evaluateCondtionWithType = (\n  conditions: Array<boolean> | undefined,\n  type: string | undefined,\n) => {\n  if (conditions) {\n    let flag;\n    //this is where each conditions gets evaluated\n    if (conditions.length > 1) {\n      if (type === \"AND\") {\n        flag = conditions.reduce((acc: any, item: boolean) => {\n          return acc && item;\n        }, conditions[0]);\n      } else if (type === \"OR\") {\n        flag = conditions.reduce((acc: any, item: boolean) => {\n          return acc || item;\n        }, undefined);\n      }\n    } else {\n      flag = conditions[0];\n    }\n    return flag;\n  }\n};\n\nexport const isHiddenConditionsEvaluation = (\n  values: any,\n  hidden?: HiddenType,\n): any => {\n  if (!!hidden && !isBoolean(hidden)) {\n    //if nested condtions are there recursively from bottom to top call this function on each condtion\n    let conditionType, conditions;\n    if (\"conditionType\" in hidden) {\n      conditionType = hidden.conditionType;\n    }\n    if (\"conditions\" in hidden) {\n      conditions = hidden.conditions;\n    }\n    if (Array.isArray(conditions)) {\n      conditions = conditions.map((rule: any) => {\n        return isHiddenConditionsEvaluation(values, rule);\n      });\n    } else {\n      return caculateIsHidden(values, hidden);\n    }\n    return evaluateCondtionWithType(conditions, conditionType);\n  }\n};\n\nexport const caculateIsHidden = (\n  values: any,\n  hiddenConfig?: HiddenType,\n  featureFlags?: FeatureFlags,\n  viewMode?: boolean,\n) => {\n  if (!!hiddenConfig && !isBoolean(hiddenConfig)) {\n    let valueAtPath;\n    let value, comparison;\n    if (\"path\" in hiddenConfig) {\n      valueAtPath = get(values, hiddenConfig.path);\n    }\n    if (\"value\" in hiddenConfig) {\n      value = hiddenConfig.value;\n    }\n    if (\"comparison\" in hiddenConfig) {\n      comparison = hiddenConfig.comparison;\n    }\n\n    let flagValue: keyof FeatureFlags = FEATURE_FLAG.TEST_FLAG;\n    if (\"flagValue\" in hiddenConfig) {\n      flagValue = hiddenConfig.flagValue;\n    }\n\n    switch (comparison) {\n      case \"EQUALS\":\n        return valueAtPath === value;\n      case \"NOT_EQUALS\":\n        return valueAtPath !== value;\n      case \"GREATER\":\n        return valueAtPath > value;\n      case \"LESSER\":\n        return valueAtPath < value;\n      case \"IN\":\n        return Array.isArray(value) && value.includes(valueAtPath);\n      case \"NOT_IN\":\n        return Array.isArray(value) && !value.includes(valueAtPath);\n      case \"FEATURE_FLAG\":\n        // FEATURE_FLAG comparision is used to hide previous configs,\n        // and show new configs if feature flag is enabled, if disabled/ not present,\n        // previous config would be shown as is\n        return !!featureFlags && featureFlags[flagValue] === value;\n      case \"VIEW_MODE\":\n        // This can be used to decide which form controls to show in view mode or edit mode depending on the value.\n        return viewMode === value;\n      default:\n        return true;\n    }\n  }\n};\n\nexport const isHidden = (\n  values: any,\n  hiddenConfig?: HiddenType,\n  featureFlags?: FeatureFlags,\n  viewMode?: boolean,\n) => {\n  if (!!hiddenConfig && !isBoolean(hiddenConfig)) {\n    if (\"conditionType\" in hiddenConfig) {\n      //check if nested conditions exist\n      return isHiddenConditionsEvaluation(values, hiddenConfig);\n    } else {\n      return caculateIsHidden(values, hiddenConfig, featureFlags, viewMode);\n    }\n  }\n  return !!hiddenConfig;\n};\n\nexport enum ViewTypes {\n  JSON = \"json\",\n  COMPONENT = \"component\",\n}\n\nexport const alternateViewTypeInputConfig = () => {\n  return {\n    label: \"\",\n    isValid: true,\n    controlType: \"QUERY_DYNAMIC_INPUT_TEXT\",\n    evaluationSubstitutionType: \"TEMPLATE\",\n    inputType: \"TEXT_WITH_BINDING\",\n    // showLineNumbers: true,\n  };\n};\n\nexport const getViewType = (values: any, configProperty: string) => {\n  if (\n    configProperty.startsWith(\"actionConfiguration.formData\") &&\n    configProperty.endsWith(\".data\")\n  ) {\n    const pathForViewType = configProperty.replace(\".data\", \".viewType\");\n    return get(values, pathForViewType, ViewTypes.COMPONENT);\n  } else {\n    return ViewTypes.COMPONENT;\n  }\n};\n\nexport const switchViewType = (\n  values: any,\n  configProperty: string,\n  viewType: string,\n  formName: string,\n  changeFormValue: (formName: string, path: string, value: any) => void,\n) => {\n  const newViewType =\n    viewType === ViewTypes.JSON ? ViewTypes.COMPONENT : ViewTypes.JSON;\n  const pathForJsonData = configProperty.replace(\".data\", \".jsonData\");\n  const pathForComponentData = configProperty.replace(\n    \".data\",\n    \".componentData\",\n  );\n  const componentData = get(values, pathForComponentData);\n  const currentData = get(values, configProperty, \"\");\n  const stringifiedCurrentData = JSON.stringify(currentData, null, \"\\t\");\n\n  if (newViewType === ViewTypes.JSON) {\n    changeFormValue(formName, pathForComponentData, currentData);\n\n    // when switching to JSON, we always want a form to json conversion of the data.\n    changeFormValue(\n      formName,\n      configProperty,\n      isString(currentData)\n        ? currentData\n        : stringifiedCurrentData.replace(/\\\\/g, \"\"),\n    );\n  } else {\n    changeFormValue(formName, pathForJsonData, currentData);\n    if (!!componentData) {\n      changeFormValue(formName, configProperty, componentData);\n    }\n  }\n\n  changeFormValue(\n    formName,\n    configProperty.replace(\".data\", \".viewType\"),\n    newViewType,\n  );\n};\n\n// Function that extracts the initial value from the JSON configs\nexport const getConfigInitialValues = (\n  config: Record<string, any>[],\n  multipleViewTypesSupported = false,\n  // Used in case when we want to not have encrypted fields in the response since we need to compare\n  // the initial values with the server response and server response does not send encrypted fields.\n  // With this param we can remove false negatives during comparison.\n  includeEncryptedFields = true,\n) => {\n  const configInitialValues: Record<string, any> = {};\n\n  // We expect the JSON configs to be an array of objects\n  if (!Array.isArray(config)) return configInitialValues;\n\n  // Function to loop through the configs and extract the initial values\n  const parseConfig = (section: any): any => {\n    if (\"initialValue\" in section) {\n      if (section.controlType === \"KEYVALUE_ARRAY\") {\n        section.initialValue.forEach(\n          (initialValue: string | number, index: number) => {\n            const configProperty = section.configProperty.replace(\"*\", index);\n\n            set(configInitialValues, configProperty, initialValue);\n          },\n        );\n      } else {\n        if (\n          !includeEncryptedFields &&\n          (section.encrypted || section.dataType === InputTypes.PASSWORD)\n        ) {\n          return;\n        }\n        set(configInitialValues, section.configProperty, section.initialValue);\n      }\n    } else if (section.controlType === \"WHERE_CLAUSE\") {\n      let logicalTypes = [];\n      if (\"logicalTypes\" in section && section.logicalTypes.length > 0) {\n        logicalTypes = section.logicalTypes;\n      } else {\n        logicalTypes = [\n          {\n            label: \"OR\",\n            value: \"OR\",\n          },\n          {\n            label: \"AND\",\n            value: \"AND\",\n          },\n        ];\n      }\n      set(\n        configInitialValues,\n        `${section.configProperty}.condition`,\n        logicalTypes[0].value,\n      );\n      if (\n        multipleViewTypesSupported &&\n        section.configProperty.includes(\".data\")\n      ) {\n        set(\n          configInitialValues,\n          section.configProperty.replace(\".data\", \".viewType\"),\n          \"component\",\n        );\n        set(\n          configInitialValues,\n          section.configProperty.replace(\".data\", \".componentData.condition\"),\n          logicalTypes[0].value,\n        );\n      }\n    }\n    if (\"children\" in section) {\n      section.children.forEach((childSection: any) => {\n        parseConfig(childSection);\n      });\n    } else if (\"schema\" in section) {\n      section.schema.forEach((childSection: any) => {\n        parseConfig(childSection);\n      });\n    } else if (\n      \"configProperty\" in section &&\n      multipleViewTypesSupported &&\n      section.configProperty.includes(\".data\")\n    ) {\n      set(\n        configInitialValues,\n        section.configProperty.replace(\".data\", \".viewType\"),\n        \"component\",\n      );\n      if (section.configProperty in configInitialValues) {\n        set(\n          configInitialValues,\n          section.configProperty.replace(\".data\", \".componentData\"),\n          configInitialValues[section.configProperty],\n        );\n      }\n    }\n  };\n\n  config.forEach((section: any) => {\n    parseConfig(section);\n  });\n\n  return configInitialValues;\n};\n\nexport const actionPathFromName = (\n  actionName: string,\n  name: string,\n): string => {\n  const ActionConfigStarts = \"actionConfiguration.\";\n  let path = name;\n  if (path.startsWith(ActionConfigStarts)) {\n    path = \"config.\" + path.slice(ActionConfigStarts.length);\n  }\n  return `${actionName}.${path}`;\n};\n\nexport enum PaginationSubComponent {\n  Limit = \"limit\",\n  Offset = \"offset\",\n  Cursor = \"cursor\",\n}\n\nexport enum SortingSubComponent {\n  Column = \"column\",\n  Order = \"order\",\n}\n\nexport enum WhereClauseSubComponent {\n  Condition = \"condition\",\n  Children = \"children\",\n  Key = \"key\",\n  Value = \"value\",\n}\n\nexport const allowedControlTypes = [\"DROP_DOWN\", \"QUERY_DYNAMIC_INPUT_TEXT\"];\n\nconst extractExpressionObject = (\n  config: string,\n  path: any,\n  parentPath: string,\n): FormConfigEvalObject => {\n  const bindingPaths: FormConfigEvalObject = {};\n  const expressions = config.match(DATA_BIND_REGEX_GLOBAL);\n  if (Array.isArray(expressions) && expressions.length > 0) {\n    const completePath = parentPath.length > 0 ? `${parentPath}.${path}` : path;\n    expressions.forEach((exp) => {\n      bindingPaths[completePath] = {\n        expression: exp,\n        output: \"\",\n      };\n    });\n  }\n  return bindingPaths;\n};\n\nexport const extractEvalConfigFromFormConfig = (\n  formConfig: FormConfigType,\n  paths: string[],\n  parentPath = \"\",\n  bindingsFound: FormConfigEvalObject = {},\n) => {\n  paths.forEach((path: string) => {\n    if (!(path in formConfig)) return;\n    const config = get(formConfig, path, \"\");\n    if (typeof config === \"string\") {\n      bindingsFound = {\n        ...bindingsFound,\n        ...extractExpressionObject(config, path, parentPath),\n      };\n    } else if (typeof config === \"object\") {\n      bindingsFound = {\n        ...bindingsFound,\n        ...extractEvalConfigFromFormConfig(\n          config,\n          Object.keys(config),\n          parentPath.length > 0 ? `${parentPath}.${path}` : path,\n          bindingsFound,\n        ),\n      };\n    }\n  });\n\n  return bindingsFound;\n};\n\n// Extract the output of conditionals attached to the form from the state\nexport const extractConditionalOutput = (\n  section: any,\n  formEvaluationState: FormEvalOutput,\n): ConditionalOutput => {\n  let conditionalOutput: ConditionalOutput = {};\n  if (\n    section.hasOwnProperty(\"propertyName\") &&\n    formEvaluationState.hasOwnProperty(section.propertyName)\n  ) {\n    conditionalOutput = formEvaluationState[section.propertyName];\n  } else if (\n    section.hasOwnProperty(\"configProperty\") &&\n    formEvaluationState.hasOwnProperty(section.configProperty)\n  ) {\n    conditionalOutput = formEvaluationState[section.configProperty];\n  } else if (\n    section.hasOwnProperty(\"identifier\") &&\n    !!section.identifier &&\n    formEvaluationState.hasOwnProperty(section.identifier)\n  ) {\n    conditionalOutput = formEvaluationState[section.identifier];\n  }\n  return conditionalOutput;\n};\n\n// Function to check if the section config is allowed to render (Only for UQI forms)\nexport const checkIfSectionCanRender = (\n  conditionalOutput: ConditionalOutput,\n) => {\n  // By default, allow the section to render. This is to allow for the case where no conditional is provided.\n  // The evaluation state disallows the section to render if the condition is not met. (Checkout formEval.ts)\n  let allowToRender = true;\n  if (\n    conditionalOutput.hasOwnProperty(\"visible\") &&\n    typeof conditionalOutput.visible === \"boolean\"\n  ) {\n    allowToRender = conditionalOutput.visible;\n  }\n\n  if (\n    conditionalOutput.hasOwnProperty(\"evaluateFormConfig\") &&\n    !!conditionalOutput.evaluateFormConfig &&\n    conditionalOutput.evaluateFormConfig.hasOwnProperty(\n      \"updateEvaluatedConfig\",\n    ) &&\n    typeof conditionalOutput.evaluateFormConfig.updateEvaluatedConfig ===\n      \"boolean\"\n  ) {\n    allowToRender = conditionalOutput.evaluateFormConfig.updateEvaluatedConfig;\n  }\n  return allowToRender;\n};\n\n// Function to check if the section config is enabled (Only for UQI forms)\nexport const checkIfSectionIsEnabled = (\n  conditionalOutput: ConditionalOutput,\n) => {\n  // By default, the section is enabled. This is to allow for the case where no conditional is provided.\n  // The evaluation state disables the section if the condition is not met. (Checkout formEval.ts)\n  let enabled = true;\n  if (\n    conditionalOutput.hasOwnProperty(\"enabled\") &&\n    typeof conditionalOutput.enabled === \"boolean\"\n  ) {\n    enabled = conditionalOutput.enabled;\n  }\n  return enabled;\n};\n\n// Function to modify the section config based on the output of evaluations\nexport const modifySectionConfig = (section: any, enabled: boolean): any => {\n  if (!enabled) {\n    section.disabled = true;\n  } else {\n    section.disabled = false;\n  }\n\n  return section;\n};\n\nexport const updateEvaluatedSectionConfig = (\n  section: any,\n  conditionalOutput: ConditionalOutput,\n  enabled = true,\n) => {\n  // we deep clone the section coming from the editorConfig to prevent any mutations of\n  // the editorConfig in the redux state.\n  // just spreading the object does a shallow clone(top level cloning), so we use the klona package to deep clone\n  // klona is faster than deepClone from lodash.\n\n  // leaving the commented code as a reminder of the above observation.\n  // const updatedSection = { ...section };\n  const updatedSection = klona(section);\n  let evaluatedConfig: FormConfigEvalObject = {};\n  if (\n    conditionalOutput.hasOwnProperty(\"evaluateFormConfig\") &&\n    !!conditionalOutput.evaluateFormConfig &&\n    conditionalOutput.evaluateFormConfig.hasOwnProperty(\n      \"updateEvaluatedConfig\",\n    ) &&\n    typeof conditionalOutput.evaluateFormConfig.updateEvaluatedConfig ===\n      \"boolean\" &&\n    conditionalOutput.evaluateFormConfig.updateEvaluatedConfig\n  ) {\n    evaluatedConfig =\n      conditionalOutput.evaluateFormConfig.evaluateFormConfigObject;\n\n    const paths = Object.keys(evaluatedConfig);\n    paths.forEach((path: string) => {\n      set(updatedSection, path, evaluatedConfig[path].output);\n    });\n  }\n\n  return modifySectionConfig(updatedSection, enabled);\n};\n\nexport function fixActionPayloadForMongoQuery(\n  action?: Action,\n): Action | undefined {\n  if (!action) return action;\n\n  /* eslint-disable */\n  //@ts-nocheck\n  try {\n    let actionObjectDiff: undefined | Diff<any, any>[] = diff(\n      action,\n      MongoDefaultActionConfig,\n    );\n    if (actionObjectDiff) {\n      actionObjectDiff = actionObjectDiff.filter((diff) => diff.kind === \"N\");\n      for (let i = 0; i < actionObjectDiff.length; i++) {\n        let path = \"\";\n        let value = \"\";\n        //kind = N indicates a newly added property/element\n        //This property is present in initialValues but not in action object\n        if (\n          actionObjectDiff &&\n          actionObjectDiff[i].hasOwnProperty(\"kind\") &&\n          actionObjectDiff[i].path &&\n          Array.isArray(actionObjectDiff[i].path) &&\n          actionObjectDiff[i]?.path?.length &&\n          actionObjectDiff[i]?.kind === \"N\"\n        ) {\n          // @ts-expect-error: Types are not available\n          if (typeof actionObjectDiff[i]?.path[0] === \"string\") {\n            // @ts-expect-error: Types are not available\n            path = actionObjectDiff[i]?.path?.join(\".\");\n          }\n          // @ts-expect-error: Types are not available\n          value = actionObjectDiff[i]?.rhs;\n          // @ts-expect-error: Types are not available\n          set(action, path, value);\n        }\n      }\n    }\n    return action;\n    //@ts-check\n  } catch (error) {\n    console.error(\"Error adding default paths in Mongo query\");\n    return action;\n  }\n}\n\n// Function to check if the config has KEYVALUE_ARRAY controlType with more than 1 dependent children\nexport function isKVArray(children: Array<any>) {\n  if (!Array.isArray(children) || children.length < 2) return false;\n  return (\n    children[0].controlType && children[0].controlType === \"KEYVALUE_ARRAY\"\n  );\n}\n\nexport const formatFileSize = (sizeInBytes: number) => {\n  const FILE_SIZE = {\n    KB: 1024,\n    MB: 1024 * 1024,\n    GB: 1024 * 1024 * 1024,\n  };\n\n  if (sizeInBytes < FILE_SIZE.KB) {\n    return `${sizeInBytes} B`;\n  } else if (sizeInBytes < FILE_SIZE.MB) {\n    return `${Math.round(sizeInBytes / FILE_SIZE.KB)} KB`;\n  } else if (sizeInBytes < FILE_SIZE.GB) {\n    return `${Math.round(sizeInBytes / FILE_SIZE.MB)} MB`;\n  }\n\n  return `${Math.round(sizeInBytes / FILE_SIZE.GB)} GB`;\n};\n","import type { ErrorActionPayload } from \"sagas/ErrorSagas\";\nimport type { ActionResponse } from \"api/ActionAPI\";\nimport { PluginType } from \"entities/Action\";\nimport queryActionSettingsConfig from \"constants/AppsmithActionConstants/formConfig/QuerySettingsConfig\";\nimport apiActionSettingsConfig from \"constants/AppsmithActionConstants/formConfig/ApiSettingsConfig\";\nimport apiActionEditorConfig from \"constants/AppsmithActionConstants/formConfig/ApiEditorConfigs\";\nimport saasActionSettingsConfig from \"constants/AppsmithActionConstants/formConfig/GoogleSheetsSettingsConfig\";\nimport apiActionDependencyConfig from \"constants/AppsmithActionConstants/formConfig/ApiDependencyConfigs\";\nimport apiActionDatasourceFormButtonConfig from \"constants/AppsmithActionConstants/formConfig/ApiDatasourceFormsButtonConfig\";\nimport type { EntityTypeValue } from \"@appsmith/entities/DataTree/types\";\n\nexport interface ExecuteActionPayloadEvent {\n  type: EventType;\n  callback?: (result: ExecutionResult) => void;\n}\n\nexport interface ExecutionResult {\n  success: boolean;\n}\n\nexport interface TriggerSource {\n  id: string;\n  name: string;\n  entityType?: EntityTypeValue;\n  collectionId?: string;\n  isJSAction?: boolean;\n  actionId?: string;\n}\nexport enum TriggerKind {\n  EVENT_EXECUTION = \"EVENT_EXECUTION\", // Eg. Button onClick\n  JS_FUNCTION_EXECUTION = \"JS_FUNCTION_EXECUTION\", // Executing js function from jsObject page\n}\n\nexport interface ExecuteTriggerPayload {\n  dynamicString: string;\n  event: ExecuteActionPayloadEvent;\n  callbackData?: Array<any>;\n  triggerPropertyName?: string;\n  source?: TriggerSource;\n  widgetId?: string;\n  globalContext?: Record<string, unknown>;\n}\n\nexport type ContentType =\n  | \"application/json\"\n  | \"application/x-www-form-urlencoded\";\n\nexport interface APIHeaders {\n  \"Content-Type\": ContentType;\n  Accept?: string;\n}\n\nexport interface APIRequest {\n  requestId?: string;\n}\n\nexport enum EventType {\n  ON_RESET = \"ON_RESET\",\n  ON_PAGE_LOAD = \"ON_PAGE_LOAD\",\n  ON_PREV_PAGE = \"ON_PREV_PAGE\",\n  ON_NEXT_PAGE = \"ON_NEXT_PAGE\",\n  ON_PAGE_SIZE_CHANGE = \"ON_PAGE_SIZE_CHANGE\",\n  ON_ERROR = \"ON_ERROR\",\n  ON_SUCCESS = \"ON_SUCCESS\",\n  ON_ROW_SELECTED = \"ON_ROW_SELECTED\",\n  ON_SEARCH = \"ON_SEARCH\",\n  ON_CLICK = \"ON_CLICK\",\n  ON_DATA_POINT_CLICK = \"ON_DATA_POINT_CLICK\",\n  ON_FILES_SELECTED = \"ON_FILES_SELECTED\",\n  ON_HOVER = \"ON_HOVER\",\n  ON_TOGGLE = \"ON_TOGGLE\",\n  ON_LOAD = \"ON_LOAD\",\n  ON_MODAL_CLOSE = \"ON_MODAL_CLOSE\",\n  ON_MODAL_SUBMIT = \"ON_MODAL_SUBMIT\",\n  ON_TEXT_CHANGE = \"ON_TEXT_CHANGE\",\n  ON_SUBMIT = \"ON_SUBMIT\",\n  ON_CHECK_CHANGE = \"ON_CHECK_CHANGE\",\n  ON_SWITCH_CHANGE = \"ON_SWITCH_CHANGE\",\n  ON_SELECT = \"ON_SELECT\",\n  ON_DATE_SELECTED = \"ON_DATE_SELECTED\",\n  ON_DATE_RANGE_SELECTED = \"ON_DATE_RANGE_SELECTED\",\n  ON_DROPDOWN_OPEN = \"ON_DROPDOWN_OPEN\",\n  ON_DROPDOWN_CLOSE = \"ON_DROPDOWN_CLOSE\",\n  ON_OPTION_CHANGE = \"ON_OPTION_CHANGE\",\n  ON_FILTER_CHANGE = \"ON_FILTER_CHANGE\",\n  ON_FILTER_UPDATE = \"ON_FILTER_UPDATE\",\n  ON_MARKER_CLICK = \"ON_MARKER_CLICK\",\n  ON_CREATE_MARKER = \"ON_CREATE_MARKER\",\n  ON_TAB_CHANGE = \"ON_TAB_CHANGE\",\n  ON_VIDEO_START = \"ON_VIDEO_START\",\n  ON_VIDEO_END = \"ON_VIDEO_END\",\n  ON_VIDEO_PLAY = \"ON_VIDEO_PLAY\",\n  ON_VIDEO_PAUSE = \"ON_VIDEO_PAUSE\",\n  ON_AUDIO_START = \"ON_AUDIO_START\",\n  ON_AUDIO_END = \"ON_AUDIO_END\",\n  ON_AUDIO_PLAY = \"ON_AUDIO_PLAY\",\n  ON_AUDIO_PAUSE = \"ON_AUDIO_PAUSE\",\n  ON_RATE_CHANGED = \"ON_RATE_CHANGED\",\n  ON_IFRAME_URL_CHANGED = \"ON_IFRAME_URL_CHANGED\",\n  ON_IFRAME_SRC_DOC_CHANGED = \"ON_IFRAME_SRC_DOC_CHANGED\",\n  ON_IFRAME_MESSAGE_RECEIVED = \"ON_IFRAME_MESSAGE_RECEIVED\",\n  ON_SNIPPET_EXECUTE = \"ON_SNIPPET_EXECUTE\",\n  ON_SORT = \"ON_SORT\",\n  ON_CHECKBOX_GROUP_SELECTION_CHANGE = \"ON_CHECKBOX_GROUP_SELECTION_CHANGE\",\n  ON_LIST_PAGE_CHANGE = \"ON_LIST_PAGE_CHANGE\",\n  ON_RECORDING_START = \"ON_RECORDING_START\",\n  ON_RECORDING_COMPLETE = \"ON_RECORDING_COMPLETE\",\n  ON_SWITCH_GROUP_SELECTION_CHANGE = \"ON_SWITCH_GROUP_SELECTION_CHANGE\",\n  ON_JS_FUNCTION_EXECUTE = \"ON_JS_FUNCTION_EXECUTE\",\n  ON_CAMERA_IMAGE_CAPTURE = \"ON_CAMERA_IMAGE_CAPTURE\",\n  ON_CAMERA_IMAGE_SAVE = \"ON_CAMERA_IMAGE_SAVE\",\n  ON_CAMERA_VIDEO_RECORDING_START = \"ON_CAMERA_VIDEO_RECORDING_START\",\n  ON_CAMERA_VIDEO_RECORDING_STOP = \"ON_CAMERA_VIDEO_RECORDING_STOP\",\n  ON_CAMERA_VIDEO_RECORDING_SAVE = \"ON_CAMERA_VIDEO_RECORDING_SAVE\",\n  ON_ENTER_KEY_PRESS = \"ON_ENTER_KEY_PRESS\",\n  ON_BLUR = \"ON_BLUR\",\n  ON_FOCUS = \"ON_FOCUS\",\n  ON_BULK_SAVE = \"ON_BULK_SAVE\",\n  ON_BULK_DISCARD = \"ON_BULK_DISCARD\",\n  ON_ROW_SAVE = \"ON_ROW_SAVE\",\n  ON_ROW_DISCARD = \"ON_ROW_DISCARD\",\n  ON_CODE_DETECTED = \"ON_CODE_DETECTED\",\n  ON_ADD_NEW_ROW_SAVE = \"ON_ADD_NEW_ROW_SAVE\",\n  ON_ADD_NEW_ROW_DISCARD = \"ON_ADD_NEW_ROW_DISCARD\",\n  CUSTOM_WIDGET_EVENT = \"CUSTOM_WIDGET_EVENT\",\n}\n\nexport interface PageAction {\n  id: string;\n  pluginType: PluginType;\n  name: string;\n  jsonPathKeys: string[];\n  timeoutInMillisecond: number;\n  clientSideExecution?: boolean;\n  collectionId?: string;\n}\n\nexport interface ExecuteErrorPayload extends ErrorActionPayload {\n  actionId: string;\n  isPageLoad?: boolean;\n  data: ActionResponse;\n}\n\nexport interface LayoutOnLoadActionErrors {\n  errorType: string;\n  code: number;\n  message: string;\n}\n\n// Group 1 = datasource (https://www.domain.com)\n// Group 2 = path (/nested/path)\n// Group 3 = params (?param=123&param2=12)\nexport const DATASOURCE_URL_EXACT_MATCH_REGEX =\n  /^(https?:\\/{2}\\S+?)(\\/[\\s\\S]*?)?(\\?(?![^{]*})[\\s\\S]*)?$/;\n\nexport const EXECUTION_PARAM_KEY = \"executionParams\";\nexport const EXECUTION_PARAM_REFERENCE_REGEX = /this.params|this\\?.params/g;\nexport const THIS_DOT_PARAMS_KEY = \"$params\";\n\nexport const RESP_HEADER_DATATYPE = \"X-APPSMITH-DATATYPE\";\nexport const API_REQUEST_HEADERS: APIHeaders = {\n  \"Content-Type\": \"application/json\",\n};\nexport const POSTMAN = \"POSTMAN\";\nexport const CURL = \"CURL\";\nexport const Swagger = \"Swagger\";\n\nexport const defaultActionSettings: Record<PluginType, any> = {\n  [PluginType.API]: apiActionSettingsConfig,\n  [PluginType.DB]: queryActionSettingsConfig,\n  [PluginType.SAAS]: saasActionSettingsConfig,\n  [PluginType.REMOTE]: saasActionSettingsConfig,\n  [PluginType.JS]: [],\n  [PluginType.AI]: saasActionSettingsConfig,\n  [PluginType.INTERNAL]: saasActionSettingsConfig,\n};\n\nexport const defaultActionEditorConfigs: Record<PluginType, any> = {\n  [PluginType.API]: apiActionEditorConfig,\n  [PluginType.DB]: [],\n  [PluginType.SAAS]: [],\n  [PluginType.REMOTE]: [],\n  [PluginType.JS]: [],\n  [PluginType.AI]: [],\n  [PluginType.INTERNAL]: [],\n};\n\nexport const defaultActionDependenciesConfig: Record<\n  PluginType,\n  Record<string, string[]>\n> = {\n  [PluginType.API]: apiActionDependencyConfig,\n  [PluginType.DB]: {},\n  [PluginType.SAAS]: {},\n  [PluginType.REMOTE]: {},\n  [PluginType.JS]: {},\n  [PluginType.AI]: {},\n  [PluginType.INTERNAL]: {},\n};\n\nexport const defaultDatasourceFormButtonConfig: Record<PluginType, string[]> = {\n  [PluginType.API]: apiActionDatasourceFormButtonConfig.API,\n  [PluginType.DB]: apiActionDatasourceFormButtonConfig.DB,\n  [PluginType.SAAS]: apiActionDatasourceFormButtonConfig.SAAS,\n  [PluginType.REMOTE]: apiActionDatasourceFormButtonConfig.REMOTE,\n  [PluginType.JS]: [],\n  [PluginType.AI]: apiActionDatasourceFormButtonConfig.AI,\n  [PluginType.INTERNAL]: [],\n};\n","export const DATA_BIND_REGEX = /{{([\\s\\S]*?)}}/;\nexport const DATA_BIND_REGEX_GLOBAL = /{{([\\s\\S]*?)}}/g;\nexport const AUTOCOMPLETE_MATCH_REGEX = /{{\\s*.*?\\s*}}/g;\nexport const QUOTED_BINDING_REGEX = /[\"']({{[\\s\\S]*?}})[\"']/g;\n","export * from \"ce/entities/DataTree/types\";\nimport { ENTITY_TYPE as CE_ENTITY_TYPE } from \"ce/entities/DataTree/types\";\n\nexport const ENTITY_TYPE = {\n  ...CE_ENTITY_TYPE,\n  MODULE_INPUT: \"MODULE_INPUT\",\n  MODULE_INSTANCE: \"MODULE_INSTANCE\",\n} as const;\n\ntype ValueOf<T> = T[keyof T];\nexport type EntityTypeValue = ValueOf<typeof ENTITY_TYPE>;\n","import type {\n  PropertyOverrideDependency,\n  OverridingPropertyPaths,\n  WidgetEntity,\n  ActionEntity,\n  JSActionEntity,\n} from \"@appsmith/entities/DataTree/types\";\nimport type { DataTreeEntity } from \"entities/DataTree/dataTreeTypes\";\nimport { OverridingPropertyType } from \"@appsmith/entities/DataTree/types\";\nimport {\n  isAction,\n  isJSAction,\n  isWidget,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport type { Module } from \"@appsmith/constants/ModuleConstants\";\ninterface SetOverridingPropertyParams {\n  key: string;\n  value: string;\n  propertyOverrideDependency: PropertyOverrideDependency;\n  overridingPropertyPaths: OverridingPropertyPaths;\n  type: OverridingPropertyType;\n}\n\nexport const setOverridingProperty = ({\n  key: propertyName,\n  overridingPropertyPaths,\n  propertyOverrideDependency,\n  type,\n  value: overridingPropertyKey,\n}: SetOverridingPropertyParams) => {\n  if (!(propertyName in propertyOverrideDependency)) {\n    propertyOverrideDependency[propertyName] = {\n      [OverridingPropertyType.DEFAULT]: undefined,\n      [OverridingPropertyType.META]: undefined,\n    };\n  }\n  switch (type) {\n    case OverridingPropertyType.DEFAULT:\n      propertyOverrideDependency[propertyName][OverridingPropertyType.DEFAULT] =\n        overridingPropertyKey;\n      break;\n\n    case OverridingPropertyType.META:\n      propertyOverrideDependency[propertyName][OverridingPropertyType.META] =\n        overridingPropertyKey;\n\n      break;\n    default:\n  }\n\n  if (Array.isArray(overridingPropertyPaths[overridingPropertyKey])) {\n    const updatedOverridingProperty = new Set(\n      overridingPropertyPaths[overridingPropertyKey],\n    );\n    overridingPropertyPaths[overridingPropertyKey] = [\n      ...updatedOverridingProperty.add(propertyName),\n    ];\n  } else {\n    overridingPropertyPaths[overridingPropertyKey] = [propertyName];\n  }\n  // if property dependent on metaProperty also has defaultProperty then defaultProperty will also override metaProperty on eval.\n  const defaultPropertyName = propertyOverrideDependency[propertyName].DEFAULT;\n  if (type === OverridingPropertyType.META && defaultPropertyName) {\n    overridingPropertyPaths[defaultPropertyName].push(overridingPropertyKey);\n  }\n};\n\nexport const generateDataTreeModuleInputs = (\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  moduleInputs: Module[\"inputsForm\"],\n) => {\n  return {\n    unEvalEntity: null,\n    configEntity: null,\n  };\n};\n\nexport function isWidgetActionOrJsObject(\n  entity: DataTreeEntity,\n): entity is ActionEntity | WidgetEntity | JSActionEntity {\n  return isWidget(entity) || isAction(entity) || isJSAction(entity);\n}\n","export enum EVAL_WORKER_SYNC_ACTION {\n  SETUP = \"SETUP\",\n  EVAL_TREE = \"EVAL_TREE\",\n  EVAL_ACTION_BINDINGS = \"EVAL_ACTION_BINDINGS\",\n  CLEAR_CACHE = \"CLEAR_CACHE\",\n  VALIDATE_PROPERTY = \"VALIDATE_PROPERTY\",\n  UNDO = \"undo\",\n  REDO = \"redo\",\n  UPDATE_REPLAY_OBJECT = \"UPDATE_REPLAY_OBJECT\",\n  SET_EVALUATION_VERSION = \"SET_EVALUATION_VERSION\",\n  INIT_FORM_EVAL = \"INIT_FORM_EVAL\",\n  UNINSTALL_LIBRARY = \"UNINSTALL_LIBRARY\",\n  LINT_TREE = \"LINT_TREE\",\n  UPDATE_ACTION_DATA = \"UPDATE_ACTION_DATA\",\n}\n\nexport enum EVAL_WORKER_ASYNC_ACTION {\n  EVAL_TRIGGER = \"EVAL_TRIGGER\",\n  EVAL_EXPRESSION = \"EVAL_EXPRESSION\",\n  LOAD_LIBRARIES = \"LOAD_LIBRARIES\",\n  INSTALL_LIBRARY = \"INSTALL_LIBRARY\",\n}\n\nexport const EVAL_WORKER_ACTIONS = {\n  ...EVAL_WORKER_SYNC_ACTION,\n  ...EVAL_WORKER_ASYNC_ACTION,\n};\n\nexport enum MAIN_THREAD_ACTION {\n  PROCESS_TRIGGER = \"PROCESS_TRIGGER\",\n  PROCESS_BATCHED_TRIGGERS = \"PROCESS_BATCHED_TRIGGERS\",\n  PROCESS_STORE_UPDATES = \"PROCESS_STORE_UPDATES\",\n  PROCESS_LOGS = \"PROCESS_LOGS\",\n  LINT_TREE = \"LINT_TREE\",\n  PROCESS_JS_FUNCTION_EXECUTION = \"PROCESS_JS_FUNCTION_EXECUTION\",\n  UPDATE_DATATREE = \"UPDATE_DATATREE\",\n  SET_META_PROP_FROM_SETTER = \"SET_META_PROP_FROM_SETTER\",\n}\n","import type { DependencyMap, EvaluationError } from \"utils/DynamicBindingUtils\";\nimport {\n  EVAL_ERROR_PATH,\n  isChildPropertyPath,\n  isDynamicValue,\n  PropertyEvaluationErrorType,\n  isPathDynamicTrigger,\n  isPathADynamicBinding,\n} from \"utils/DynamicBindingUtils\";\nimport type { Diff } from \"deep-diff\";\nimport type {\n  DataTreeEntity,\n  DataTree,\n  ConfigTree,\n} from \"entities/DataTree/dataTreeTypes\";\nimport { ENTITY_TYPE } from \"@appsmith/entities/DataTree/types\";\nimport _, { difference, find, get, has, isEmpty, isNil, set } from \"lodash\";\nimport type { WidgetTypeConfigMap } from \"WidgetProvider/factory\";\nimport { PluginType } from \"entities/Action\";\nimport { klona } from \"klona/full\";\nimport { warn as logWarn } from \"loglevel\";\nimport type { EvalMetaUpdates } from \"@appsmith/workers/common/DataTreeEvaluator/types\";\nimport type {\n  JSActionEntityConfig,\n  PrivateWidgets,\n  JSActionEntity,\n  ActionEntity,\n  AppsmithEntity,\n  WidgetEntity,\n  DataTreeEntityConfig,\n  WidgetEntityConfig,\n} from \"@appsmith/entities/DataTree/types\";\nimport type { EvalProps } from \"workers/common/DataTreeEvaluator\";\nimport { validateWidgetProperty } from \"workers/common/DataTreeEvaluator/validationUtils\";\nimport { isWidgetActionOrJsObject } from \"@appsmith/entities/DataTree/utils\";\n\n// Dropdown1.options[1].value -> Dropdown1.options[1]\n// Dropdown1.options[1] -> Dropdown1.options\n// Dropdown1.options -> Dropdown1\nexport const IMMEDIATE_PARENT_REGEX = /^(.*)(\\..*|\\[.*\\])$/;\n\nexport enum DataTreeDiffEvent {\n  NEW = \"NEW\",\n  DELETE = \"DELETE\",\n  EDIT = \"EDIT\",\n  NOOP = \"NOOP\", // No Operation (don’t do anything)\n}\n\nexport interface DataTreeDiff {\n  payload: {\n    propertyPath: string;\n    value?: string;\n  };\n  event: DataTreeDiffEvent;\n}\n\nexport class CrashingError extends Error {}\n\nexport const convertPathToString = (arrPath: Array<string | number>) => {\n  let string = \"\";\n  arrPath.forEach((segment) => {\n    if (isInt(segment)) {\n      string = string + \"[\" + segment + \"]\";\n    } else {\n      if (string.length !== 0) {\n        string = string + \".\";\n      }\n      string = string + segment;\n    }\n  });\n  return string;\n};\n\n// Todo: improve the logic here\n// Right now NaN, Infinity, floats, everything works\nfunction isInt(val: string | number): boolean {\n  return Number.isInteger(val) || (_.isString(val) && /^\\d+$/.test(val));\n}\n\n// Removes the entity name from the property path\nexport function getEntityNameAndPropertyPath(fullPath: string): {\n  entityName: string;\n  propertyPath: string;\n} {\n  const indexOfFirstDot = fullPath.indexOf(\".\");\n  if (indexOfFirstDot === -1) {\n    // No dot was found so path is the entity name itself\n    return {\n      entityName: fullPath,\n      propertyPath: \"\",\n    };\n  }\n  const entityName = fullPath.substring(0, indexOfFirstDot);\n  const propertyPath = fullPath.substring(indexOfFirstDot + 1);\n  return { entityName, propertyPath };\n}\n\nexport function translateCollectionDiffs(\n  propertyPath: string,\n  data: unknown,\n  event: DataTreeDiffEvent,\n) {\n  const dataTreeDiffs: DataTreeDiff[] = [];\n  if (Array.isArray(data)) {\n    data.forEach((diff, idx) => {\n      dataTreeDiffs.push({\n        event,\n        payload: {\n          propertyPath: `${propertyPath}[${idx}]`,\n        },\n      });\n    });\n  } else if (isTrueObject(data)) {\n    Object.keys(data).forEach((diffKey) => {\n      const path = `${propertyPath}.${diffKey}`;\n      dataTreeDiffs.push({\n        event,\n        payload: {\n          propertyPath: path,\n        },\n      });\n    });\n  }\n  return dataTreeDiffs;\n}\n\n//these paths are not required to go through evaluate tree as these are internal properties\nconst ignorePathsForEvalRegex =\n  \".(reactivePaths|bindingPaths|triggerPaths|validationPaths|dynamicBindingPathList)\";\n\n//match if paths are part of ignorePathsForEvalRegex\nconst isUninterestingChangeForDependencyUpdate = (path: string) => {\n  return path.match(ignorePathsForEvalRegex);\n};\n\nexport const translateDiffEventToDataTreeDiffEvent = (\n  difference: Diff<any, any>,\n  unEvalDataTree: DataTree,\n): DataTreeDiff | DataTreeDiff[] => {\n  let result: DataTreeDiff | DataTreeDiff[] = {\n    payload: {\n      propertyPath: \"\",\n      value: \"\",\n    },\n    event: DataTreeDiffEvent.NOOP,\n  };\n  if (!difference.path) {\n    return result;\n  }\n  const propertyPath = convertPathToString(difference.path);\n\n  // add propertyPath to NOOP event\n  result.payload = {\n    propertyPath,\n    value: \"\",\n  };\n\n  //we do not need evaluate these paths because these are internal paths\n  const isUninterestingPathForUpdateTree =\n    isUninterestingChangeForDependencyUpdate(propertyPath);\n  if (!!isUninterestingPathForUpdateTree) {\n    return result;\n  }\n  const { entityName } = getEntityNameAndPropertyPath(propertyPath);\n  const entity = unEvalDataTree[entityName];\n  const isJsAction = isJSAction(entity);\n  switch (difference.kind) {\n    case \"N\": {\n      result.event = DataTreeDiffEvent.NEW;\n      result.payload = {\n        propertyPath,\n      };\n      break;\n    }\n    case \"D\": {\n      result.event = DataTreeDiffEvent.DELETE;\n      result.payload = { propertyPath };\n      break;\n    }\n    case \"E\": {\n      const rhsChange =\n        typeof difference.rhs === \"string\" &&\n        (isDynamicValue(difference.rhs) || isJsAction);\n\n      const lhsChange =\n        typeof difference.lhs === \"string\" &&\n        (isDynamicValue(difference.lhs) || isJsAction);\n\n      if (rhsChange || lhsChange) {\n        result = [\n          {\n            event:\n              difference.lhs === undefined\n                ? DataTreeDiffEvent.NEW\n                : DataTreeDiffEvent.EDIT,\n            payload: {\n              propertyPath,\n              value: difference.rhs,\n            },\n          },\n        ];\n        /**\n         * If lhs is an array/object\n         * Add delete events for all memberExpressions\n         */\n\n        const dataTreeDeleteDiffs = translateCollectionDiffs(\n          propertyPath,\n          difference.lhs,\n          DataTreeDiffEvent.DELETE,\n        );\n        result = result.concat(dataTreeDeleteDiffs);\n      } else if (difference.lhs === undefined || difference.rhs === undefined) {\n        // Handle static value changes that change structure that can lead to\n        // old bindings being eligible\n        if (difference.lhs === undefined && !isNil(difference.rhs)) {\n          result.event = DataTreeDiffEvent.NEW;\n          result.payload = { propertyPath };\n        }\n        if (difference.rhs === undefined && !isNil(difference.lhs)) {\n          result = [\n            {\n              event: DataTreeDiffEvent.EDIT,\n              payload: {\n                propertyPath,\n                value: difference.rhs,\n              },\n            },\n          ];\n\n          const dataTreeDeleteDiffs = translateCollectionDiffs(\n            propertyPath,\n            difference.lhs,\n            DataTreeDiffEvent.DELETE,\n          );\n\n          result = dataTreeDeleteDiffs.concat(result);\n        }\n      } else if (\n        isTrueObject(difference.lhs) &&\n        !isTrueObject(difference.rhs)\n      ) {\n        // This will happen for static value changes where a property went\n        // from being an object to any other type like string or number\n        // in such a case we want to delete all nested paths of the\n        // original lhs object\n\n        result = translateCollectionDiffs(\n          propertyPath,\n          difference.lhs,\n          DataTreeDiffEvent.DELETE,\n        );\n\n        // when an object is being replaced by an array\n        // list all new array accessors that are being added\n        // so dependencies will be created based on existing bindings\n        if (Array.isArray(difference.rhs)) {\n          result = result.concat(\n            translateCollectionDiffs(\n              propertyPath,\n              difference.rhs,\n              DataTreeDiffEvent.NEW,\n            ),\n          );\n        }\n      } else if (\n        !isTrueObject(difference.lhs) &&\n        isTrueObject(difference.rhs)\n      ) {\n        // This will happen for static value changes where a property went\n        // from being any other type like string or number to an object\n        // in such a case we want to add all nested paths of the\n        // new rhs object\n        result = translateCollectionDiffs(\n          propertyPath,\n          difference.rhs,\n          DataTreeDiffEvent.NEW,\n        );\n\n        // when an array is being replaced by an object\n        // remove all array accessors that are deleted\n        // so dependencies by existing bindings are removed\n        if (Array.isArray(difference.lhs)) {\n          result = result.concat(\n            translateCollectionDiffs(\n              propertyPath,\n              difference.lhs,\n              DataTreeDiffEvent.DELETE,\n            ),\n          );\n        }\n      }\n      break;\n    }\n    case \"A\": {\n      return translateDiffEventToDataTreeDiffEvent(\n        {\n          ...difference.item,\n          path: [...difference.path, difference.index],\n        },\n        unEvalDataTree,\n      );\n    }\n    default: {\n      break;\n    }\n  }\n  return result;\n};\n\nexport const translateDiffArrayIndexAccessors = (\n  propertyPath: string,\n  array: unknown[],\n  event: DataTreeDiffEvent,\n) => {\n  const result: DataTreeDiff[] = [];\n  array.forEach((data, index) => {\n    const path = `${propertyPath}[${index}]`;\n    result.push({\n      event,\n      payload: {\n        propertyPath: path,\n      },\n    });\n  });\n  return result;\n};\n/*\n  Table1.selectedRow\n  Table1.selectedRow.email: [\"Input1.defaultText\"]\n */\n\nexport const addDependantsOfNestedPropertyPaths = (\n  parentPaths: Array<string>,\n  inverseMap: DependencyMap,\n): Set<string> => {\n  const withNestedPaths: Set<string> = new Set();\n  const dependantNodes = Object.keys(inverseMap);\n  parentPaths.forEach((propertyPath) => {\n    withNestedPaths.add(propertyPath);\n    dependantNodes\n      .filter((dependantNodePath) =>\n        isChildPropertyPath(propertyPath, dependantNodePath),\n      )\n      .forEach((dependantNodePath) => {\n        inverseMap[dependantNodePath].forEach((path) => {\n          withNestedPaths.add(path);\n        });\n      });\n  });\n  return withNestedPaths;\n};\n\nexport function isWidget(\n  entity: Partial<DataTreeEntity> | DataTreeEntityConfig,\n): entity is WidgetEntity | WidgetEntityConfig {\n  return (\n    typeof entity === \"object\" &&\n    \"ENTITY_TYPE\" in entity &&\n    entity.ENTITY_TYPE === ENTITY_TYPE.WIDGET\n  );\n}\n\nexport const shouldSuppressAutoComplete = (widget: WidgetEntity) =>\n  Boolean(widget.suppressAutoComplete);\n\nexport const shouldSuppressDebuggerError = (widget: WidgetEntity) =>\n  Boolean(widget.suppressDebuggerError);\n\nexport function isAction(\n  entity: Partial<DataTreeEntity>,\n): entity is ActionEntity {\n  return (\n    typeof entity === \"object\" &&\n    \"ENTITY_TYPE\" in entity &&\n    entity.ENTITY_TYPE === ENTITY_TYPE.ACTION\n  );\n}\n\nexport function isAppsmithEntity(\n  entity: DataTreeEntity,\n): entity is AppsmithEntity {\n  return (\n    typeof entity === \"object\" &&\n    \"ENTITY_TYPE\" in entity &&\n    entity.ENTITY_TYPE === ENTITY_TYPE.APPSMITH\n  );\n}\n\nexport function isJSAction(entity: DataTreeEntity): entity is JSActionEntity {\n  return (\n    typeof entity === \"object\" &&\n    \"ENTITY_TYPE\" in entity &&\n    entity.ENTITY_TYPE === ENTITY_TYPE.JSACTION\n  );\n}\n/**\n *\n * isAnyJSAction checks if the entity is a JSAction ( or a JSModuleInstance on EE )\n */\nexport function isAnyJSAction(entity: DataTreeEntity) {\n  return isJSAction(entity);\n}\n\nexport function isJSActionConfig(\n  entity: DataTreeEntityConfig,\n): entity is JSActionEntityConfig {\n  return (\n    typeof entity === \"object\" &&\n    \"ENTITY_TYPE\" in entity &&\n    entity.ENTITY_TYPE === ENTITY_TYPE.JSACTION\n  );\n}\n\nexport function isJSObject(entity: DataTreeEntity): entity is JSActionEntity {\n  return (\n    typeof entity === \"object\" &&\n    \"ENTITY_TYPE\" in entity &&\n    entity.ENTITY_TYPE === ENTITY_TYPE.JSACTION &&\n    \"pluginType\" in entity &&\n    entity.pluginType === PluginType.JS\n  );\n}\n\nexport function isDataTreeEntity(entity: unknown) {\n  return !!entity && typeof entity === \"object\" && \"ENTITY_TYPE\" in entity;\n}\n\nexport const serialiseToBigInt = (value: any) =>\n  JSON.stringify(value, (_, v) => (typeof v === \"bigint\" ? v.toString() : v));\n\nexport const removeFunctionsAndSerialzeBigInt = (value: any) =>\n  JSON.parse(serialiseToBigInt(value));\n// We need to remove functions from data tree to avoid any unexpected identifier while JSON parsing\n// Check issue https://github.com/appsmithorg/appsmith/issues/719\nexport const removeFunctions = (value: any) => {\n  if (_.isFunction(value)) {\n    return \"Function call\";\n  } else if (_.isObject(value)) {\n    return removeFunctionsAndSerialzeBigInt(value);\n  } else {\n    return value;\n  }\n};\n\nexport const makeParentsDependOnChildren = (\n  depMap: DependencyMap,\n  allkeys: Record<string, true>,\n): DependencyMap => {\n  //return depMap;\n  // Make all parents depend on child\n  Object.keys(depMap).forEach((key) => {\n    depMap = makeParentsDependOnChild(depMap, key, allkeys);\n    depMap[key].forEach((path) => {\n      depMap = makeParentsDependOnChild(depMap, path, allkeys);\n    });\n  });\n  return depMap;\n};\n\nexport const makeParentsDependOnChild = (\n  depMap: DependencyMap,\n  child: string,\n  allkeys: Record<string, true>,\n): DependencyMap => {\n  const result: DependencyMap = depMap;\n  let curKey = child;\n  if (!allkeys[curKey]) {\n    logWarn(\n      `makeParentsDependOnChild - ${curKey} is not present in dataTree.`,\n      \"This might result in a cyclic dependency.\",\n    );\n  }\n  let matches: Array<string> | null;\n  // Note: The `=` is intentional\n  // Stops looping when match is null\n  while ((matches = curKey.match(IMMEDIATE_PARENT_REGEX)) !== null) {\n    const parentKey = matches[1];\n    // Todo: switch everything to set.\n    const existing = new Set(result[parentKey] || []);\n    existing.add(curKey);\n    result[parentKey] = Array.from(existing);\n    curKey = parentKey;\n  }\n  return result;\n};\n\n// The idea is to find the immediate parents of the property paths\n// e.g. For Table1.selectedRow.email, the parent is Table1.selectedRow\nexport const getImmediateParentsOfPropertyPaths = (\n  propertyPaths: Array<string>,\n): Array<string> => {\n  // Use a set to ensure that we dont have duplicates\n  const parents: Set<string> = new Set();\n\n  propertyPaths.forEach((path) => {\n    const matches = path.match(IMMEDIATE_PARENT_REGEX);\n\n    if (matches !== null) {\n      parents.add(matches[1]);\n    }\n  });\n\n  return Array.from(parents);\n};\n\nexport const getAllPaths = (\n  records: any,\n  curKey = \"\",\n  result: Record<string, true> = {},\n): Record<string, true> => {\n  // Add the key if it exists\n  if (curKey) result[curKey] = true;\n  if (Array.isArray(records)) {\n    for (let i = 0; i < records.length; i++) {\n      const tempKey = curKey ? `${curKey}[${i}]` : `${i}`;\n      getAllPaths(records[i], tempKey, result);\n    }\n  } else if (isTrueObject(records)) {\n    for (const key of Object.keys(records)) {\n      const tempKey = curKey ? `${curKey}.${key}` : `${key}`;\n      getAllPaths(records[key], tempKey, result);\n    }\n  }\n  return result;\n};\nexport const trimDependantChangePaths = (\n  changePaths: Set<string>,\n  dependencyMap: DependencyMap,\n): Array<string> => {\n  const trimmedPaths = [];\n  for (const path of changePaths) {\n    let foundADependant = false;\n    if (path in dependencyMap) {\n      const dependants = dependencyMap[path];\n      for (const dependantPath of dependants) {\n        if (changePaths.has(dependantPath)) {\n          foundADependant = true;\n          break;\n        }\n      }\n    }\n    if (!foundADependant) {\n      trimmedPaths.push(path);\n    }\n  }\n  return trimmedPaths;\n};\n\nexport function getSafeToRenderDataTree(\n  tree: DataTree,\n  widgetTypeConfigMap: WidgetTypeConfigMap,\n  configTree: ConfigTree,\n) {\n  return Object.keys(tree).reduce((tree, entityKey: string) => {\n    const entity = tree[entityKey];\n\n    if (!isWidget(entity)) {\n      return tree;\n    }\n    const entityConfig = configTree[entityKey] as WidgetEntityConfig;\n\n    const safeToRenderEntity = { ...entity };\n    // Set user input values to their parsed values\n    Object.entries(entityConfig.validationPaths).forEach(\n      ([property, validation]) => {\n        const value = _.get(entity, property);\n        // Pass it through parse\n        const { parsed } = validateWidgetProperty(\n          validation,\n          value,\n          entityConfig,\n          property,\n        );\n        _.set(safeToRenderEntity, property, parsed);\n      },\n    );\n    // Set derived values to undefined or else they would go as bindings\n    Object.keys(\n      widgetTypeConfigMap[entityConfig.type].derivedProperties,\n    ).forEach((property) => {\n      _.set(safeToRenderEntity, property, undefined);\n    });\n    return { ...tree, [entityKey]: safeToRenderEntity };\n  }, tree);\n}\n\nexport const addErrorToEntityProperty = ({\n  configTree,\n  errors,\n  evalProps,\n  fullPropertyPath,\n}: {\n  errors: EvaluationError[];\n  fullPropertyPath: string;\n  evalProps: EvalProps;\n  configTree: ConfigTree;\n}) => {\n  const { entityName, propertyPath } =\n    getEntityNameAndPropertyPath(fullPropertyPath);\n  const isPrivateEntityPath =\n    getAllPrivateWidgetsInDataTree(configTree)[entityName];\n  const logBlackList = get(configTree, `${entityName}.logBlackList`, {});\n  if (propertyPath && !(propertyPath in logBlackList) && !isPrivateEntityPath) {\n    const errorPath = `${entityName}.${EVAL_ERROR_PATH}['${propertyPath}']`;\n    const existingErrors = get(evalProps, errorPath, []) as EvaluationError[];\n    set(evalProps, errorPath, existingErrors.concat(errors));\n  }\n};\n\nexport const resetValidationErrorsForEntityProperty = ({\n  evalProps,\n  fullPropertyPath,\n}: {\n  fullPropertyPath: string;\n  evalProps: EvalProps;\n}) => {\n  const { entityName, propertyPath } =\n    getEntityNameAndPropertyPath(fullPropertyPath);\n  if (propertyPath) {\n    const errorPath = `${entityName}.${EVAL_ERROR_PATH}['${propertyPath}']`;\n    const existingErrorsExceptValidation = (\n      _.get(evalProps, errorPath, []) as EvaluationError[]\n    ).filter(\n      (error) => error.errorType !== PropertyEvaluationErrorType.VALIDATION,\n    );\n    _.set(evalProps, errorPath, existingErrorsExceptValidation);\n  }\n};\n\n// For the times when you need to know if something truly an object like { a: 1, b: 2}\n// typeof, lodash.isObject and others will return false positives for things like array, null, etc\nexport const isTrueObject = (\n  item: unknown,\n): item is Record<string, unknown> => {\n  return Object.prototype.toString.call(item) === \"[object Object]\";\n};\n\n/**\n * This function finds the datatype of the given value.\n * typeof, lodash and others will return false positives for things like array, wrapper objects, etc\n * @param value\n * @returns datatype of the received value as string\n */\nexport const findDatatype = (value: unknown) => {\n  return Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n};\n\nexport const isDynamicLeaf = (\n  unEvalTree: DataTree,\n  propertyPath: string,\n  configTree: ConfigTree,\n) => {\n  const [entityName, ...propPathEls] = _.toPath(propertyPath);\n  // Framework feature: Top level items are never leaves\n  if (entityName === propertyPath) return false;\n  // Ignore if this was a delete op\n  if (!unEvalTree.hasOwnProperty(entityName)) return false;\n\n  const entityConfig = configTree[entityName];\n  const entity = unEvalTree[entityName];\n  if (!isWidgetActionOrJsObject(entity)) return false;\n  const relativePropertyPath = convertPathToString(propPathEls);\n  return (\n    (!isEmpty(entityConfig.reactivePaths) &&\n      relativePropertyPath in entityConfig.reactivePaths) ||\n    (isWidget(entityConfig) &&\n      relativePropertyPath in entityConfig?.triggerPaths)\n  );\n};\n\nexport const addWidgetPropertyDependencies = ({\n  widgetConfig,\n  widgetName,\n}: {\n  widgetConfig: WidgetEntityConfig;\n  widgetName: string;\n}) => {\n  const dependencies: DependencyMap = {};\n\n  Object.entries(widgetConfig.propertyOverrideDependency).forEach(\n    ([overriddenPropertyKey, overridingPropertyKeyMap]) => {\n      const existingDependenciesSet = new Set(\n        dependencies[`${widgetName}.${overriddenPropertyKey}`] || [],\n      );\n      // add meta dependency\n      overridingPropertyKeyMap.META &&\n        existingDependenciesSet.add(\n          `${widgetName}.${overridingPropertyKeyMap.META}`,\n        );\n      // add default dependency\n      overridingPropertyKeyMap.DEFAULT &&\n        existingDependenciesSet.add(\n          `${widgetName}.${overridingPropertyKeyMap.DEFAULT}`,\n        );\n\n      dependencies[`${widgetName}.${overriddenPropertyKey}`] = [\n        ...existingDependenciesSet,\n      ];\n    },\n  );\n  return dependencies;\n};\n\nexport const isPrivateEntityPath = (\n  privateWidgets: PrivateWidgets,\n  fullPropertyPath: string,\n) => {\n  const entityName = fullPropertyPath.split(\".\")[0];\n  if (Object.keys(privateWidgets).indexOf(entityName) !== -1) {\n    return true;\n  }\n  return false;\n};\n\nexport const getAllPrivateWidgetsInDataTree = (\n  configTree: ConfigTree,\n): PrivateWidgets => {\n  let privateWidgets: PrivateWidgets = {};\n\n  Object.keys(configTree).forEach((entityName) => {\n    const entityConfig = configTree[entityName] as WidgetEntityConfig;\n    if (isWidget(entityConfig) && !_.isEmpty(entityConfig.privateWidgets)) {\n      privateWidgets = { ...privateWidgets, ...entityConfig.privateWidgets };\n    }\n  });\n\n  return privateWidgets;\n};\n\nexport const getDataTreeWithoutPrivateWidgets = (\n  dataTree: DataTree,\n  configTree: ConfigTree,\n): DataTree => {\n  const privateWidgets = getAllPrivateWidgetsInDataTree(configTree);\n  const privateWidgetNames = Object.keys(privateWidgets);\n  const treeWithoutPrivateWidgets = _.omit(dataTree, privateWidgetNames);\n  return treeWithoutPrivateWidgets;\n};\n\nconst getDataTreeWithoutSuppressedAutoComplete = (\n  dataTree: DataTree,\n): DataTree => {\n  const entityIds = Object.keys(dataTree).filter((entityName) => {\n    const entity = dataTree[entityName];\n    return (\n      isWidget(entity) && shouldSuppressAutoComplete(entity as WidgetEntity)\n    );\n  });\n\n  return _.omit(dataTree, entityIds);\n};\n\nexport const getDataTreeForAutocomplete = (\n  dataTree: DataTree,\n  configTree: ConfigTree,\n): DataTree => {\n  const treeWithoutPrivateWidgets = getDataTreeWithoutPrivateWidgets(\n    dataTree,\n    configTree,\n  );\n  const treeWithoutSuppressedAutoComplete =\n    getDataTreeWithoutSuppressedAutoComplete(treeWithoutPrivateWidgets);\n\n  return treeWithoutSuppressedAutoComplete;\n};\n\n/**\n *  overrideWidgetProperties method has logic to update overriddenPropertyPaths when overridingPropertyPaths are evaluated.\n *\n *  when we evaluate widget's overridingPropertyPaths for example defaultText of input widget,\n *  we override the values like text and meta.text in dataTree, these values are called as overriddenPropertyPaths\n *\n * @param {{\n *   entity: WidgetEntity;\n *   propertyPath: string;\n *   value: unknown;\n *   currentTree: DataTree;\n *   evalMetaUpdates: EvalMetaUpdates;\n * }} params\n * @return {*}\n */\nexport const overrideWidgetProperties = (params: {\n  entity: WidgetEntity;\n  propertyPath: string;\n  value: unknown;\n  currentTree: DataTree;\n  configTree: ConfigTree;\n  evalMetaUpdates: EvalMetaUpdates;\n  fullPropertyPath: string;\n  isNewWidget: boolean;\n  shouldUpdateGlobalContext?: boolean;\n  overriddenProperties?: string[];\n  safeTree?: DataTree;\n}) => {\n  const {\n    configTree,\n    currentTree,\n    entity,\n    evalMetaUpdates,\n    fullPropertyPath,\n    isNewWidget,\n    overriddenProperties,\n    propertyPath,\n    safeTree,\n    shouldUpdateGlobalContext,\n    value,\n  } = params;\n  const { entityName } = getEntityNameAndPropertyPath(fullPropertyPath);\n\n  const configEntity = configTree[entityName] as WidgetEntityConfig;\n  if (propertyPath in configEntity.overridingPropertyPaths) {\n    const clonedValue = klona(value);\n    const overridingPropertyPaths =\n      configEntity.overridingPropertyPaths[propertyPath];\n\n    const pathsNotToOverride = widgetPathsNotToOverride(\n      isNewWidget,\n      propertyPath,\n      configEntity,\n    );\n\n    overridingPropertyPaths.forEach((overriddenPropertyPath) => {\n      const overriddenPropertyPathArray = overriddenPropertyPath.split(\".\");\n      if (pathsNotToOverride.includes(overriddenPropertyPath)) return;\n      const fullPath = [entityName, ...overriddenPropertyPathArray];\n      _.set(currentTree, fullPath, clonedValue);\n      if (safeTree) _.set(safeTree, fullPath, klona(value));\n\n      if (shouldUpdateGlobalContext) {\n        _.set(self, fullPath, clonedValue);\n      }\n      overriddenProperties?.push(overriddenPropertyPath);\n      // evalMetaUpdates has all updates from property which overrides meta values.\n      if (\n        propertyPath.split(\".\")[0] !== \"meta\" &&\n        overriddenPropertyPathArray[0] === \"meta\"\n      ) {\n        const metaPropertyPath = overriddenPropertyPathArray.slice(1);\n        evalMetaUpdates.push({\n          widgetId: entity.widgetId,\n          metaPropertyPath,\n          value: clonedValue,\n        });\n      }\n    });\n  } else if (\n    propertyPath in configEntity.propertyOverrideDependency &&\n    value === undefined\n  ) {\n    // When a reset a widget its meta value becomes undefined, ideally they should reset to default value.\n    // below we handle logic to reset meta values to default values.\n    const propertyOverridingKeyMap =\n      configEntity.propertyOverrideDependency[propertyPath];\n    if (propertyOverridingKeyMap.DEFAULT) {\n      const defaultValue = entity[propertyOverridingKeyMap.DEFAULT];\n      if (defaultValue !== undefined) {\n        const clonedDefaultValue = klona(defaultValue);\n        const fullPath = [entityName, ...propertyPath.split(\".\")];\n        _.set(currentTree, fullPath, clonedDefaultValue);\n        if (safeTree) _.set(safeTree, fullPath, klona(defaultValue));\n\n        if (shouldUpdateGlobalContext) {\n          _.set(self, fullPath, clonedDefaultValue);\n        }\n\n        return {\n          overwriteParsedValue: true,\n          newValue: clonedDefaultValue,\n        };\n      }\n    }\n  }\n};\n\nexport const isATriggerPath = (\n  entityConfig: DataTreeEntityConfig,\n  propertyPath: string,\n) => {\n  return (\n    isWidget(entityConfig) && isPathDynamicTrigger(entityConfig, propertyPath)\n  );\n};\n\n// Checks if entity newly got added to the unevalTree\nexport const isNewEntity = (updates: DataTreeDiff[], entityName: string) => {\n  return !!find(updates, {\n    event: DataTreeDiffEvent.NEW,\n    payload: { propertyPath: entityName },\n  });\n};\n\nconst widgetPathsNotToOverride = (\n  isNewWidget: boolean,\n  propertyPath: string,\n  entityConfig: WidgetEntityConfig,\n) => {\n  let pathsNotToOverride: string[] = [];\n  const overriddenPropertyPaths =\n    entityConfig.overridingPropertyPaths[propertyPath];\n\n  // Check if widget has pre-existing meta values (although newly added to the unevalTree)\n  if (isNewWidget && entityConfig.isMetaPropDirty) {\n    const overriddenMetaPaths = overriddenPropertyPaths.filter(\n      (path) => path.split(\".\")[0] === \"meta\",\n    );\n    // If widget is newly added but has pre-existing meta values, this meta values take precedence and should not be overridden\n    pathsNotToOverride = [...overriddenMetaPaths];\n    // paths which these meta values override should also not get overridden\n    overriddenMetaPaths.forEach((path) => {\n      if (entityConfig.overridingPropertyPaths.hasOwnProperty(path)) {\n        pathsNotToOverride = [\n          ...pathsNotToOverride,\n          ...entityConfig.overridingPropertyPaths[path],\n        ];\n      }\n    });\n  }\n  return pathsNotToOverride;\n};\n\nconst isWidgetDefaultPropertyPath = (\n  widget: WidgetEntityConfig,\n  propertyPath: string,\n) => {\n  for (const property of Object.keys(widget.propertyOverrideDependency)) {\n    const overrideDependency = widget.propertyOverrideDependency[property];\n    if (overrideDependency.DEFAULT === propertyPath) return true;\n  }\n  return false;\n};\n\nconst isMetaWidgetTemplate = (widget: WidgetEntity) => {\n  return !!widget.siblingMetaWidgets;\n};\n\n// When a default value changes in a template(widgets used to generate other widgets), meta values of metaWidgets not present in the unevalTree become stale\nexport function getStaleMetaStateIds(args: {\n  entity: WidgetEntity;\n  entityConfig: WidgetEntityConfig;\n  propertyPath: string;\n  isNewWidget: boolean;\n  metaWidgets: string[];\n}) {\n  const { entity, entityConfig, isNewWidget, metaWidgets, propertyPath } = args;\n  return !isNewWidget &&\n    isWidgetDefaultPropertyPath(entityConfig, propertyPath) &&\n    isMetaWidgetTemplate(entity)\n    ? difference(entity.siblingMetaWidgets, metaWidgets)\n    : [];\n}\n\nexport function convertJSFunctionsToString(\n  jscollections: Record<string, JSActionEntity>,\n  configTree: ConfigTree,\n) {\n  const collections = klona(jscollections);\n  Object.keys(collections).forEach((collectionName) => {\n    const jsCollection = collections[collectionName];\n    const jsCollectionConfig = configTree[\n      collectionName\n    ] as JSActionEntityConfig;\n    const jsFunctions = jsCollectionConfig.meta;\n    for (const funcName in jsFunctions) {\n      if (jsCollection[funcName] instanceof String) {\n        if (has(jsCollection, [funcName, \"data\"])) {\n          set(jsCollection, [`${funcName}.data`], {});\n        }\n        set(jsCollection, funcName, jsCollection[funcName].toString());\n      }\n    }\n  });\n\n  return collections;\n}\n\nexport const isAPathDynamicBindingPath = (\n  entity: DataTreeEntity,\n  entityConfig: DataTreeEntityConfig,\n  propertyPath: string,\n) => {\n  return (\n    isWidgetActionOrJsObject(entity) &&\n    isPathADynamicBinding(entityConfig, propertyPath)\n  );\n};\n\nexport const isNotEntity = (entity: DataTreeEntity) => {\n  return !isAction(entity) && !isWidget(entity) && !isJSAction(entity);\n};\n\nexport const isEntityAction = (entity: DataTreeEntity) => {\n  return isAction(entity);\n};\nexport const convertMicroDiffToDeepDiff = (\n  microDiffDifferences: Record<string, any>[],\n) =>\n  microDiffDifferences.map((v: Record<string, any>) => {\n    const { oldValue, path, type, value } = v;\n    //convert microDiff format to deepDiff format\n    if (type === \"CREATE\") {\n      return {\n        kind: \"N\",\n        path,\n        rhs: value,\n      };\n    }\n    if (type === \"REMOVE\") {\n      return {\n        kind: \"D\",\n        path,\n        lhs: oldValue,\n      };\n    }\n    return {\n      kind: \"E\",\n      path,\n      lhs: oldValue,\n      rhs: value,\n    };\n  });\n","import type {\n  TNavigateToActionType,\n  TNavigateToDescription,\n} from \"./navigateTo\";\nimport navigateTo from \"./navigateTo\";\nimport type { TShowAlertActionType, TShowAlertDescription } from \"./showAlert\";\nimport showAlert from \"./showAlert\";\nimport type {\n  TCloseModalActionType,\n  TCloseModalDescription,\n  TShowModalActionType,\n  TShowModalDescription,\n} from \"./modalFns\";\nimport { closeModal, showModal } from \"./modalFns\";\nimport type { TDownloadActionType, TDownloadDescription } from \"./download\";\nimport download from \"./download\";\nimport type {\n  TPostWindowMessageActionType,\n  TPostWindowMessageDescription,\n} from \"./postWindowMessage\";\nimport postWindowMessage from \"./postWindowMessage\";\nimport type {\n  TCopyToClipboardActionType,\n  TCopyToClipboardDescription,\n} from \"./copyToClipboard\";\nimport copyToClipboard from \"./copyToClipboard\";\nimport type {\n  TResetWidgetActionType,\n  TResetWidgetDescription,\n} from \"./resetWidget\";\nimport resetWidget from \"./resetWidget\";\nimport type {\n  TClearStoreDescription,\n  TRemoveValueDescription,\n  TStoreValueDescription,\n} from \"./storeFns\";\nimport { clearStore, removeValue, storeValue } from \"./storeFns\";\nimport type {\n  TClearActionType,\n  TClearDescription,\n  TRunActionType,\n  TRunDescription,\n} from \"./actionFns\";\nimport run, { clear } from \"./actionFns\";\nimport { isAppsmithEntity } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport type { ActionEntity } from \"@appsmith/entities/DataTree/types\";\nimport type { DataTreeEntity } from \"entities/DataTree/dataTreeTypes\";\nimport type {\n  TGetGeoLocationActionType,\n  TGetGeoLocationDescription,\n  TStopWatchGeoLocationActionType,\n  TStopWatchGeoLocationDescription,\n  TWatchGeoLocationActionType,\n  TWatchGeoLocationDescription,\n} from \"./geolocationFns\";\nimport {\n  getGeoLocation,\n  stopWatchGeoLocation,\n  watchGeoLocation,\n} from \"./geolocationFns\";\nimport { getFnWithGuards, isAsyncGuard } from \"./utils/fnGuard\";\nimport { isRunNClearFnQualifierEntity } from \"@appsmith/workers/Evaluation/fns/utils/isRunNClearFnQualifierEntity\";\n\nexport const getPlatformFunctions = () => {\n  return platformFns;\n};\n\nexport const getEntityFunctions = () => {\n  return entityFns;\n};\n\nconst platformFns = [\n  {\n    name: \"navigateTo\",\n    fn: navigateTo,\n  },\n  {\n    name: \"showAlert\",\n    fn: showAlert,\n  },\n  {\n    name: \"showModal\",\n    fn: showModal,\n  },\n  {\n    name: \"closeModal\",\n    fn: closeModal,\n  },\n  {\n    name: \"download\",\n    fn: download,\n  },\n  {\n    name: \"postWindowMessage\",\n    fn: postWindowMessage,\n  },\n  {\n    name: \"copyToClipboard\",\n    fn: copyToClipboard,\n  },\n  {\n    name: \"resetWidget\",\n    fn: resetWidget,\n  },\n  {\n    name: \"storeValue\",\n    fn: storeValue,\n  },\n  {\n    name: \"removeValue\",\n    fn: removeValue,\n  },\n  {\n    name: \"clearStore\",\n    fn: clearStore,\n  },\n];\n\nconst entityFns = [\n  {\n    name: \"run\",\n    qualifier: (entity: DataTreeEntity) => isRunNClearFnQualifierEntity(entity),\n    fn: (entity: DataTreeEntity, entityName: string) => {\n      const actionEntity = entity as ActionEntity;\n      // @ts-expect-error: name is not defined on ActionEntity\n      actionEntity.name = entityName;\n      return getFnWithGuards(\n        run.bind(actionEntity as ActionEntity),\n        `${entityName}.run`,\n        [isAsyncGuard],\n      );\n    },\n  },\n  {\n    name: \"clear\",\n    qualifier: (entity: DataTreeEntity) => isRunNClearFnQualifierEntity(entity),\n    fn: (entity: DataTreeEntity, entityName: string) =>\n      getFnWithGuards(\n        clear.bind(entity as ActionEntity),\n        `${entityName}.clear`,\n        [isAsyncGuard],\n      ),\n  },\n  {\n    name: \"getGeoLocation\",\n    path: \"appsmith.geolocation.getCurrentPosition\",\n    qualifier: (entity: DataTreeEntity) => isAppsmithEntity(entity),\n    fn: () =>\n      getFnWithGuards(\n        getGeoLocation,\n        \"appsmith.geolocation.getCurrentPosition\",\n        [isAsyncGuard],\n      ),\n  },\n  {\n    name: \"watchGeoLocation\",\n    path: \"appsmith.geolocation.watchPosition\",\n    qualifier: (entity: DataTreeEntity) => isAppsmithEntity(entity),\n    fn: () =>\n      getFnWithGuards(watchGeoLocation, \"appsmith.geolocation.watchPosition\", [\n        isAsyncGuard,\n      ]),\n  },\n  {\n    name: \"stopWatchGeoLocation\",\n    path: \"appsmith.geolocation.clearWatch\",\n    qualifier: (entity: DataTreeEntity) => isAppsmithEntity(entity),\n    fn: () =>\n      getFnWithGuards(stopWatchGeoLocation, \"appsmith.geolocation.clearWatch\", [\n        isAsyncGuard,\n      ]),\n  },\n];\n\nexport type ActionTriggerKeys =\n  | TClearActionType\n  | TRunActionType\n  | TDownloadActionType\n  | TShowModalActionType\n  | TCloseModalActionType\n  | TShowAlertActionType\n  | TDownloadActionType\n  | TNavigateToActionType\n  | TResetWidgetActionType\n  | TCopyToClipboardActionType\n  | TPostWindowMessageActionType\n  | TGetGeoLocationActionType\n  | TWatchGeoLocationActionType\n  | TStopWatchGeoLocationActionType;\n\nexport const getActionTriggerFunctionNames = (): Record<string, string> => {\n  return ActionTriggerFunctionNames;\n};\n\nconst ActionTriggerFunctionNames: Record<string, string> = {\n  CLEAR_INTERVAL: \"clearInterval\",\n  CLEAR_PLUGIN_ACTION: \"action.clear\",\n  CLOSE_MODAL: \"closeModal\",\n  COPY_TO_CLIPBOARD: \"copyToClipboard\",\n  DOWNLOAD: \"download\",\n  NAVIGATE_TO: \"navigateTo\",\n  RESET_WIDGET_META_RECURSIVE_BY_NAME: \"resetWidget\",\n  RUN_PLUGIN_ACTION: \"action.run\",\n  SET_INTERVAL: \"setInterval\",\n  SHOW_ALERT: \"showAlert\",\n  SHOW_MODAL_BY_NAME: \"showModal\",\n  STORE_VALUE: \"storeValue\",\n  REMOVE_VALUE: \"removeValue\",\n  CLEAR_STORE: \"clearStore\",\n  GET_CURRENT_LOCATION: \"getCurrentLocation\",\n  WATCH_CURRENT_LOCATION: \"watchLocation\",\n  STOP_WATCHING_CURRENT_LOCATION: \"stopWatch\",\n  POST_MESSAGE: \"postWindowMessage\",\n  SET_TIMEOUT: \"setTimeout\",\n  CLEAR_TIMEOUT: \"clearTimeout\",\n};\n\nexport type ActionDescription =\n  | TRunDescription\n  | TClearDescription\n  | TShowModalDescription\n  | TCloseModalDescription\n  | TClearDescription\n  | TStoreValueDescription\n  | TClearStoreDescription\n  | TRemoveValueDescription\n  | TDownloadDescription\n  | TPostWindowMessageDescription\n  | TNavigateToDescription\n  | TShowAlertDescription\n  | TResetWidgetDescription\n  | TCopyToClipboardDescription\n  | TGetGeoLocationDescription\n  | TWatchGeoLocationDescription\n  | TStopWatchGeoLocationDescription;\n","import type { DataTree } from \"entities/DataTree/dataTreeTypes\";\n\nexport interface GenerateOverrideContextProps {\n  bindings: string[];\n  dataTree: DataTree;\n  executionParams: Record<string, unknown>;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction generateOverrideContext(props: GenerateOverrideContextProps) {\n  return {};\n}\n\nexport default generateOverrideContext;\n","export * from \"ce/workers/Evaluation/generateOverrideContext\";\nimport { default as CE_generateOverrideContext } from \"ce/workers/Evaluation/generateOverrideContext\";\nexport default CE_generateOverrideContext;\n","import type { ReduxAction } from \"@appsmith/constants/ReduxActionConstants\";\nimport type LOG_TYPE from \"./logtype\";\nimport type { PropertyEvaluationErrorType } from \"utils/DynamicBindingUtils\";\nimport type { PluginType } from \"entities/Action\";\nimport type { HTTP_METHOD } from \"constants/ApiEditorConstants/CommonApiConstants\";\nimport type {\n  ENTITY_TYPE,\n  PLATFORM_ERROR,\n} from \"@appsmith/entities/AppsmithConsole/utils\";\n\nexport type Methods =\n  | \"log\"\n  | \"debug\"\n  | \"info\"\n  | \"warn\"\n  | \"error\"\n  | \"table\"\n  | \"clear\"\n  | \"time\"\n  | \"timeEnd\"\n  | \"count\"\n  | \"assert\";\n\nexport interface LogObject {\n  method: Methods | \"result\";\n  data: any[];\n  timestamp: string;\n  id: string;\n  severity: Severity;\n  source: SourceEntity;\n}\n\nexport type ErrorType = PropertyEvaluationErrorType | PLATFORM_ERROR;\n\nexport enum Severity {\n  // Everything, irrespective of what the user should see or not\n  // DEBUG = \"debug\",\n  // Something the dev user should probably know about\n  INFO = \"info\",\n  // Doesn't break the app, but can cause slowdowns / ux issues/ unexpected behaviour\n  WARNING = \"warning\",\n  // Can cause an error in some cases/ single widget, app will work in other cases\n  ERROR = \"error\",\n  // Makes the app unusable, can't progress without fixing this.\n  // CRITICAL = \"critical\",\n}\n\nexport interface UserAction {\n  // Label is used to display the\n  label: string;\n  // As there can be multiple errors of the same base type at the same time\n  // and we need to be able to tell the difference,\n  // these action types should have a dynamic `id` associated with them\n  // or we should use JS callback functions instead\n  reduxAction: ReduxAction<unknown>;\n}\n\nexport interface SourceEntity {\n  type: ENTITY_TYPE;\n  // Widget or action name\n  name: string;\n  // Id of the widget or action\n  id: string;\n  // property path of the child\n  propertyPath?: string;\n  // plugin type of the action or type of widget\n  pluginType?: PluginType | string;\n  // http method of the api. (Only for api actions)\n  httpMethod?: HTTP_METHOD;\n}\n\nexport enum LOG_CATEGORY {\n  USER_GENERATED = \"USER_GENERATED\",\n  PLATFORM_GENERATED = \"PLATFORM_GENERATED\",\n}\n\nexport interface LogActionPayload {\n  // Log id, used for updating or deleting\n  id?: string;\n  // icon id, used in finding appropriate icons.\n  iconId?: string;\n  // What is the log about. Is it a datasource update, widget update, eval error etc.\n  logType?: LOG_TYPE;\n  // This is the preview of the log that the user sees.\n  text: string;\n  // The environment in which the log was generated.\n  environmentName?: string;\n  // Number of times this log has been repeated\n  occurrenceCount?: number;\n  // Deconstructed data of the log, this includes the whole nested objects/arrays/strings etc.\n  logData?: any[];\n  // messages associated with this event\n  messages?: Array<Message>;\n  // Time taken for the event to complete\n  timeTaken?: string;\n  // \"where\" source entity and propertyPsath.\n  source?: SourceEntity;\n  // Snapshot KV pair of scope variables or state associated with this event.\n  state?: Record<string, any>;\n  // Any other data required for analytics\n  analytics?: Record<string, any>;\n  // plugin error details if any (only for plugin errors).\n  pluginErrorDetails?: any;\n  meta?: Record<string, any>;\n}\n\nexport interface Message {\n  // More contextual message than `text`\n  message: Error;\n  type?: ErrorType;\n  subType?: string;\n  lineNumber?: number;\n  character?: number;\n  // The section of code being referred to\n  // codeSegment?: string;\n}\n\nexport interface Log extends LogActionPayload {\n  severity: Severity;\n  // Is the log system generated or user generated\n  category: LOG_CATEGORY;\n  // \"when\" did this event happen\n  timestamp: string;\n  // expanded state of the log.\n  isExpanded: boolean;\n}\n\n/**\n * Example:\n * \"Api timed out\"\n * {\n *   type: ActionError.EXECUTION_TIMEOUT,\n *   timeoutMs: 10000,\n *   severity: Severity.ERROR,\n *   message: \"Action execution timedout after 10 seconds\",\n *   source: {\n *     type: ENTITY_TYPE.ACTION,\n *     name: \"Api1\",\n *     id: \"a12345\",\n *     propertyPath: \"run\",\n *   },\n *   timestamp: new Date(),\n *   state: {},\n *   userActions: [\n *     {\n *       label: \"Increase timeout by 5 seconds\",\n *       reduxAction: {\n *         type: \"ACTION_INCREASE_TIMEOUT\",\n *         payload: { actionId: \"abcdef\", value: 5000 },\n *       },\n *     },\n *   ]\n * }\n */\n","import { difference } from \"lodash\";\nimport { isChildPropertyPath } from \"utils/DynamicBindingUtils\";\nimport { sort } from \"fast-sort\";\n\nexport type TDependencies = Map<string, Set<string>>;\nexport default class DependencyMap {\n  #nodes: Map<string, true>;\n  #dependencies: TDependencies;\n  #dependenciesInverse: TDependencies;\n  #invalidDependencies: TDependencies;\n  #invalidDependenciesInverse: TDependencies;\n\n  constructor() {\n    this.#nodes = new Map();\n    this.#dependencies = new Map();\n    this.#invalidDependencies = new Map();\n    this.#dependenciesInverse = new Map();\n    this.#invalidDependenciesInverse = new Map();\n  }\n\n  // Returns all nodes in the graph\n  get nodes() {\n    return Object.fromEntries(this.#nodes);\n  }\n\n  // Returns all edges in the graph\n  get dependencies() {\n    const deps: Record<string, string[]> = {};\n    for (const [key, value] of this.#dependencies.entries()) {\n      deps[key] = Array.from(value);\n    }\n    return deps;\n  }\n\n  get inverseDependencies() {\n    const deps: Record<string, string[]> = {};\n    for (const [key, value] of this.#dependenciesInverse.entries()) {\n      deps[key] = Array.from(value);\n    }\n    return deps;\n  }\n\n  get invalidDependencies() {\n    const deps: Record<string, string[]> = {};\n    for (const [key, value] of this.#invalidDependencies.entries()) {\n      deps[key] = Array.from(value);\n    }\n    return deps;\n  }\n\n  get inverseInvalidDependencies() {\n    const deps: Record<string, string[]> = {};\n    for (const [key, value] of this.#invalidDependenciesInverse.entries()) {\n      deps[key] = Array.from(value);\n    }\n    return deps;\n  }\n\n  /**\n   * Adds new dependencies to the graph.\n   * Iterates over the dependencies and adds them to the graph if they it is a valid node.\n   * If the dependency is not a valid node, it is added to the invalid dependencies and inverse invalid dependency.\n   * @param node\n   * @param dependencies\n   */\n  public addDependency = (node: string, dependencies: string[]) => {\n    // Only add dependencies for nodes present in the graph\n    if (!this.#nodes.has(node)) return;\n    const validDependencies = new Set<string>();\n    const invalidDependencies = new Set<string>();\n\n    // Update the validDependencies and invalidDependencies\n    // Valid dependencies are dependencies present in this.#node, otherwise, they are invalid.\n    for (const dependency of dependencies) {\n      if (this.#nodes.has(dependency)) {\n        validDependencies.add(dependency);\n        if (this.#dependenciesInverse.has(dependency)) {\n          this.#dependenciesInverse.get(dependency)?.add(node);\n        } else {\n          this.#dependenciesInverse.set(dependency, new Set([node]));\n        }\n      } else {\n        invalidDependencies.add(dependency);\n        if (this.#invalidDependenciesInverse.has(dependency)) {\n          this.#invalidDependenciesInverse.get(dependency)?.add(node);\n        } else {\n          this.#invalidDependenciesInverse.set(dependency, new Set([node]));\n        }\n      }\n    }\n\n    // Now that we have created a new set of dependencies, and invalid dependencies for the node,\n    // we need to remove the node from the inverse-dependencies of previous invalidDeps and validDeps, which have been removed.\n\n    const previousNodeDependencies =\n      this.#dependencies.get(node) || new Set<string>();\n    const newNodeDependencies = validDependencies;\n\n    // dependencies removed from path\n    const removedNodeDependencies = difference(\n      Array.from(previousNodeDependencies),\n      Array.from(newNodeDependencies),\n    );\n\n    // Remove node from the inverseDependencies of removed deps\n    for (const removedDependency of removedNodeDependencies) {\n      this.#dependenciesInverse.get(removedDependency)?.delete(node);\n    }\n\n    const previousNodeInvalidDependencies =\n      this.#invalidDependencies.get(node) || new Set<string>();\n    const newNodeInvalidDependencies = invalidDependencies;\n\n    // invalid dependencies removed from path\n    const removedNodeInvalidDependencies = difference(\n      Array.from(previousNodeInvalidDependencies),\n      Array.from(newNodeInvalidDependencies),\n    );\n\n    // Remove node from the inverseDependencies of removed invalidDeps\n    for (const removedInvalidDependency of removedNodeInvalidDependencies) {\n      this.#invalidDependenciesInverse\n        .get(removedInvalidDependency)\n        ?.delete(node);\n    }\n    // Now set the new deps and invalidDeps\n    this.#dependencies.set(node, validDependencies);\n    this.#invalidDependencies.set(node, invalidDependencies);\n  };\n\n  private removeDependency = (node: string) => {\n    let didUpdateDependencies = false;\n    const directDependenciesOfNode = this.getDirectDependencies(node);\n    for (const directDependency of directDependenciesOfNode) {\n      this.#dependenciesInverse.get(directDependency)?.delete(node);\n      didUpdateDependencies = true;\n    }\n    const nodeExistedInDependencies = this.#dependencies.delete(node);\n    if (nodeExistedInDependencies) {\n      didUpdateDependencies = true;\n    }\n    this.#invalidDependencies.delete(node);\n    return didUpdateDependencies;\n  };\n\n  /**\n   * Adds new nodes to the graph. Should be called when a new node is added to the graph.\n   * Iterates over the nodes and checks in the invalid dependency map, to see if it was used earlier.\n   * If it was used earlier, it is added to the valid dependencies and removed from the invalid dependencies.\n   * @param nodes\n   */\n\n  addNodes = (nodes: Record<string, true>, strict = true) => {\n    const nodesToAdd = strict\n      ? Object.keys(nodes)\n      : sort(Object.keys(nodes)).desc((node) => node.split(\".\").length);\n\n    let didUpdateGraph = false;\n    for (const newNode of nodesToAdd) {\n      if (this.#nodes.has(newNode)) continue;\n      // New node introduced to the graph.\n      this.#nodes.set(newNode, true);\n      // Check the paths that consumed this node before it was introduced.\n      const nodesThatAlreadyDependedOnThis =\n        this.#invalidDependenciesInverse.get(newNode) || new Set<string>();\n      if (!strict) {\n        // In non-strict mode, when the newly added path is a parent of an invalid node,\n        // all paths depending on the invalid node should be added as paths depending on new path\n        // Example => if Button1.text depends on Api1.data.invalidNode(which doesn't exist), if Api1.data is newly added,\n        // then Button1.text should be added to paths that depend on Api1.data\n\n        for (const [invalidNode, dependants] of this\n          .#invalidDependenciesInverse) {\n          if (\n            !nodes.hasOwnProperty(invalidNode) &&\n            isChildPropertyPath(newNode, invalidNode, true)\n          ) {\n            dependants.forEach((dependant) => {\n              nodesThatAlreadyDependedOnThis.add(dependant);\n              this.#invalidDependencies.get(dependant)?.delete(invalidNode);\n            });\n            this.#invalidDependenciesInverse.delete(invalidNode);\n          }\n        }\n      }\n      for (const iNode of nodesThatAlreadyDependedOnThis) {\n        // since the invalid node is now valid, add it to the valid dependencies.\n        this.#dependencies.get(iNode)?.add(newNode);\n        this.#invalidDependencies.get(iNode)?.delete(newNode);\n        didUpdateGraph = true;\n        if (this.#dependenciesInverse.has(newNode)) {\n          this.#dependenciesInverse.get(newNode)?.add(iNode);\n        } else {\n          this.#dependenciesInverse.set(newNode, new Set([iNode]));\n        }\n      }\n      this.#invalidDependenciesInverse.delete(newNode);\n    }\n    return didUpdateGraph;\n  };\n\n  removeNodes = (nodes: Record<string, true>) => {\n    let didUpdateDependencies = false;\n    for (const node of Object.keys(nodes)) {\n      if (!this.#nodes.has(node)) continue;\n      // Remove node from the graph.\n      this.#nodes.delete(node);\n      // Check the paths that consumed this node before it was removed.\n      const nodesThatAlreadyDependedOnThis =\n        this.#dependenciesInverse.get(node) || [];\n      for (const iNode of nodesThatAlreadyDependedOnThis) {\n        // since the valid node is now invalid, add it to the invalid dependencies.\n        this.#invalidDependencies.get(iNode)?.add(node);\n        this.#dependencies.get(iNode)?.delete(node);\n        didUpdateDependencies = true;\n        if (!this.#nodes.has(iNode)) continue;\n        if (this.#invalidDependenciesInverse.has(node)) {\n          this.#invalidDependenciesInverse.get(node)?.add(iNode);\n        } else {\n          this.#invalidDependenciesInverse.set(node, new Set([iNode]));\n        }\n      }\n      this.#dependenciesInverse.delete(node);\n      const nodeExistedInDependencies = this.removeDependency(node);\n      if (nodeExistedInDependencies) didUpdateDependencies = true;\n    }\n    return didUpdateDependencies;\n  };\n\n  isRelated = (source: string, targets: string[]) => {\n    if (targets.includes(source)) return true;\n    const visited = new Set();\n    const queue = [source];\n    while (queue.length) {\n      const node = queue.shift() as string;\n      if (visited.has(node)) continue;\n      visited.add(node);\n      if (targets.includes(node)) return true;\n      const nodes = this.#dependencies.get(node) || [];\n      for (const n of nodes) {\n        queue.push(n);\n      }\n    }\n    return false;\n  };\n\n  getDependents(node: string) {\n    const nodes = this.#dependenciesInverse.get(node);\n    return Array.from(nodes || []);\n  }\n  getDirectDependencies(node: string) {\n    const nodes = this.#dependencies.get(node);\n    return Array.from(nodes || []);\n  }\n\n  getAllReachableNodes(source: string, targets: string[]) {\n    const reachableNodes: string[] = [];\n    if (targets.includes(source)) reachableNodes.push(source);\n    const visited = new Set();\n    const queue = [source];\n    while (queue.length) {\n      const node = queue.shift() as string;\n      if (visited.has(node)) continue;\n      visited.add(node);\n      if (targets.includes(node)) reachableNodes.push(node);\n      const nodes = this.#dependencies.get(node) || [];\n      for (const n of nodes) {\n        queue.push(n);\n      }\n    }\n\n    return reachableNodes;\n  }\n  get rawDependencies() {\n    return this.#dependencies;\n  }\n}\n","import type { Diff } from \"deep-diff\";\nimport { get, isArray, isEmpty, set } from \"lodash\";\nexport const UPDATES = \"propertyUpdates\";\nexport const REPLAY_DELAY = 300;\nexport const REPLAY_FOCUS_DELAY = 100;\nexport const TOASTS = \"toasts\";\nexport const FOCUSES = \"needsFocus\";\nexport const WIDGETS = \"widgets\";\n\n/**\n * checks the existing value and sets he propertyUpdate if required\n *\n * @param replay\n * @param path\n * @param value\n * @returns\n */\nexport function setPropertyUpdate(\n  replay: any,\n  path: string[],\n  value: string[],\n) {\n  const existingPathValue = get(replay, path);\n\n  if (!existingPathValue || existingPathValue.length > 2) {\n    set(replay, path, value);\n    set(replay, UPDATES, true);\n  }\n}\n\n/**\n * pushes value to array element in array of objects\n *\n * @param obj\n * @param key\n * @param value\n * @returns\n */\nexport function addToArray(obj: any, key: string, value: any) {\n  if (!obj) return;\n\n  if (obj[key] && Array.isArray(obj[key])) {\n    obj[key].push(value);\n  } else {\n    obj[key] = [value];\n  }\n}\n\n/**\n * creates paths changed from diffs  array\n *\n * @param diffs\n * @returns\n */\nexport function getPathsFromDiff(diffs: Array<Diff<any, any>>) {\n  const paths = [];\n\n  for (const diff of diffs) {\n    if (!diff.path || !Array.isArray(diff.path)) continue;\n    paths.push(diff.path.join(\".\"));\n  }\n\n  return paths;\n}\n\n/**\n * creates paths changed from diffs  array\n *\n * @param path\n * @returns\n */\nexport function pathArrayToString(path?: string[]) {\n  let stringPath = \"\";\n  if (!path || path.length === 0) return stringPath;\n  stringPath = path[0];\n  for (let i = 1; i < path.length; i++) {\n    stringPath += isNaN(parseInt(path[i])) ? `.${path[i]}` : `[${path[i]}]`;\n  }\n  return stringPath;\n}\n\n/**\n * Retrieves field config and parent section using the config property\n *\n * @param config\n * @param field\n * @param parentSection\n * @returns\n */\nexport function findFieldInfo(\n  config: Array<any>,\n  field: string,\n  parentSection = \"\",\n) {\n  let result = {};\n  if (!config || !isArray(config)) return result;\n  for (const conf of config) {\n    if (conf.configProperty === field) {\n      result = { conf, parentSection };\n      break;\n    } else if (conf.children) {\n      parentSection = conf.sectionName || parentSection;\n      result = findFieldInfo(conf.children, field, parentSection);\n      if (!isEmpty(result)) break;\n    }\n  }\n  return result;\n}\n","import _, { get, isString } from \"lodash\";\nimport { DATA_BIND_REGEX } from \"constants/BindingsConstants\";\nimport type { Action } from \"entities/Action\";\nimport type { WidgetProps } from \"widgets/BaseWidget\";\nimport type { Severity } from \"entities/AppsmithConsole\";\nimport {\n  getEntityNameAndPropertyPath,\n  isAction,\n  isJSAction,\n  isTrueObject,\n  isWidget,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport type { DataTreeEntityConfig } from \"@appsmith/entities/DataTree/types\";\nimport type { DataTreeEntity } from \"entities/DataTree/dataTreeTypes\";\nimport { getType, Types } from \"./TypeHelpers\";\nimport { ViewTypes } from \"components/formControls/utils\";\n\nexport type DependencyMap = Record<string, Array<string>>;\nexport type FormEditorConfigs = Record<string, any[]>;\nexport type FormSettingsConfigs = Record<string, any[]>;\nexport type FormDependencyConfigs = Record<string, DependencyMap>;\nexport type FormDatasourceButtonConfigs = Record<string, string[]>;\n\nfunction hasNonStringSemicolons(stringifiedJS: string) {\n  // This regex pattern matches semicolons that are not inside single or double quotes\n  const regex = /;(?=(?:[^']*'[^']*')*[^']*$)(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/g;\n  return regex.test(stringifiedJS);\n}\n\n// referencing DATA_BIND_REGEX fails for the value \"{{Table1.tableData[Table1.selectedRowIndex]}}\" if you run it multiple times and don't recreate\nexport const isDynamicValue = (value: string): boolean =>\n  DATA_BIND_REGEX.test(value);\n\n//{{}}{{}}}\nexport function getDynamicStringSegments(dynamicString: string): string[] {\n  let stringSegments = [];\n  const indexOfDoubleParanStart = dynamicString.indexOf(\"{{\");\n  if (indexOfDoubleParanStart === -1) {\n    return [dynamicString];\n  }\n  //{{}}{{}}}\n  const firstString = dynamicString.substring(0, indexOfDoubleParanStart);\n  firstString && stringSegments.push(firstString);\n  let rest = dynamicString.substring(\n    indexOfDoubleParanStart,\n    dynamicString.length,\n  );\n  //{{}}{{}}}\n  let sum = 0;\n  for (let i = 0; i <= rest.length - 1; i++) {\n    const char = rest[i];\n    const prevChar = rest[i - 1];\n\n    if (char === \"{\") {\n      sum++;\n    } else if (char === \"}\") {\n      sum--;\n      if (prevChar === \"}\" && sum === 0) {\n        stringSegments.push(rest.substring(0, i + 1));\n        rest = rest.substring(i + 1, rest.length);\n        if (rest) {\n          stringSegments = stringSegments.concat(\n            getDynamicStringSegments(rest),\n          );\n          break;\n        }\n      }\n    }\n  }\n  if (sum !== 0 && dynamicString !== \"\") {\n    return [dynamicString];\n  }\n  return stringSegments;\n}\n\n//{{}}{{}}}\nexport const getDynamicBindings = (\n  dynamicString: string,\n  entity?: DataTreeEntity,\n): { stringSegments: string[]; jsSnippets: string[] } => {\n  // Protect against bad string parse\n  if (!dynamicString || !_.isString(dynamicString)) {\n    return { stringSegments: [], jsSnippets: [] };\n  }\n  const sanitisedString = dynamicString.trim();\n  let stringSegments, paths: any;\n  if (entity && isJSAction(entity)) {\n    stringSegments = [sanitisedString];\n    paths = [sanitisedString];\n  } else {\n    // Get the {{binding}} bound values\n    stringSegments = getDynamicStringSegments(sanitisedString);\n    // Get the \"binding\" path values\n    paths = stringSegments.map((segment) => {\n      const length = segment.length;\n      const matches = isDynamicValue(segment);\n      if (matches) {\n        return segment.substring(2, length - 2);\n      }\n      return \"\";\n    });\n  }\n  return { stringSegments: stringSegments, jsSnippets: paths };\n};\n\nexport const combineDynamicBindings = (\n  jsSnippets: string[],\n  stringSegments: string[],\n) => {\n  return stringSegments\n    .map((segment, index) => {\n      if (jsSnippets[index] && jsSnippets[index].length > 0) {\n        return addOperatorPrecedenceIfNeeded(jsSnippets[index]);\n      } else {\n        return JSON.stringify(segment);\n      }\n    })\n    .join(\" + \");\n};\n\n/**\n * Operator precedence example: JSCode =  Color is  {{ currentItem.color || \"Blue\"}}  PS: currentItem.color is undefined\n *  Previously this code would be transformed to  (() =>  \"Color is\" + currentItem.color || \"Blue\")() which evaluates to \"Color is undefined\" rather than \"Color is Blue\"\n * with precedence we'd have (() =>  \"Color is\" + (currentItem.color || \"Blue\"))() which evaluates to Color is Blue,  because the parentheses change the order of evaluation, giving  higher precedence in this case to (currentItem.color || \"Blue\").\n */\nfunction addOperatorPrecedenceIfNeeded(stringifiedJS: string) {\n  /**\n   *  parenthesis doesn't work with ; i.e Color is  {{ currentItem.color || \"Blue\" ;}} cant be (() =>  \"Color is\" + (currentItem.color || \"Blue\";))()\n   */\n  if (!hasNonStringSemicolons(stringifiedJS)) {\n    return `(${stringifiedJS})`;\n  }\n\n  return stringifiedJS;\n}\n\nexport enum EvalErrorTypes {\n  CYCLICAL_DEPENDENCY_ERROR = \"CYCLICAL_DEPENDENCY_ERROR\",\n  EVAL_PROPERTY_ERROR = \"EVAL_PROPERTY_ERROR\",\n  EVAL_TREE_ERROR = \"EVAL_TREE_ERROR\",\n  UNKNOWN_ERROR = \"UNKNOWN_ERROR\",\n  BAD_UNEVAL_TREE_ERROR = \"BAD_UNEVAL_TREE_ERROR\",\n  PARSE_JS_ERROR = \"PARSE_JS_ERROR\",\n  EXTRACT_DEPENDENCY_ERROR = \"EXTRACT_DEPENDENCY_ERROR\",\n  CLONE_ERROR = \"CLONE_ERROR\",\n  SERIALIZATION_ERROR = \"SERIALIZATION_ERROR\",\n}\n\nexport interface EvalError {\n  type: EvalErrorTypes;\n  message: string;\n  context?: Record<string, any>;\n}\n\nexport interface DynamicPath {\n  key: string;\n  value?: string;\n}\n\nexport interface WidgetDynamicPathListProps {\n  dynamicBindingPathList?: DynamicPath[];\n  dynamicTriggerPathList?: DynamicPath[];\n  dynamicPropertyPathList?: DynamicPath[];\n}\n\nexport interface EntityWithBindings {\n  dynamicBindingPathList?: DynamicPath[];\n}\n\nexport const getEntityDynamicBindingPathList = (\n  entity: EntityWithBindings,\n): DynamicPath[] => {\n  if (\n    entity &&\n    entity.dynamicBindingPathList &&\n    Array.isArray(entity.dynamicBindingPathList)\n  ) {\n    return [...entity.dynamicBindingPathList];\n  }\n  return [];\n};\n\nexport const isPathADynamicBinding = (\n  entity: EntityWithBindings,\n  path: string,\n): boolean => {\n  if (\n    entity &&\n    entity.dynamicBindingPathList &&\n    Array.isArray(entity.dynamicBindingPathList)\n  ) {\n    return _.find(entity.dynamicBindingPathList, { key: path }) !== undefined;\n  }\n  return false;\n};\n/**\n * Get property path from full property path\n * Input: \"Table1.meta.searchText\" => Output: \"meta.searchText\"\n * @param {string} fullPropertyPath\n * @return {*}\n */\nexport const getPropertyPath = (fullPropertyPath: string) => {\n  return fullPropertyPath.substring(fullPropertyPath.indexOf(\".\") + 1);\n};\n\nexport const getWidgetDynamicTriggerPathList = (\n  widget: WidgetProps,\n): DynamicPath[] => {\n  if (\n    widget &&\n    widget.dynamicTriggerPathList &&\n    Array.isArray(widget.dynamicTriggerPathList)\n  ) {\n    return [...widget.dynamicTriggerPathList];\n  }\n  return [];\n};\n\nexport const isPathDynamicTrigger = (widget: any, path: string): boolean => {\n  if (\n    widget &&\n    widget.dynamicTriggerPathList &&\n    Array.isArray(widget.dynamicTriggerPathList)\n  ) {\n    return _.find(widget.dynamicTriggerPathList, { key: path }) !== undefined;\n  }\n  return false;\n};\n\nexport const getWidgetDynamicPropertyPathList = (\n  widget: WidgetProps,\n): DynamicPath[] => {\n  if (\n    widget &&\n    widget.dynamicPropertyPathList &&\n    Array.isArray(widget.dynamicPropertyPathList)\n  ) {\n    return [...widget.dynamicPropertyPathList];\n  }\n  return [];\n};\n\nexport const isPathDynamicProperty = (\n  widget: WidgetProps,\n  path: string,\n): boolean => {\n  if (\n    widget &&\n    widget.dynamicPropertyPathList &&\n    Array.isArray(widget.dynamicPropertyPathList)\n  ) {\n    return _.find(widget.dynamicPropertyPathList, { key: path }) !== undefined;\n  }\n  return false;\n};\n\nexport const THEME_BINDING_REGEX = /{{.*appsmith\\.theme\\..*}}/;\n\nexport const isThemeBoundProperty = (\n  widget: WidgetProps,\n  path: string,\n): boolean => {\n  return widget && widget[path] && THEME_BINDING_REGEX.test(widget[path]);\n};\n\nexport const unsafeFunctionForEval = [\n  \"XMLHttpRequest\",\n  \"setImmediate\",\n  \"Navigator\",\n];\n\nexport const isChildPropertyPath = (\n  parentPropertyPath: string,\n  childPropertyPath: string,\n  // In non-strict mode, an exact match is treated as a child path\n  // Eg. \"Api1\" is a child property path of \"Api1\"\n  strict = false,\n): boolean => {\n  return (\n    (!strict && parentPropertyPath === childPropertyPath) ||\n    childPropertyPath.startsWith(`${parentPropertyPath}.`) ||\n    childPropertyPath.startsWith(`${parentPropertyPath}[`)\n  );\n};\n\n/**\n * Paths set via evaluator on entities\n * During evaluation, the evaluator will set various data points\n * on the entity objects to describe their state while evaluating.\n * This information can be found on the following paths\n * These paths are meant to be objects with\n * information about the properties in\n * a single place\n *\n * Stored in a flattened object like\n * widget.__evaluation__.errors.primaryColumns.customColumn.computedValue = [...]\n **/\nexport const EVALUATION_PATH = \"__evaluation__\";\nexport const EVAL_ERROR_PATH = `${EVALUATION_PATH}.errors`;\nexport const EVAL_VALUE_PATH = `${EVALUATION_PATH}.evaluatedValues`;\n\n/**\n * non-populated object\n {\n   __evaluation__:{\n     evaluatedValues:{\n       primaryColumns: [...],\n       primaryColumns.status: {...},\n       primaryColumns.action: {...}\n     }\n   }\n }\n\n * Populated Object\n {\n   __evaluation__:{\n     evaluatedValues:{\n       primaryColumns: {\n         status: [...],\n         action:[...]\n        }\n     }\n   }\n }\n\n */\nconst getNestedEvalPath = (\n  fullPropertyPath: string,\n  pathType: string,\n  fullPath = true,\n  isPopulated = false,\n) => {\n  const { entityName, propertyPath } =\n    getEntityNameAndPropertyPath(fullPropertyPath);\n  const nestedPath = isPopulated\n    ? `${pathType}.${propertyPath}`\n    : `${pathType}.['${propertyPath}']`;\n\n  if (fullPath) {\n    return `${entityName}.${nestedPath}`;\n  }\n  return nestedPath;\n};\n\nexport const getEvalErrorPath = (\n  fullPropertyPath: string,\n  options = {\n    fullPath: true,\n    isPopulated: false,\n  },\n) => {\n  return getNestedEvalPath(\n    fullPropertyPath,\n    EVAL_ERROR_PATH,\n    options.fullPath,\n    options.isPopulated,\n  );\n};\n\nexport const getEvalValuePath = (\n  fullPropertyPath: string,\n  options = {\n    fullPath: true,\n    isPopulated: false,\n  },\n) => {\n  return getNestedEvalPath(\n    fullPropertyPath,\n    EVAL_VALUE_PATH,\n    options.fullPath,\n    options.isPopulated,\n  );\n};\n\nexport enum PropertyEvaluationErrorType {\n  VALIDATION = \"VALIDATION\",\n  PARSE = \"PARSE\",\n  LINT = \"LINT\",\n}\n\nexport enum PropertyEvaluationErrorCategory {\n  ACTION_INVOCATION_IN_DATA_FIELD = \"ACTION_INVOCATION_IN_DATA_FIELD\",\n}\nexport interface PropertyEvaluationErrorKind {\n  category: PropertyEvaluationErrorCategory;\n  rootcause: string;\n}\n\nexport interface DataTreeError {\n  raw: string;\n  errorMessage: Error;\n  severity: Severity.WARNING | Severity.ERROR;\n}\n\nexport interface EvaluationError extends DataTreeError {\n  errorType:\n    | PropertyEvaluationErrorType.PARSE\n    | PropertyEvaluationErrorType.VALIDATION;\n  originalBinding?: string;\n  kind?: Partial<PropertyEvaluationErrorKind>;\n}\n\nexport interface LintError extends DataTreeError {\n  errorType: PropertyEvaluationErrorType.LINT;\n  errorSegment: string;\n  originalBinding: string;\n  variables: (string | undefined | null)[];\n  code: string;\n  line: number;\n  ch: number;\n  originalPath?: string;\n}\n\nexport interface DataTreeEvaluationProps {\n  __evaluation__?: {\n    errors: Record<string, EvaluationError[]>;\n    evaluatedValues?: Record<string, unknown>;\n  };\n}\n\nexport const PropertyEvalErrorTypeDebugMessage: Record<\n  PropertyEvaluationErrorType,\n  (propertyPath: string) => string\n> = {\n  [PropertyEvaluationErrorType.VALIDATION]: (propertyPath: string) =>\n    `The value at ${propertyPath} is invalid`,\n  [PropertyEvaluationErrorType.PARSE]: () => `Could not parse the binding`,\n  [PropertyEvaluationErrorType.LINT]: () => `Errors found while evaluating`,\n};\n\n// this variable temporarily holds dynamic paths generated by the recursive function (getDynamicValuePaths - Line 468).\nlet temporaryDynamicPathStore: DynamicPath[] = [];\n\n// recursive function to get full key path of any object that has dynamic bindings.\nconst getDynamicValuePaths = (val: any, parentPath: string) => {\n  if (isString(val) && isDynamicValue(val)) {\n    return temporaryDynamicPathStore.push({ key: `${parentPath}` });\n  }\n\n  if (Array.isArray(val)) {\n    val.forEach((obj, index) => {\n      return getDynamicValuePaths(obj, `${parentPath}[${index}]`);\n    });\n  }\n\n  if (isTrueObject(val)) {\n    Object.entries(val).forEach(([key, value]) => {\n      getDynamicValuePaths(value, `${parentPath}.${key}`);\n    });\n  }\n};\n\nexport function getDynamicBindingsChangesSaga(\n  action: Action,\n  value: unknown,\n  field: string,\n  formData?: any,\n) {\n  const bindingField = field.replace(\"actionConfiguration.\", \"\");\n  // we listen to any viewType changes.\n  const viewType = field.endsWith(\".viewType\");\n  let dynamicBindings: DynamicPath[] = action.dynamicBindingPathList\n    ? [...action.dynamicBindingPathList]\n    : [];\n\n  if (field.endsWith(\".jsonData\") || field.endsWith(\".componentData\")) {\n    return dynamicBindings;\n  }\n\n  if (\n    action.datasource &&\n    (\"datasourceConfiguration\" in action.datasource ||\n      \"datasourceConfiguration\" in (formData?.datasource || {})) &&\n    field === \"datasource\"\n  ) {\n    // only the datasource.datasourceConfiguration.url can be a dynamic field\n    dynamicBindings = dynamicBindings.filter(\n      (binding) => binding.key !== \"datasourceUrl\" && binding.key !== \"path\",\n    );\n    // ideally as we check for the datasource url, we should check for the path field as well.\n    const datasourceUrl = action.datasource?.datasourceConfiguration?.url || \"\";\n    const datasourcePathField = action.actionConfiguration?.path;\n    const datasourceFormPathField = formData?.actionConfiguration?.path;\n\n    isDynamicValue(datasourceUrl) &&\n      dynamicBindings.push({ key: \"datasourceUrl\" });\n\n    // as we check the datasource url for bindings, check the path too.\n    isDynamicValue(datasourcePathField || datasourceFormPathField) &&\n      dynamicBindings.push({ key: \"path\" });\n    return dynamicBindings;\n  }\n\n  // When a key-value pair is added or deleted from a fieldArray\n  // Value is an Array representing the new fieldArray.\n\n  if (Array.isArray(value)) {\n    // first we clear the dynamic bindings of any paths that is a child of the current path.\n    dynamicBindings = dynamicBindings.filter(\n      (binding) => !isChildPropertyPath(bindingField, binding.key),\n    );\n\n    // then we recursively go through the value and find paths with dynamic bindings\n    temporaryDynamicPathStore = [];\n    if (!!value) {\n      getDynamicValuePaths(value, bindingField);\n    }\n    if (!!temporaryDynamicPathStore && temporaryDynamicPathStore.length > 0) {\n      dynamicBindings = [...dynamicBindings, ...temporaryDynamicPathStore];\n    }\n  } else if (getType(value) === Types.OBJECT) {\n    dynamicBindings = dynamicBindings.filter((dynamicPath) => {\n      if (isChildPropertyPath(bindingField, dynamicPath.key)) {\n        const childPropertyValue = _.get(value, dynamicPath.key);\n        return isDynamicValue(childPropertyValue);\n      }\n      return !!dynamicPath;\n    });\n  } else if (typeof value === \"string\") {\n    const fieldExists = _.some(dynamicBindings, { key: bindingField });\n\n    const isDynamic = isDynamicValue(value);\n\n    if (!isDynamic && fieldExists) {\n      dynamicBindings = dynamicBindings.filter((d) => d.key !== bindingField);\n    }\n    if (isDynamic && !fieldExists) {\n      dynamicBindings = [...dynamicBindings, { key: bindingField }];\n    }\n  }\n\n  // the reason this is done is to change the dynamicBindingsPathlist of a component when a user toggles the form control\n  // from component mode to json mode and vice versa.\n\n  // when in json mode, we want to get rid of all the existing componentData paths and replace it with a single path for the json mode\n  // for example: [{key: 'formData.sortBy.data[0].column'}, {key: 'formData.sortBy.data[1].column'}] will be replaced with just this [{key: 'formData.sortBy.data'}]\n\n  // when in component mode, we want to first remove all the paths for json mode and\n  //  get back all the paths in the componentData that have dynamic bindings and add them to the the dynamic bindings pathlist.\n  // for example: [{key: 'formData.sortBy.data'}] will be replaced with this [{key: 'formData.sortBy.data[0].column'}, {key: 'formData.sortBy.data[1].column'}]\n\n  // if the currently changing field is a component's view type\n  if (!!viewType) {\n    const dataBindingField = bindingField.replace(\".viewType\", \".data\");\n    // then we filter the field of any paths that includes the binding fields\n    dynamicBindings = dynamicBindings.filter(\n      (dynamicPath) => !dynamicPath?.key?.includes(dataBindingField),\n    );\n\n    // if the value of the viewType is of json and, we push in the field\n    if (value === ViewTypes.JSON) {\n      const jsonFieldPath = field.replace(\".viewType\", \".jsonData\");\n      const jsonFieldValue = get(action, jsonFieldPath);\n      if (isDynamicValue(jsonFieldValue)) {\n        dynamicBindings.push({ key: dataBindingField });\n      }\n    } else if (value === ViewTypes.COMPONENT) {\n      const componentFieldPath = field.replace(\".viewType\", \".componentData\");\n      const componentFieldValue = get(action, componentFieldPath);\n      temporaryDynamicPathStore = [];\n\n      if (!!componentFieldValue) {\n        getDynamicValuePaths(componentFieldValue, dataBindingField);\n      }\n      if (!!temporaryDynamicPathStore && temporaryDynamicPathStore.length > 0) {\n        dynamicBindings = [...dynamicBindings, ...temporaryDynamicPathStore];\n      }\n    }\n  }\n  return dynamicBindings;\n}\n\nexport function getEntityType(entity: DataTreeEntity) {\n  return \"ENTITY_TYPE\" in entity && entity.ENTITY_TYPE;\n}\n\nexport function getEntityId(entity: DataTreeEntity) {\n  if (isAction(entity)) return entity.actionId;\n  if (isWidget(entity)) return entity.widgetId;\n  if (isJSAction(entity)) return entity.actionId;\n}\n\nexport function getEntityName(\n  entity: DataTreeEntity,\n  entityConfig: DataTreeEntityConfig,\n) {\n  if (isAction(entity)) return entityConfig.name;\n  if (isWidget(entity)) return entity.widgetName;\n  if (isJSAction(entity)) return entityConfig.name;\n}\n","/**\n * This file contains the utility function to send and receive messages from the worker.\n * TRequestMessage<TBody> is used to send a request to/from the worker.\n * TResponseMessage<TBody> is used to send a response to/from the worker.\n * TDefaultMessage<TBody> is used to send a message to/from worker. Does not expect a response.\n */\n\nexport enum MessageType {\n  REQUEST = \"REQUEST\",\n  RESPONSE = \"RESPONSE\",\n  DEFAULT = \"DEFAULT\",\n}\n\ninterface TRequestMessage<TBody> {\n  body: TBody;\n  messageId: string;\n  messageType: MessageType.REQUEST;\n}\n\ninterface TResponseMessage<TBody> {\n  body: TBody;\n  messageId: string;\n  messageType: MessageType.RESPONSE;\n}\n\nexport interface TDefaultMessage<TBody> {\n  messageId?: string;\n  body: TBody;\n  messageType: MessageType.DEFAULT;\n}\n\nexport type TMessage<TBody> =\n  | TRequestMessage<TBody>\n  | TResponseMessage<TBody>\n  | TDefaultMessage<TBody>;\n\n/** Avoid from using postMessage directly.\n * This function should be used to send messages to the worker and back.\n * Purpose: To have some standardization in the messages that are transferred.\n * TODO: Add support for window postMessage options\n * TODO: Add support for transferable objects.\n */\nexport function sendMessage(\n  this: Worker | typeof globalThis,\n  message: TMessage<unknown>,\n) {\n  this.postMessage(message);\n}\n","import { getEntityNameAndPropertyPath } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport { klona } from \"klona/full\";\nimport { get, set } from \"lodash\";\nimport TriggerEmitter, { BatchKey } from \"../fns/utils/TriggerEmitter\";\nimport ExecutionMetaData from \"../fns/utils/ExecutionMetaData\";\nimport type { JSActionEntity } from \"@appsmith/entities/DataTree/types\";\n\nexport enum PatchType {\n  \"SET\" = \"SET\",\n  \"GET\" = \"GET\",\n}\n\nexport interface Patch {\n  path: string;\n  method: PatchType;\n  value?: unknown;\n}\n\nexport type VariableState = Record<string, Record<string, any>>;\n\ntype CurrentJSCollectionState = Record<string, any>;\ntype ResolvedFunctions = Record<string, any>;\n\nexport default class JSObjectCollection {\n  private static resolvedFunctions: ResolvedFunctions = {};\n  private static unEvalState: CurrentJSCollectionState = {};\n  private static variableState: VariableState = {};\n  private static prevUnEvalState: CurrentJSCollectionState = {};\n\n  static setResolvedFunctions(resolvedFunctions: ResolvedFunctions) {\n    this.resolvedFunctions = resolvedFunctions;\n  }\n\n  static updateResolvedFunctions(path: string, value: any) {\n    set(this.resolvedFunctions, path, value);\n  }\n\n  static deleteResolvedFunction(entityName: string) {\n    delete this.resolvedFunctions[entityName];\n  }\n\n  static getResolvedFunctions() {\n    return this.resolvedFunctions;\n  }\n\n  static updateUnEvalState(path: string, value: any) {\n    set(this.unEvalState, path, value);\n  }\n\n  static deleteUnEvalState(entityName: string) {\n    delete this.unEvalState[entityName];\n  }\n\n  static getUnEvalState() {\n    return this.unEvalState;\n  }\n\n  static setPrevUnEvalState({\n    fullPath,\n    unEvalValue,\n  }: {\n    fullPath: string;\n    unEvalValue: unknown;\n  }) {\n    set(this.prevUnEvalState, fullPath, unEvalValue);\n  }\n\n  static getPrevUnEvalState({ fullPath }: { fullPath: string }) {\n    return get(this.prevUnEvalState, fullPath);\n  }\n\n  static setVariableValue(variableValue: unknown, fullPropertyPath: string) {\n    const { entityName, propertyPath } =\n      getEntityNameAndPropertyPath(fullPropertyPath);\n    const newVarState = { ...this.variableState[entityName] };\n    newVarState[propertyPath] = variableValue;\n    this.variableState[entityName] = newVarState;\n    JSObjectCollection.clearCachedVariablesForEvaluationContext(entityName);\n  }\n\n  static getVariableState(\n    JSObjectName?: string,\n  ): VariableState | Record<string, any> {\n    if (!JSObjectName || !this.variableState) return klona(this.variableState);\n    return this.variableState[JSObjectName];\n  }\n\n  static removeVariable(fullPath: string) {\n    const { entityName, propertyPath } = getEntityNameAndPropertyPath(fullPath);\n    const jsObject = this.variableState[entityName];\n    if (jsObject && jsObject[propertyPath] !== undefined)\n      delete jsObject[propertyPath];\n  }\n\n  /**Map<JSObjectName, Map<variableName, variableValue> */\n  static cachedJSVariablesByEntityName: Record<string, JSActionEntity> = {};\n\n  /**Computes  Map<JSObjectName, Map<variableName, variableValue> with getters & setters to track JS mutations\n   * We cache and reuse this map. We recreate only when the JSObject's content changes or when any of the variables\n   * gets evaluated\n   */\n  static getVariablesForEvaluationContext(entityName: string) {\n    if (JSObjectCollection.cachedJSVariablesByEntityName[entityName])\n      return JSObjectCollection.cachedJSVariablesByEntityName[entityName];\n    const varState = JSObjectCollection.getVariableState(entityName);\n    const variables = Object.entries(varState);\n    const newJSObject = {} as JSActionEntity;\n\n    for (const [varName, varValue] of variables) {\n      let variable = varValue;\n      Object.defineProperty(newJSObject, varName, {\n        enumerable: true,\n        configurable: true,\n        get() {\n          TriggerEmitter.emit(BatchKey.process_js_variable_updates, {\n            path: `${entityName}.${varName}`,\n            method: PatchType.GET,\n          });\n          return variable;\n        },\n        set(value) {\n          TriggerEmitter.emit(BatchKey.process_js_variable_updates, {\n            path: `${entityName}.${varName}`,\n            method: PatchType.SET,\n            value,\n          });\n          variable = value;\n        },\n      });\n    }\n    ExecutionMetaData.setExecutionMetaData({\n      enableJSVarUpdateTracking: true,\n    });\n    JSObjectCollection.cachedJSVariablesByEntityName[entityName] = newJSObject;\n    return JSObjectCollection.cachedJSVariablesByEntityName[entityName];\n  }\n\n  static clearCachedVariablesForEvaluationContext(entityName: string) {\n    delete JSObjectCollection.cachedJSVariablesByEntityName[entityName];\n  }\n\n  static clear() {\n    this.variableState = {};\n    this.unEvalState = {};\n    this.prevUnEvalState = {};\n    this.resolvedFunctions = {};\n  }\n}\n","import { get, isEmpty, isUndefined, set } from \"lodash\";\nimport type { JSActionEntity } from \"@appsmith/entities/DataTree/types\";\nimport type { ConfigTree, DataTree } from \"entities/DataTree/dataTreeTypes\";\nimport { EvalErrorTypes, getEvalValuePath } from \"utils/DynamicBindingUtils\";\nimport type { JSUpdate, ParsedJSSubAction } from \"utils/JSPaneUtils\";\nimport { parseJSObject, isJSFunctionProperty } from \"@shared/ast\";\nimport type DataTreeEvaluator from \"workers/common/DataTreeEvaluator\";\nimport evaluateSync from \"workers/Evaluation/evaluate\";\nimport type { DataTreeDiff } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport {\n  DataTreeDiffEvent,\n  getEntityNameAndPropertyPath,\n  isJSAction,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport {\n  removeFunctionsAndVariableJSCollection,\n  updateJSCollectionInUnEvalTree,\n} from \"workers/Evaluation/JSObject/utils\";\nimport { dataTreeEvaluator } from \"../handlers/evalTree\";\nimport JSObjectCollection from \"./Collection\";\nimport ExecutionMetaData from \"../fns/utils/ExecutionMetaData\";\nimport { jsPropertiesState } from \"./jsPropertiesState\";\nimport { getFixedTimeDifference } from \"workers/common/DataTreeEvaluator/utils\";\n\n/**\n * Here we update our unEvalTree according to the change in JSObject's body\n *\n * @param jsUpdates\n * @param localUnEvalTree\n * @returns\n */\nexport const getUpdatedLocalUnEvalTreeAfterJSUpdates = (\n  jsUpdates: Record<string, JSUpdate>,\n  localUnEvalTree: DataTree,\n  configTree: ConfigTree,\n) => {\n  if (!isEmpty(jsUpdates)) {\n    Object.entries(jsUpdates).forEach(([entityName, jsEntity]) => {\n      const entity = localUnEvalTree[entityName] as JSActionEntity;\n      const parsedBody = jsEntity.parsedBody;\n      if (isJSAction(entity)) {\n        if (!!parsedBody) {\n          //add/delete/update functions from dataTree\n          localUnEvalTree = updateJSCollectionInUnEvalTree(\n            parsedBody,\n            entity,\n            localUnEvalTree,\n            configTree,\n            entityName,\n          );\n        } else {\n          //if parse error remove functions and variables from dataTree\n          localUnEvalTree = removeFunctionsAndVariableJSCollection(\n            localUnEvalTree,\n            entity,\n            entityName,\n            configTree,\n          );\n        }\n      }\n    });\n  }\n  return localUnEvalTree;\n};\n\nexport const validJSBodyRegex = new RegExp(/^export default[\\s]*?({[\\s\\S]*?})/);\n\n/**\n * Here we parse the JSObject and then determine\n * 1. it's nature : async or sync\n * 2. Find arguments of JS Actions\n *\n * @param dataTreeEvalRef\n * @param entity\n * @param jsUpdates\n * @param unEvalDataTree\n * @param entityName\n * @returns\n */\nexport function saveResolvedFunctionsAndJSUpdates(\n  dataTreeEvalRef: DataTreeEvaluator,\n  entity: JSActionEntity,\n  jsUpdates: Record<string, JSUpdate>,\n  unEvalDataTree: DataTree,\n  entityName: string,\n) {\n  jsPropertiesState.delete(entityName);\n  const correctFormat =\n    entity.hasOwnProperty(\"body\") &&\n    !isUndefined(entity.body) &&\n    validJSBodyRegex.test(entity.body);\n  const isEmptyBody =\n    entity.hasOwnProperty(\"body\") &&\n    !isUndefined(entity.body) &&\n    entity?.body.trim() === \"\";\n\n  if (!isUndefined(entity.body) && (correctFormat || isEmptyBody)) {\n    try {\n      JSObjectCollection.deleteResolvedFunction(entityName);\n      JSObjectCollection.deleteUnEvalState(entityName);\n      JSObjectCollection.clearCachedVariablesForEvaluationContext(entityName);\n\n      const parseStartTime = performance.now();\n      const { parsedObject, success } = parseJSObject(entity.body);\n      const parseEndTime = performance.now();\n      const JSObjectASTParseTime = getFixedTimeDifference(\n        parseEndTime,\n        parseStartTime,\n      );\n      dataTreeEvalRef.logs.push({\n        JSObjectName: entityName,\n        JSObjectASTParseTime,\n      });\n      const actions: any = [];\n      const variables: any = [];\n      if (success) {\n        if (!!parsedObject) {\n          jsPropertiesState.update(entityName, parsedObject);\n          parsedObject.forEach((parsedElement) => {\n            if (isJSFunctionProperty(parsedElement)) {\n              try {\n                ExecutionMetaData.setExecutionMetaData({\n                  enableJSVarUpdateTracking: false,\n                  enableJSFnPostProcessors: false,\n                });\n                const { result } = evaluateSync(\n                  parsedElement.value,\n                  unEvalDataTree,\n                  false,\n                );\n\n                ExecutionMetaData.setExecutionMetaData({\n                  enableJSVarUpdateTracking: true,\n                  enableJSFnPostProcessors: true,\n                });\n                if (!!result) {\n                  let params: Array<{ name: string; value: unknown }> = [];\n\n                  if (parsedElement.arguments) {\n                    params = parsedElement.arguments.map(\n                      ({ defaultValue, paramName }) => ({\n                        name: paramName,\n                        value: defaultValue,\n                      }),\n                    );\n                  }\n\n                  const functionString = parsedElement.value;\n                  JSObjectCollection.updateResolvedFunctions(\n                    `${entityName}.${parsedElement.key}`,\n                    result,\n                  );\n                  JSObjectCollection.updateUnEvalState(\n                    `${entityName}.${parsedElement.key}`,\n                    functionString,\n                  );\n                  actions.push({\n                    name: parsedElement.key,\n                    body: functionString,\n                    arguments: params,\n                    parsedFunction: result,\n                  });\n                }\n              } catch {\n                // in case we need to handle error state\n              }\n            } else if (parsedElement.type !== \"literal\") {\n              // when a jsobject property is of the type \"prop1\" or 'prop1', ast outputs the\n              // key as \"\\\"prop1\\\"\" or \"\\'prop1\\'\". We need to remove the extra quotes.\n              const isStringRepresentation =\n                parsedElement.key.startsWith(\"'\") ||\n                parsedElement.key.startsWith('\"');\n              const parsedKey = isStringRepresentation\n                ? parsedElement.key.slice(1, -1)\n                : parsedElement.key;\n              variables.push({\n                name: parsedKey,\n                value: parsedElement.value,\n              });\n              JSObjectCollection.updateUnEvalState(\n                `${entityName}.${parsedElement.key}`,\n                parsedElement.value,\n              );\n            }\n          });\n          const parsedBody = {\n            body: entity.body,\n            actions: actions,\n            variables,\n          };\n          set(jsUpdates, `${entityName}`, {\n            parsedBody,\n            id: entity.actionId,\n          });\n        } else {\n          set(jsUpdates, `${entityName}`, {\n            parsedBody: undefined,\n            id: entity.actionId,\n          });\n        }\n      }\n    } catch (e) {\n      //if we need to push error as popup in case\n    }\n  } else {\n    const parsedBody = {\n      body: entity.body,\n      actions: [],\n      variables: [],\n    };\n    set(jsUpdates, `${entityName}`, {\n      parsedBody: parsedBody,\n      id: entity.actionId,\n    });\n  }\n\n  if (!correctFormat && !isUndefined(entity.body)) {\n    const errors = {\n      type: EvalErrorTypes.PARSE_JS_ERROR,\n      context: {\n        entity: entity,\n        propertyPath: entityName + \".body\",\n      },\n      message: \"Start object with export default\",\n    };\n    dataTreeEvalRef.errors.push(errors);\n  }\n\n  return jsUpdates;\n}\n\nexport function parseJSActions(\n  dataTreeEvalRef: DataTreeEvaluator,\n  unEvalDataTree: DataTree,\n  oldUnEvalTree?: DataTree,\n  differences?: DataTreeDiff[],\n) {\n  const resolvedFunctions = JSObjectCollection.getResolvedFunctions();\n  const unEvalState = JSObjectCollection.getUnEvalState();\n  let jsUpdates: Record<string, JSUpdate> = {};\n\n  if (!!differences && !!oldUnEvalTree) {\n    differences.forEach((diff) => {\n      const { entityName, propertyPath } = getEntityNameAndPropertyPath(\n        diff.payload.propertyPath,\n      );\n      const entity = unEvalDataTree[entityName];\n\n      if (!isJSAction(entity)) return false;\n\n      if (diff.event === DataTreeDiffEvent.DELETE) {\n        // when JSObject is deleted, we remove it from currentJSCollectionState & resolvedFunctions\n        if (unEvalState && unEvalState[diff.payload.propertyPath]) {\n          JSObjectCollection.deleteUnEvalState(diff.payload.propertyPath);\n        }\n        if (resolvedFunctions && resolvedFunctions[diff.payload.propertyPath]) {\n          JSObjectCollection.deleteResolvedFunction(diff.payload.propertyPath);\n        }\n      }\n\n      if (\n        (diff.event === DataTreeDiffEvent.EDIT && propertyPath === \"body\") ||\n        (diff.event === DataTreeDiffEvent.NEW && propertyPath === \"\")\n      ) {\n        jsUpdates = saveResolvedFunctionsAndJSUpdates(\n          dataTreeEvalRef,\n          entity,\n          jsUpdates,\n          unEvalDataTree,\n          entityName,\n        );\n      }\n    });\n  } else {\n    Object.keys(unEvalDataTree).forEach((entityName) => {\n      const entity = unEvalDataTree[entityName];\n      if (!isJSAction(entity)) {\n        return;\n      }\n      jsUpdates = saveResolvedFunctionsAndJSUpdates(\n        dataTreeEvalRef,\n        entity,\n        jsUpdates,\n        unEvalDataTree,\n        entityName,\n      );\n    });\n  }\n\n  Object.keys(jsUpdates).forEach((entityName) => {\n    const parsedBody = jsUpdates[entityName].parsedBody;\n    if (!parsedBody) return;\n    parsedBody.actions = parsedBody.actions.map((action) => {\n      return {\n        ...action,\n        // parsedFunction - used only to determine if function is async\n        parsedFunction: undefined,\n      } as ParsedJSSubAction;\n    });\n  });\n\n  return { jsUpdates };\n}\n\nexport function getJSEntities(dataTree: DataTree) {\n  const jsCollections: Record<string, JSActionEntity> = {};\n  Object.keys(dataTree).forEach((entityName: string) => {\n    const entity = dataTree[entityName];\n    if (isJSAction(entity)) {\n      jsCollections[entityName] = entity;\n    }\n  });\n  return jsCollections;\n}\n\nexport function updateEvalTreeWithJSCollectionState(evalTree: DataTree) {\n  // loop through jsCollectionState and set all values to evalTree\n  const jsCollections = JSObjectCollection.getVariableState();\n  const jsCollectionEntries = Object.entries(jsCollections);\n  for (const [jsObjectName, variableState] of jsCollectionEntries) {\n    if (!evalTree[jsObjectName]) continue;\n    evalTree[jsObjectName] = Object.assign(\n      evalTree[jsObjectName],\n      variableState,\n    );\n  }\n}\n\nexport function updateEvalTreeValueFromContext(paths: string[][]) {\n  const currentEvalContext = self;\n\n  if (!dataTreeEvaluator) return;\n  const evalTree = dataTreeEvaluator.getEvalTree();\n\n  for (const fullPathArray of paths) {\n    const [jsObjectName, variableName] = fullPathArray;\n    const entity = evalTree[jsObjectName];\n    if (jsObjectName && variableName && isJSAction(entity)) {\n      if (!(jsObjectName in currentEvalContext)) continue;\n\n      const variableValue = get(currentEvalContext, [\n        jsObjectName,\n        variableName,\n      ]);\n      const value = variableValue;\n      JSObjectCollection.setVariableValue(\n        value,\n        `${jsObjectName}.${variableName}`,\n      );\n      /*\n      JSobject variable values are picked from evalProps until the unevalValue is not modified.\n      Hence, we need to set the value in evalProps to ensure it doesn't have stale values.\n      */\n      set(\n        dataTreeEvaluator.evalProps,\n        getEvalValuePath(`${jsObjectName}.${variableName}`, {\n          isPopulated: true,\n          fullPath: true,\n        }),\n        value,\n      );\n    }\n  }\n}\n","import type { JSPropertyPosition, TParsedJSProperty } from \"@shared/ast\";\nimport { isJSFunctionProperty } from \"@shared/ast\";\nimport { set } from \"lodash\";\n\nclass JsPropertiesState {\n  private jsPropertiesState: TJSPropertiesState = {};\n\n  delete(jsObjectName: string) {\n    delete this.jsPropertiesState[`${jsObjectName}`];\n  }\n\n  update(jsObjectName: string, properties: TParsedJSProperty[]) {\n    for (const jsObjectProperty of properties) {\n      const { key, position, rawContent, type } = jsObjectProperty;\n      if (isJSFunctionProperty(jsObjectProperty)) {\n        set(\n          this.jsPropertiesState,\n          `[${jsObjectName}.${jsObjectProperty.key}]`,\n          {\n            position: position,\n            value: rawContent,\n            isMarkedAsync: jsObjectProperty.isMarkedAsync,\n          },\n        );\n      } else if (type !== \"literal\") {\n        set(this.jsPropertiesState, `[${jsObjectName}.${key}]`, {\n          position: position,\n          value: rawContent,\n        });\n      }\n    }\n  }\n\n  getMap() {\n    return this.jsPropertiesState;\n  }\n}\n\nexport const jsPropertiesState = new JsPropertiesState();\n\nexport interface TBasePropertyState {\n  value: string;\n  position: JSPropertyPosition;\n}\nexport interface TJSFunctionPropertyState extends TBasePropertyState {\n  isMarkedAsync: boolean;\n}\n\nexport type TJSpropertyState = TBasePropertyState | TJSFunctionPropertyState;\n\nexport type TJSPropertiesState = Record<\n  string,\n  Record<string, TJSpropertyState>\n>;\n","import type {\n  JSActionEntityConfig,\n  JSActionEntity,\n} from \"@appsmith/entities/DataTree/types\";\nimport type {\n  ConfigTree,\n  DataTree,\n  DataTreeEntity,\n} from \"entities/DataTree/dataTreeTypes\";\nimport { EvaluationSubstitutionType } from \"entities/DataTree/dataTreeFactory\";\nimport type { ParsedBody, ParsedJSSubAction } from \"utils/JSPaneUtils\";\nimport { unset, set, get, find } from \"lodash\";\nimport type {\n  BatchedJSExecutionData,\n  BatchedJSExecutionErrors,\n  JSCollectionData,\n  JSExecutionData,\n  JSExecutionError,\n} from \"@appsmith/reducers/entityReducers/jsActionsReducer\";\nimport { select } from \"redux-saga/effects\";\nimport type { JSAction } from \"entities/JSCollection\";\nimport { getAllJSCollections } from \"@appsmith/selectors/entitiesSelector\";\nimport {\n  getEntityNameAndPropertyPath,\n  isJSAction,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport JSObjectCollection from \"./Collection\";\n\n/**\n * here we add/remove the properties (variables and actions) which got added/removed from the JSObject parsedBody.\n  NOTE: For other entity below logic is maintained in DataTreeFactory, for JSObject we handle it inside evaluations\n * \n * @param parsedBody \n * @param jsCollection \n * @param unEvalTree \n * @returns \n */\nexport const updateJSCollectionInUnEvalTree = (\n  parsedBody: ParsedBody,\n  jsCollection: JSActionEntity,\n  unEvalTree: DataTree,\n  configTree: ConfigTree,\n  entityName: string,\n) => {\n  // jsCollection here means unEvalTree JSObject\n  const modifiedUnEvalTree = unEvalTree;\n  const functionsList: Array<string> = [];\n  const jsEntityConfig = configTree[entityName] as JSActionEntityConfig;\n  const varList: Array<string> | undefined = jsEntityConfig?.variables;\n  Object.keys(jsEntityConfig?.meta).forEach((action) => {\n    functionsList.push(action);\n  });\n  const oldConfig = jsEntityConfig;\n\n  if (parsedBody.actions && parsedBody.actions.length > 0) {\n    for (let i = 0; i < parsedBody.actions.length; i++) {\n      const action = parsedBody.actions[i];\n      if (jsCollection.hasOwnProperty(action.name)) {\n        if (jsCollection[action.name] !== action.body) {\n          const data = get(\n            modifiedUnEvalTree,\n            `${entityName}.${action.name}.data`,\n            {},\n          );\n          set(\n            modifiedUnEvalTree,\n            `${entityName}.${action.name}`,\n            new String(action.body),\n          );\n\n          set(modifiedUnEvalTree, `${entityName}.${action.name}.data`, data);\n        }\n      } else {\n        const reactivePaths = oldConfig.reactivePaths;\n\n        reactivePaths[action.name] =\n          EvaluationSubstitutionType.SMART_SUBSTITUTE;\n        reactivePaths[`${action.name}.data`] =\n          EvaluationSubstitutionType.TEMPLATE;\n\n        const dynamicBindingPathList = oldConfig.dynamicBindingPathList;\n        dynamicBindingPathList.push({ key: action.name });\n\n        const dependencyMap = oldConfig.dependencyMap;\n        dependencyMap[\"body\"].push(action.name);\n\n        const meta = oldConfig.meta;\n        meta[action.name] = {\n          arguments: action.arguments,\n          confirmBeforeExecute: false,\n        };\n\n        const data = get(\n          modifiedUnEvalTree,\n          `${entityName}.${action.name}.data`,\n          {},\n        );\n        set(\n          modifiedUnEvalTree,\n          `${entityName}.${action.name}`,\n          new String(action.body.toString()),\n        );\n        set(modifiedUnEvalTree, `${entityName}.${action.name}.data`, data);\n      }\n    }\n  }\n  if (functionsList && functionsList.length > 0) {\n    for (let i = 0; i < functionsList.length; i++) {\n      const oldActionName = functionsList[i];\n      const existed = parsedBody.actions.find(\n        (js: ParsedJSSubAction) => js.name === oldActionName,\n      );\n      if (!existed) {\n        const reactivePaths = oldConfig.reactivePaths;\n        delete reactivePaths[oldActionName];\n\n        oldConfig.dynamicBindingPathList =\n          oldConfig.dynamicBindingPathList.filter(\n            (path: any) => path[\"key\"] !== oldActionName,\n          );\n\n        const dependencyMap = oldConfig.dependencyMap[\"body\"];\n        const removeIndex = dependencyMap.indexOf(oldActionName);\n        if (removeIndex > -1) {\n          oldConfig.dependencyMap[\"body\"] = dependencyMap.filter(\n            (item: any) => item !== oldActionName,\n          );\n        }\n        const meta = oldConfig.meta;\n        delete meta[oldActionName];\n\n        unset(modifiedUnEvalTree[entityName], oldActionName);\n        unset(modifiedUnEvalTree[entityName], `${oldActionName}.data`);\n      }\n    }\n  }\n  if (parsedBody.variables.length && varList) {\n    for (let i = 0; i < parsedBody.variables.length; i++) {\n      const newVar = parsedBody.variables[i];\n      const existedVar = varList.indexOf(newVar.name);\n      if (existedVar > -1) {\n        const existedVarVal = jsCollection[newVar.name];\n        if (\n          (!!existedVarVal && existedVarVal.toString()) !==\n            (newVar.value && newVar.value.toString()) ||\n          (!existedVarVal && !!newVar)\n        ) {\n          set(modifiedUnEvalTree, `${entityName}.${newVar.name}`, newVar.value);\n          // When user updates the JSObject all the variable's reset's to initial value\n          JSObjectCollection.removeVariable(`${entityName}.${newVar.name}`);\n        }\n      } else {\n        varList.push(newVar.name);\n        const reactivePaths = oldConfig.reactivePaths;\n        reactivePaths[newVar.name] =\n          EvaluationSubstitutionType.SMART_SUBSTITUTE;\n\n        const dynamicBindingPathList = oldConfig.dynamicBindingPathList;\n        dynamicBindingPathList.push({ key: newVar.name });\n\n        set(configTree, `${entityName}.variables`, varList);\n        set(modifiedUnEvalTree, `${entityName}.${newVar.name}`, newVar.value);\n        // When user updates the JSObject all the variable's reset's to initial value\n        JSObjectCollection.removeVariable(`${entityName}.${newVar.name}`);\n      }\n    }\n    let newVarList: Array<string> = varList;\n    for (let i = 0; i < varList.length; i++) {\n      const varListItem = varList[i];\n      const existsInParsed = parsedBody.variables.find(\n        (item) => item.name === varListItem,\n      );\n      if (!existsInParsed) {\n        const reactivePaths = oldConfig.reactivePaths;\n        delete reactivePaths[varListItem];\n\n        oldConfig.dynamicBindingPathList =\n          oldConfig.dynamicBindingPathList.filter(\n            (path: any) => path[\"key\"] !== varListItem,\n          );\n\n        newVarList = newVarList.filter((item) => item !== varListItem);\n        unset(modifiedUnEvalTree[entityName], varListItem);\n      }\n    }\n    if (newVarList.length) {\n      set(configTree, `${entityName}.variables`, newVarList);\n    }\n  }\n  return modifiedUnEvalTree;\n};\n\n/**\n * When JSObject parseBody is empty we remove all variables and actions from unEvalTree\n * this will lead to removal of properties from the dataTree\n * @param unEvalTree\n * @param entity\n * @returns\n */\nexport const removeFunctionsAndVariableJSCollection = (\n  unEvalTree: DataTree,\n  entity: JSActionEntity,\n  entityName: string,\n  configTree: ConfigTree,\n) => {\n  const oldConfig = configTree[entityName] as JSActionEntityConfig;\n  const modifiedDataTree: DataTree = unEvalTree;\n  const functionsList: Array<string> = [];\n  Object.keys(oldConfig.meta).forEach((action) => {\n    functionsList.push(action);\n  });\n  //removed variables\n  const varList: Array<string> | undefined = oldConfig.variables;\n  set(oldConfig, `${entityName}.variables`, []);\n  if (varList) {\n    for (let i = 0; i < varList.length; i++) {\n      const varName = varList[i];\n      unset(modifiedDataTree[entityName], varName);\n      // When user updates the JSObject all the variable's reset's to initial value\n      JSObjectCollection.removeVariable(`${entityName}.${varName}`);\n    }\n  }\n\n  //remove functions\n  const reactivePaths = entity.reactivePaths;\n  const meta = entity.meta;\n\n  for (let i = 0; i < functionsList.length; i++) {\n    const actionName = functionsList[i];\n    delete reactivePaths[actionName];\n    delete meta[actionName];\n    unset(modifiedDataTree[entityName], actionName);\n\n    oldConfig.dynamicBindingPathList = oldConfig.dynamicBindingPathList.filter(\n      (path: any) => path[\"key\"] !== actionName,\n    );\n\n    oldConfig.dependencyMap[\"body\"] = entity.dependencyMap[\"body\"].filter(\n      (item: any) => item !== actionName,\n    );\n  }\n\n  return modifiedDataTree;\n};\n\nexport function isJSObjectFunction(\n  dataTree: DataTree,\n  jsObjectName: string,\n  key: string,\n  configTree: ConfigTree,\n) {\n  const entityConfig = configTree[jsObjectName] as JSActionEntityConfig;\n  const entity = dataTree[jsObjectName];\n  if (isJSAction(entity)) {\n    return entityConfig.meta.hasOwnProperty(key);\n  }\n  return false;\n}\n\nexport function isJSObjectVariable(\n  jsObjectName: string,\n  key: string,\n  configTree: ConfigTree,\n) {\n  const entityConfig = configTree[jsObjectName] as JSActionEntityConfig;\n  if (!entityConfig) return false;\n  const entity = configTree[jsObjectName];\n  const variables = entityConfig.variables;\n  return (\n    isJSAction(entity as unknown as DataTreeEntity) && variables?.includes(key)\n  );\n}\n\nexport function isPromise(value: any): value is Promise<unknown> {\n  return Boolean(value && typeof value.then === \"function\");\n}\n\nfunction updateJSExecutionError(\n  errors: BatchedJSExecutionErrors,\n  executionError: JSExecutionError,\n) {\n  const { collectionId } = executionError;\n  if (errors[collectionId]) {\n    errors[collectionId].push(executionError);\n  } else {\n    errors[collectionId] = [executionError];\n  }\n}\n\nfunction updateJSExecutionData(\n  sortedData: BatchedJSExecutionData,\n  executionData: JSExecutionData,\n) {\n  const { collectionId } = executionData;\n  if (sortedData[collectionId]) {\n    sortedData[collectionId].push(executionData);\n  } else {\n    sortedData[collectionId] = [executionData];\n  }\n}\n\nfunction getJSActionFromJSCollections(\n  jsCollections: JSCollectionData[],\n  jsfuncFullName: string,\n) {\n  const { entityName: collectionName, propertyPath: functionName } =\n    getEntityNameAndPropertyPath(jsfuncFullName);\n\n  const jsCollection = find(\n    jsCollections,\n    (collection) => collection.config.name === collectionName,\n  );\n  if (!jsCollection) return;\n\n  const jsAction: JSAction | undefined = find(\n    jsCollection.config.actions,\n    (action) => action.name === functionName,\n  );\n  return jsAction;\n}\n\nexport function* sortJSExecutionDataByCollectionId(\n  data: Record<string, unknown>,\n  errors: Record<string, unknown>,\n) {\n  // Sorted data by collectionId\n  const sortedData: BatchedJSExecutionData = {};\n  // Sorted errors by collectionId\n  const sortedErrors: BatchedJSExecutionErrors = {};\n\n  const JSCollectionsForCurrentPage: JSCollectionData[] =\n    yield select(getAllJSCollections);\n\n  for (const jsfuncFullName of Object.keys(data)) {\n    const jsAction = getJSActionFromJSCollections(\n      JSCollectionsForCurrentPage,\n      jsfuncFullName,\n    );\n    if (!(jsAction && jsAction.collectionId)) continue;\n    const { collectionId, id: actionId } = jsAction;\n\n    if (errors[jsfuncFullName]) {\n      updateJSExecutionError(sortedErrors, {\n        collectionId,\n        isDirty: true,\n        actionId,\n      });\n    }\n\n    updateJSExecutionData(sortedData, {\n      collectionId,\n      actionId,\n      data: get(data, jsfuncFullName),\n    });\n  }\n\n  return { sortedData, sortedErrors };\n}\n","import { convertPathToString } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport type { Diff } from \"deep-diff\";\nimport type { DataTree } from \"entities/DataTree/dataTreeTypes\";\nimport { get, set, unset } from \"lodash\";\n\nexport type TDataStore = Record<string, Record<string, unknown>>;\nexport default class DataStore {\n  private static store: TDataStore = {};\n\n  static setActionData(fullPath: string, value: unknown) {\n    set(DataStore.store, fullPath, value);\n  }\n\n  static getActionData(fullPath: string): unknown | undefined {\n    return get(DataStore.store, fullPath, undefined);\n  }\n  static getDataStore() {\n    return DataStore.store;\n  }\n  static deleteActionData(fullPath: string) {\n    unset(DataStore.store, fullPath);\n  }\n  static clear() {\n    DataStore.store = {};\n  }\n\n  static replaceDataStore(store: TDataStore) {\n    DataStore.store = store;\n  }\n\n  static update(dataTreeDiff: Diff<DataTree, DataTree>[]) {\n    const deleteDiffs = dataTreeDiff.filter((diff) => diff.kind === \"D\");\n    deleteDiffs.forEach((diff) => {\n      const deletedPath = diff.path || [];\n      const deletedPathString = convertPathToString(deletedPath);\n      DataStore.deleteActionData(deletedPathString);\n    });\n  }\n}\n","// This is a hard-coded list of DOM APIs that linkedom provides. We’re hardcoding it instead of deriving it\n// from documentMock because domApiNames are used in the main thread, and deriving them from linkedom\n// will keep linkedom in the main thread’s bundle.\nconst DOM_API_NAMES = [\n  \"Attr\",\n  \"CharacterData\",\n  \"Comment\",\n  \"CustomEvent\",\n  \"DOMParser\",\n  \"Document\",\n  \"DocumentFragment\",\n  \"DocumentType\",\n  \"Element\",\n  \"Event\",\n  \"EventTarget\",\n  \"Facades\",\n  \"HTMLAnchorElement\",\n  \"HTMLAreaElement\",\n  \"HTMLAudioElement\",\n  \"HTMLBRElement\",\n  \"HTMLBaseElement\",\n  \"HTMLBodyElement\",\n  \"HTMLButtonElement\",\n  \"HTMLCanvasElement\",\n  \"HTMLClasses\",\n  \"HTMLDListElement\",\n  \"HTMLDataElement\",\n  \"HTMLDataListElement\",\n  \"HTMLDetailsElement\",\n  \"HTMLDirectoryElement\",\n  \"HTMLDivElement\",\n  \"HTMLElement\",\n  \"HTMLEmbedElement\",\n  \"HTMLFieldSetElement\",\n  \"HTMLFontElement\",\n  \"HTMLFormElement\",\n  \"HTMLFrameElement\",\n  \"HTMLFrameSetElement\",\n  \"HTMLHRElement\",\n  \"HTMLHeadElement\",\n  \"HTMLHeadingElement\",\n  \"HTMLHtmlElement\",\n  \"HTMLIFrameElement\",\n  \"HTMLImageElement\",\n  \"HTMLInputElement\",\n  \"HTMLLIElement\",\n  \"HTMLLabelElement\",\n  \"HTMLLegendElement\",\n  \"HTMLLinkElement\",\n  \"HTMLMapElement\",\n  \"HTMLMarqueeElement\",\n  \"HTMLMediaElement\",\n  \"HTMLMenuElement\",\n  \"HTMLMetaElement\",\n  \"HTMLMeterElement\",\n  \"HTMLModElement\",\n  \"HTMLOListElement\",\n  \"HTMLObjectElement\",\n  \"HTMLOptGroupElement\",\n  \"HTMLOptionElement\",\n  \"HTMLOutputElement\",\n  \"HTMLParagraphElement\",\n  \"HTMLParamElement\",\n  \"HTMLPictureElement\",\n  \"HTMLPreElement\",\n  \"HTMLProgressElement\",\n  \"HTMLQuoteElement\",\n  \"HTMLScriptElement\",\n  \"HTMLSelectElement\",\n  \"HTMLSlotElement\",\n  \"HTMLSourceElement\",\n  \"HTMLSpanElement\",\n  \"HTMLStyleElement\",\n  \"HTMLTableCaptionElement\",\n  \"HTMLTableCellElement\",\n  \"HTMLTableElement\",\n  \"HTMLTableRowElement\",\n  \"HTMLTemplateElement\",\n  \"HTMLTextAreaElement\",\n  \"HTMLTimeElement\",\n  \"HTMLTitleElement\",\n  \"HTMLTrackElement\",\n  \"HTMLUListElement\",\n  \"HTMLUnknownElement\",\n  \"HTMLVideoElement\",\n  \"InputEvent\",\n  \"Node\",\n  \"NodeFilter\",\n  \"NodeList\",\n  \"SVGElement\",\n  \"ShadowRoot\",\n  \"Text\",\n  \"illegalConstructor\",\n  \"parseHTML\",\n  \"parseJSON\",\n  \"toJSON\",\n] as const;\n\nconst DOM_APIS = DOM_API_NAMES.reduce(\n  (acc, key) => {\n    acc[key] = true;\n    return acc;\n  },\n  {} as Record<string, true | undefined>,\n);\n\nexport default DOM_APIS;\n","import type { ConfigTree, DataTree } from \"entities/DataTree/dataTreeTypes\";\nimport { getAllAsyncFunctions } from \"@appsmith/workers/Evaluation/Actions\";\nimport type { EvaluationError } from \"utils/DynamicBindingUtils\";\nimport { PropertyEvaluationErrorCategory } from \"utils/DynamicBindingUtils\";\nimport type DependencyMap from \"entities/DependencyMap\";\nimport {\n  getAllAsyncJSFunctions,\n  isDataField,\n} from \"workers/common/DataTreeEvaluator/utils\";\nimport { jsPropertiesState } from \"./JSObject/jsPropertiesState\";\nimport { get, isEmpty, toPath } from \"lodash\";\nimport { APP_MODE } from \"entities/App\";\nimport { isAction } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport log from \"loglevel\";\nimport * as Sentry from \"@sentry/react\";\nimport { getMemberExpressionObjectFromProperty } from \"@shared/ast\";\n\ninterface ErrorMetaData {\n  userScript: string;\n  source: string;\n}\n\ninterface ExtraData {\n  tree: DataTree;\n  asynFns: Record<string, true>;\n  isViewMode: boolean;\n}\ntype Modifier = (\n  error: any,\n  metaData: ErrorMetaData & ExtraData,\n) => Partial<{\n  errorMessage: ReturnType<typeof getErrorMessage>;\n  errorCategory: PropertyEvaluationErrorCategory;\n  rootcause: string;\n}>;\n\nconst FOUND_ACTION_IN_DATA_FIELD_EVAL_MESSAGE =\n  \"Found an action invocation during evaluation. Data fields cannot execute actions.\";\nconst UNDEFINED_ACTION_IN_SYNC_EVAL_ERROR =\n  \"Please remove any direct/indirect references to {{actionName}} and try again. Data fields cannot execute framework actions.\";\nclass ErrorModifier {\n  private asyncFunctionsNameMap: Record<string, true> = {};\n  private asyncJSFunctionsNames: string[] = [];\n  private isViewMode = true;\n  private dataTree: DataTree = {};\n\n  init(appMode?: APP_MODE) {\n    this.isViewMode = appMode !== APP_MODE.EDIT;\n  }\n\n  updateAsyncFunctions(\n    dataTree: DataTree,\n    configTree: ConfigTree,\n    dependencyMap: DependencyMap,\n  ) {\n    if (this.isViewMode) return;\n    const allAsyncEntityFunctions = getAllAsyncFunctions(dataTree, configTree);\n    const allAsyncJSFunctions = getAllAsyncJSFunctions(\n      dataTree,\n      jsPropertiesState.getMap(),\n      dependencyMap,\n      Object.keys(allAsyncEntityFunctions),\n    );\n    this.asyncFunctionsNameMap = allAsyncEntityFunctions;\n    this.asyncJSFunctionsNames = allAsyncJSFunctions;\n    this.dataTree = dataTree;\n  }\n  run(\n    error: any,\n    metaData: ErrorMetaData,\n    modifiers: Modifier[],\n  ): {\n    errorMessage: ReturnType<typeof getErrorMessage>;\n    errorCategory?: PropertyEvaluationErrorCategory;\n    rootcause?: string;\n  } {\n    const { source, userScript } = metaData;\n    const result: {\n      errorMessage: ReturnType<typeof getErrorMessage>;\n      errorCategory?: PropertyEvaluationErrorCategory;\n      rootcause?: string;\n    } = {\n      errorMessage: getErrorMessage(error),\n      errorCategory: undefined,\n      rootcause: undefined,\n    };\n\n    for (const errorModifier of modifiers) {\n      const { errorCategory, errorMessage, rootcause } = errorModifier(error, {\n        tree: this.dataTree,\n        asynFns: this.asyncFunctionsNameMap,\n        source,\n        userScript,\n        isViewMode: this.isViewMode,\n      });\n      result.errorMessage = errorMessage || result.errorMessage;\n      result.errorCategory = errorCategory || result.errorCategory;\n      result.rootcause = rootcause || result.rootcause;\n    }\n    return result;\n  }\n\n  setAsyncInvocationErrorsRootcause(\n    errors: EvaluationError[],\n    asyncFunc: string,\n  ) {\n    return errors.map((error) => {\n      if (isActionInvokedInDataField(error)) {\n        error.errorMessage.message = FOUND_ACTION_IN_DATA_FIELD_EVAL_MESSAGE;\n        error.kind = {\n          category:\n            PropertyEvaluationErrorCategory.ACTION_INVOCATION_IN_DATA_FIELD,\n          rootcause: asyncFunc,\n        };\n      }\n      return error;\n    });\n  }\n  addRootcauseToAsyncInvocationErrors(\n    fullPropertyPath: string,\n    configTree: ConfigTree,\n    errors: EvaluationError[],\n    dependencyMap: DependencyMap,\n  ) {\n    if (this.isViewMode) return errors;\n    let updatedErrors = errors;\n    if (isDataField(fullPropertyPath, configTree)) {\n      const reachableAsyncJSFunctions = dependencyMap.getAllReachableNodes(\n        fullPropertyPath,\n        this.asyncJSFunctionsNames,\n      );\n\n      if (!isEmpty(reachableAsyncJSFunctions))\n        updatedErrors = errorModifier.setAsyncInvocationErrorsRootcause(\n          errors,\n          reachableAsyncJSFunctions[0],\n        );\n    }\n    return updatedErrors;\n  }\n}\n\nexport const errorModifier = new ErrorModifier();\n\nconst FOUND_PROMISE_IN_SYNC_EVAL_MESSAGE =\n  \"Found a Promise() during evaluation. Data fields cannot execute asynchronous code.\";\n\nexport class FoundPromiseInSyncEvalError extends Error {\n  constructor() {\n    super();\n    this.name = \"\";\n    this.message = FOUND_PROMISE_IN_SYNC_EVAL_MESSAGE;\n  }\n}\n\nexport class ActionCalledInSyncFieldError extends Error {\n  constructor(actionName: string) {\n    super(actionName);\n\n    if (!actionName) {\n      this.message = \"Async function called in a data field\";\n      return;\n    }\n\n    this.name = \"\";\n    this.message = UNDEFINED_ACTION_IN_SYNC_EVAL_ERROR.replaceAll(\n      \"{{actionName}}\",\n      actionName + \"()\",\n    );\n  }\n}\n\nexport const getErrorMessage = (error: Error, name = \"ValidationError\") => {\n  return error.name\n    ? {\n        name: error.name,\n        message: error.message,\n      }\n    : {\n        name,\n        message: error.message,\n      };\n};\n\nexport const getErrorMessageWithType = (error: Error) => {\n  return error.name ? `${error.name}: ${error.message}` : error.message;\n};\n\nfunction isActionInvokedInDataField(error: EvaluationError) {\n  return (\n    error.kind?.category ===\n    PropertyEvaluationErrorCategory.ACTION_INVOCATION_IN_DATA_FIELD\n  );\n}\nconst UNDEFINED_TYPE_ERROR_REGEX =\n  /Cannot read properties of undefined \\(reading '([^\\s]+)'/;\n\nexport function convertAllDataTypesToString(e: any) {\n  // Functions do not get converted properly with JSON.stringify\n  // So using String fot functions\n  // Types like [], {} get converted to \"\" using String\n  // hence using JSON.stringify for the rest\n  if (typeof e === \"function\") {\n    return String(e);\n  } else {\n    try {\n      return JSON.stringify(e);\n    } catch (error) {\n      log.debug(error);\n      Sentry.captureException(error);\n    }\n  }\n}\n\nexport const ActionInDataFieldErrorModifier: Modifier = (\n  error,\n  { asynFns, isViewMode },\n) => {\n  if (isViewMode) return {};\n  const errorMessage = getErrorMessage(error);\n  if (\n    error instanceof FoundPromiseInSyncEvalError ||\n    error instanceof ActionCalledInSyncFieldError\n  ) {\n    return {\n      errorMessage,\n      errorCategory:\n        PropertyEvaluationErrorCategory.ACTION_INVOCATION_IN_DATA_FIELD,\n    };\n  }\n  if (![\"ReferenceError\", \"TypeError\"].includes(error.name)) return {};\n\n  for (const asyncFunctionFullPath of Object.keys(asynFns)) {\n    const functionNameWithWhiteSpace = \" \" + asyncFunctionFullPath + \" \";\n    if (getErrorMessageWithType(error).match(functionNameWithWhiteSpace)) {\n      return {\n        errorMessage: {\n          name: \"ValidationError\",\n          message: UNDEFINED_ACTION_IN_SYNC_EVAL_ERROR.replaceAll(\n            \"{{actionName}}\",\n            asyncFunctionFullPath + \"()\",\n          ),\n        },\n        errorCategory:\n          PropertyEvaluationErrorCategory.ACTION_INVOCATION_IN_DATA_FIELD,\n      };\n    }\n  }\n  return {};\n};\n\nexport const TypeErrorModifier: Modifier = (\n  error,\n  { isViewMode, source, tree, userScript },\n) => {\n  if (isViewMode) return {};\n  const errorMessage = getErrorMessage(error);\n  if (\n    error.name === \"TypeError\" &&\n    errorMessage.message.startsWith(\n      \"Cannot read properties of undefined (reading\",\n    )\n  ) {\n    const matchedString = errorMessage.message.match(\n      UNDEFINED_TYPE_ERROR_REGEX,\n    );\n    if (!matchedString) return {};\n    const undefinedProperty = matchedString[1];\n    const allMemberExpressionObjects = getMemberExpressionObjectFromProperty(\n      undefinedProperty,\n      userScript,\n    );\n    if (isEmpty(allMemberExpressionObjects)) return {};\n    const possibleCauses = new Set<string>();\n    for (const objectString of allMemberExpressionObjects) {\n      const paths = toPath(objectString);\n      const topLevelEntity = tree[paths[0]];\n      if (\n        paths.at(1) === \"data\" &&\n        isAction(topLevelEntity) &&\n        !get(self, `${paths[0]}.data`, undefined)\n      ) {\n        errorMessage.message = `Cannot read data from ${paths[0]}. Please re-run your query.`;\n        return {\n          errorMessage,\n          rootcause: `${paths[0]}`,\n        };\n      }\n\n      if (!get(self, objectString, undefined)) {\n        possibleCauses.add(`\"${objectString}\"`);\n      }\n    }\n    if (isEmpty(possibleCauses)) return {};\n    const possibleCausesArr = Array.from(possibleCauses);\n    errorMessage.message = `${\n      possibleCausesArr.length === 1\n        ? `${possibleCausesArr[0]} is undefined`\n        : `${Array.from(possibleCauses).join(\", \")} could be undefined`\n    } . Please fix ${source || \"the binding\"}.`;\n\n    return {\n      errorMessage,\n      rootcause: source,\n    };\n  }\n  return {};\n};\n\nexport const PrimitiveErrorModifier: Modifier = (error) => {\n  if (error instanceof Error) {\n    const errorMessage = getErrorMessage(error);\n    return { errorMessage };\n  } else {\n    // this covers cases where any primitive value is thrown\n    // for eg., throw \"error\";\n    // These types of errors might have a name/message but are not an instance of Error class\n    const message = convertAllDataTypesToString(error);\n    const errorMessage = {\n      name: error?.name || \"Error\",\n      message: error?.message || message,\n    };\n    return { errorMessage };\n  }\n};\n","import { dataTreeEvaluator } from \"./handlers/evalTree\";\nimport type { EvalMetaUpdates } from \"@appsmith/workers/common/DataTreeEvaluator/types\";\nimport { makeEntityConfigsAsObjProperties } from \"@appsmith/workers/Evaluation/dataTreeUtils\";\nimport type { EvalTreeResponseData, UpdateTreeResponse } from \"./types\";\nimport { MessageType, sendMessage } from \"utils/MessageUtil\";\nimport { MAIN_THREAD_ACTION } from \"@appsmith/workers/Evaluation/evalWorkerActions\";\nimport type { UpdateDataTreeMessageData } from \"sagas/EvalWorkerActionSagas\";\nimport {\n  generateOptimisedUpdatesAndSetPrevState,\n  getNewDataTreeUpdates,\n  uniqueOrderUpdatePaths,\n} from \"./helpers\";\nimport type DataTreeEvaluator from \"workers/common/DataTreeEvaluator\";\nimport type { DataTreeDiff } from \"@appsmith/workers/Evaluation/evaluationUtils\";\n\nconst getDefaultEvalResponse = (): EvalTreeResponseData => ({\n  updates: \"[]\",\n  dependencies: {},\n  errors: [],\n  evalMetaUpdates: [],\n  evaluationOrder: [],\n  jsUpdates: {},\n  logs: [],\n  unEvalUpdates: [],\n  isCreateFirstTree: false,\n  staleMetaIds: [],\n  removedPaths: [],\n  isNewWidgetAdded: false,\n  undefinedEvalValuesMap: {},\n  jsVarsCreatedEvent: [],\n});\n\nexport function evalTreeWithChanges(\n  updatedValuePaths: string[][],\n  metaUpdates: EvalMetaUpdates = [],\n) {\n  let setupUpdateTreeResponse = {} as UpdateTreeResponse;\n  if (dataTreeEvaluator) {\n    setupUpdateTreeResponse =\n      dataTreeEvaluator.setupUpdateTreeWithDifferences(updatedValuePaths);\n  }\n\n  const setterAndLocalStorageUpdatePaths = uniqueOrderUpdatePaths(\n    updatedValuePaths.map((val) => val.join(\".\")),\n  );\n\n  evaluateAndPushResponse(\n    dataTreeEvaluator,\n    setupUpdateTreeResponse,\n    metaUpdates,\n    setterAndLocalStorageUpdatePaths,\n  );\n}\n\nexport const pushResponseToMainThread = (data: UpdateDataTreeMessageData) => {\n  sendMessage.call(self, {\n    messageType: MessageType.DEFAULT,\n    body: {\n      data,\n      method: MAIN_THREAD_ACTION.UPDATE_DATATREE,\n    },\n  });\n};\n\nexport const getAffectedNodesInTheDataTree = (\n  unEvalUpdates: DataTreeDiff[],\n  evalOrder: string[],\n) => {\n  const allUnevalUpdates = unEvalUpdates.map(\n    (update) => update.payload.propertyPath,\n  );\n  // merge unevalUpdate paths and evalOrder paths\n  return uniqueOrderUpdatePaths([...allUnevalUpdates, ...evalOrder]);\n};\n\nexport const evaluateAndPushResponse = (\n  dataTreeEvaluator: DataTreeEvaluator | undefined,\n  setupUpdateTreeResponse: UpdateTreeResponse,\n  metaUpdates: EvalMetaUpdates,\n  additionalPathsAddedAsUpdates: string[],\n) => {\n  const response = evaluateAndGenerateResponse(\n    dataTreeEvaluator,\n    setupUpdateTreeResponse,\n    metaUpdates,\n    additionalPathsAddedAsUpdates,\n  );\n  return pushResponseToMainThread(response);\n};\n\nexport const evaluateAndGenerateResponse = (\n  dataTreeEvaluator: DataTreeEvaluator | undefined,\n  setupUpdateTreeResponse: UpdateTreeResponse,\n  metaUpdates: EvalMetaUpdates,\n  additionalPathsAddedAsUpdates: string[],\n): UpdateDataTreeMessageData => {\n  // generate default response first and later add updates to it\n  const defaultResponse = getDefaultEvalResponse();\n\n  if (!dataTreeEvaluator) {\n    const updates = generateOptimisedUpdatesAndSetPrevState(\n      {},\n      dataTreeEvaluator,\n      [],\n    );\n    defaultResponse.updates = updates;\n    defaultResponse.evalMetaUpdates = [...(metaUpdates || [])];\n    return {\n      workerResponse: defaultResponse,\n      unevalTree: {},\n    };\n  }\n\n  const { evalOrder, jsUpdates, unEvalUpdates } = setupUpdateTreeResponse;\n  defaultResponse.evaluationOrder = evalOrder;\n  defaultResponse.unEvalUpdates = unEvalUpdates;\n  defaultResponse.jsUpdates = jsUpdates;\n\n  const updateResponse = dataTreeEvaluator.evalAndValidateSubTree(\n    evalOrder,\n    dataTreeEvaluator.oldConfigTree,\n    unEvalUpdates,\n  );\n\n  const dataTree = makeEntityConfigsAsObjProperties(\n    dataTreeEvaluator.evalTree,\n    {\n      evalProps: dataTreeEvaluator.evalProps,\n    },\n  );\n\n  /** Make sure evalMetaUpdates is sanitized to prevent postMessage failure */\n  defaultResponse.evalMetaUpdates = JSON.parse(\n    JSON.stringify([...(metaUpdates || []), ...updateResponse.evalMetaUpdates]),\n  );\n\n  defaultResponse.staleMetaIds = updateResponse.staleMetaIds;\n  const unevalTree = dataTreeEvaluator.getOldUnevalTree();\n\n  // when additional paths are required to be added as updates, we extract the updates from the data tree using these paths.\n  const additionalUpdates = getNewDataTreeUpdates(\n    additionalPathsAddedAsUpdates,\n    dataTree,\n  );\n  // the affected paths is a combination of the eval order and the uneval updates\n  // we use this collection to limit the diff between the old and new data tree\n  const affectedNodePaths = getAffectedNodesInTheDataTree(\n    unEvalUpdates,\n    evalOrder,\n  );\n\n  defaultResponse.updates = generateOptimisedUpdatesAndSetPrevState(\n    dataTree,\n    dataTreeEvaluator,\n    affectedNodePaths,\n    additionalUpdates,\n  );\n  dataTreeEvaluator.undefinedEvalValuesMap =\n    dataTreeEvaluator.undefinedEvalValuesMap || {};\n\n  return {\n    workerResponse: defaultResponse,\n    unevalTree,\n  };\n};\n","/* eslint-disable no-console */\nimport type {\n  ConfigTree,\n  DataTree,\n  DataTreeEntity,\n} from \"entities/DataTree/dataTreeTypes\";\nimport type { EvaluationError } from \"utils/DynamicBindingUtils\";\nimport { PropertyEvaluationErrorType } from \"utils/DynamicBindingUtils\";\nimport unescapeJS from \"unescape-js\";\nimport { Severity } from \"entities/AppsmithConsole\";\nimport type { EventType } from \"constants/AppsmithActionConstants/ActionConstants\";\nimport type { TriggerMeta } from \"@appsmith/sagas/ActionExecution/ActionExecutionSagas\";\nimport indirectEval from \"./indirectEval\";\nimport DOM_APIS from \"./domApis\";\nimport {\n  JSLibraryAccessor,\n  libraryReservedIdentifiers,\n} from \"../common/JSLibrary\";\nimport {\n  ActionInDataFieldErrorModifier,\n  errorModifier,\n  FoundPromiseInSyncEvalError,\n  PrimitiveErrorModifier,\n  TypeErrorModifier,\n} from \"./errorModifier\";\nimport { addDataTreeToContext } from \"@appsmith/workers/Evaluation/Actions\";\nimport { set } from \"lodash\";\nimport { klona } from \"klona\";\nimport { getEntityNameAndPropertyPath } from \"@appsmith/workers/Evaluation/evaluationUtils\";\n\nexport interface EvalResult {\n  result: any;\n  errors: EvaluationError[];\n}\n\nexport enum EvaluationScriptType {\n  EXPRESSION = \"EXPRESSION\",\n  ANONYMOUS_FUNCTION = \"ANONYMOUS_FUNCTION\",\n  ASYNC_ANONYMOUS_FUNCTION = \"ASYNC_ANONYMOUS_FUNCTION\",\n  TRIGGERS = \"TRIGGERS\",\n  OBJECT_PROPERTY = \"OBJECT_PROPERTY\",\n}\n\nexport const ScriptTemplate = \"<<string>>\";\n\nexport const EvaluationScripts: Record<EvaluationScriptType, string> = {\n  [EvaluationScriptType.EXPRESSION]: `\n  function $$closedFn () {\n    const $$result = ${ScriptTemplate}\n    return $$result\n  }\n  $$closedFn.call(THIS_CONTEXT)\n  `,\n  [EvaluationScriptType.ANONYMOUS_FUNCTION]: `\n  function $$closedFn (script) {\n    const $$userFunction = script;\n    const $$result = $$userFunction?.apply(THIS_CONTEXT, ARGUMENTS);\n    return $$result\n  }\n  $$closedFn(${ScriptTemplate})\n  `,\n  [EvaluationScriptType.ASYNC_ANONYMOUS_FUNCTION]: `\n  async function $$closedFn (script) {\n    const $$userFunction = script;\n    const $$result = $$userFunction?.apply(THIS_CONTEXT, ARGUMENTS);\n    return await $$result;\n  }\n  $$closedFn(${ScriptTemplate})\n  `,\n  [EvaluationScriptType.TRIGGERS]: `\n  async function $$closedFn () {\n    const $$result = ${ScriptTemplate};\n    return await $$result\n  }\n  $$closedFn.call(THIS_CONTEXT)\n  `,\n  [EvaluationScriptType.OBJECT_PROPERTY]: `\n  function $$closedFn () {\n    const $$result = {${ScriptTemplate}}\n    return $$result\n  }\n  $$closedFn.call(THIS_CONTEXT)\n  `,\n};\n\nconst topLevelWorkerAPIs = Object.keys(self).reduce((acc, key: string) => {\n  acc[key] = true;\n  return acc;\n}, {} as any);\n\nconst ignoreGlobalObjectKeys = new Set([\n  \"evaluationVersion\",\n  \"window\",\n  \"document\",\n  \"location\",\n]);\n\nfunction resetWorkerGlobalScope() {\n  const jsLibraryAccessorSet = JSLibraryAccessor.getSet();\n\n  for (const key of Object.keys(self)) {\n    if (topLevelWorkerAPIs[key] || DOM_APIS[key]) continue;\n    //TODO: Remove this once we have a better way to handle this\n    if (ignoreGlobalObjectKeys.has(key)) continue;\n    if (jsLibraryAccessorSet.has(key)) continue;\n    if (libraryReservedIdentifiers[key]) continue;\n    try {\n      // @ts-expect-error: Types are not available\n      delete self[key];\n    } catch (e) {\n      // @ts-expect-error: Types are not available\n      self[key] = undefined;\n    }\n  }\n}\n\nexport const getScriptType = (\n  evalArgumentsExist = false,\n  isTriggerBased = false,\n): EvaluationScriptType => {\n  let scriptType = EvaluationScriptType.EXPRESSION;\n  if (evalArgumentsExist && isTriggerBased) {\n    scriptType = EvaluationScriptType.ASYNC_ANONYMOUS_FUNCTION;\n  } else if (evalArgumentsExist && !isTriggerBased) {\n    scriptType = EvaluationScriptType.ANONYMOUS_FUNCTION;\n  } else if (isTriggerBased && !evalArgumentsExist) {\n    scriptType = EvaluationScriptType.TRIGGERS;\n  }\n  return scriptType;\n};\n\nexport const additionalLibrariesNames: string[] = [];\n\nexport const getScriptToEval = (\n  userScript: string,\n  type: EvaluationScriptType,\n): string => {\n  // Using replace here would break scripts with replacement patterns (ex: $&, $$)\n  const buffer = EvaluationScripts[type].split(ScriptTemplate);\n  return `${buffer[0]}${userScript}${buffer[1]}`;\n};\n\nconst beginsWithLineBreakRegex = /^\\s+|\\s+$/;\n\nexport type EvalContext = Record<string, any>;\n\nexport interface createEvaluationContextArgs {\n  dataTree: DataTree;\n  configTree?: ConfigTree;\n  context?: EvaluateContext;\n  isTriggerBased: boolean;\n  evalArguments?: Array<unknown>;\n  /*\n   Whether to remove functions like \"run\", \"clear\" from entities in global context\n   use case => To show lint warning when Api.run is used in a function bound to a data field (Eg. Button.text)\n   */\n  removeEntityFunctions?: boolean;\n}\n\n/**\n * overrideContext is a set of key-value pairs where they key is a path\n * and the value is any value.\n *\n * The purpose of overrideContext is to update the EVAL_CONTEXT's entity properties\n * with new value during runtime.\n * An example of runtime would be execution of a query where some parameters are passed\n * to the .run function.\n * This enables to override the entities and their values in EVAL_CONTEXT without any side-effects\n * to the actual dataTree since this is a non-persistent transient state of evaluation.\n *\n * Example:\n * overrideContext = {\n *  \"Input1.text\": \"hello\"\n * }\n * // before overriding\n * EVAL_CONTEXT = {\n *  \"Input1\": {\n *    \"text\": \"Hey!\"\n *  }\n * \"Text1\": {\n *    \"text\": \"YOLO\"\n *  }\n * }\n *\n * // after overriding just for the particular evaluation\n * EVAL_CONTEXT = {\n *  \"Input1\": {\n *    \"text\": \"Hello\"\n *  },\n * \"Text1\": {\n *  \"text\": \"YOLO\"\n * }\n *\n * Where is this overriding actually used?\n * At the time of writing this, the use case originated to evaluate run-time params of a\n * query module instance as pass them off as inputs.\n * Eg. QueryModule1.run({ input1: \"10\" }) and the bindings for this could be QueryModule1.inputs.input1\n * So the executionParams needs to be put in the EVAL_CONTEXT with the above path and the supplied value.\n * Therefore an overriding of the EVAL_CONTEXT is required during runtime execution.\n *\n * Why klona is used to cloned here?\n * Since EVAL_CONTEXT is build from the dataTree by adding the entities directly referentially\n * Eg. EVAL_CONTEXT[\"Input1\"] = dataTree[\"Input1\"]\n * Overriding the EVAL_CONTEXT directly using set(EVAL_CONTEXT, path, value); would mutate the dataTree\n * thus polluting the dataTree for the next evaluation.\n * To avoid this, all the unique entities of present in the overrideContext is identified and cloned once for\n * the particular entities only. This avoid unnecessary cloning of every entity and further multiple times.\n *\n */\nconst overrideEvalContext = (\n  EVAL_CONTEXT: EvalContext,\n  overrideContext?: Record<string, unknown>,\n) => {\n  if (overrideContext) {\n    const entitiesClonedSoFar = new Set();\n\n    Object.keys(overrideContext).forEach((path) => {\n      const { entityName } = getEntityNameAndPropertyPath(path);\n\n      if (entityName in EVAL_CONTEXT && !entitiesClonedSoFar.has(entityName)) {\n        entitiesClonedSoFar.add(entityName);\n        EVAL_CONTEXT[entityName] = klona(EVAL_CONTEXT[entityName]);\n      }\n    });\n\n    Object.entries(overrideContext).forEach(([path, value]) => {\n      set(EVAL_CONTEXT, path, value);\n    });\n  }\n};\n\n/**\n * This method created an object with dataTree and appsmith's framework actions that needs to be added to worker global scope for the JS code evaluation to then consume it.\n *\n * Example:\n * - For `eval(\"Table1.tableData\")` code to work as expected, we define Table1.tableData in worker global scope and for that we use `createEvaluationContext` to get the object to set in global scope.\n */\nexport const createEvaluationContext = (args: createEvaluationContextArgs) => {\n  const {\n    configTree = {},\n    context,\n    dataTree,\n    evalArguments,\n    isTriggerBased,\n    removeEntityFunctions,\n  } = args;\n\n  const EVAL_CONTEXT: EvalContext = {};\n  ///// Adding callback data\n  EVAL_CONTEXT.ARGUMENTS = evalArguments;\n  //// Adding contextual data not part of data tree\n  EVAL_CONTEXT.THIS_CONTEXT = context?.thisContext || {};\n\n  if (context?.globalContext) {\n    Object.assign(EVAL_CONTEXT, context.globalContext);\n  }\n\n  addDataTreeToContext({\n    EVAL_CONTEXT,\n    dataTree,\n    configTree,\n    removeEntityFunctions: !!removeEntityFunctions,\n    isTriggerBased,\n  });\n\n  overrideEvalContext(EVAL_CONTEXT, context?.overrideContext);\n\n  return EVAL_CONTEXT;\n};\n\nexport function sanitizeScript(js: string) {\n  // We remove any line breaks from the beginning of the script because that\n  // makes the final function invalid. We also unescape any escaped characters\n  // so that eval can happen\n  const trimmedJS = js.replace(beginsWithLineBreakRegex, \"\");\n  return self.evaluationVersion > 1 ? trimmedJS : unescapeJS(trimmedJS);\n}\n\n/** Define a context just for this script\n * thisContext will define it on the `this`\n * globalContext will define it globally\n * requestId is used for completing promises\n */\nexport interface EvaluateContext {\n  thisContext?: Record<string, any>;\n  globalContext?: Record<string, any>;\n  requestId?: string;\n  eventType?: EventType;\n  triggerMeta?: TriggerMeta;\n  overrideContext?: Record<string, unknown>;\n}\n\nexport const getUserScriptToEvaluate = (\n  userScript: string,\n  isTriggerBased: boolean,\n  evalArguments?: Array<any>,\n) => {\n  const unescapedJS = sanitizeScript(userScript);\n  // If nothing is present to evaluate, return\n  if (!unescapedJS.length) {\n    return {\n      script: \"\",\n    };\n  }\n  const scriptType = getScriptType(!!evalArguments, isTriggerBased);\n  const script = getScriptToEval(unescapedJS, scriptType);\n  return { script };\n};\n\nexport function setEvalContext({\n  configTree,\n  context,\n  dataTree,\n  evalArguments,\n  isDataField,\n  isTriggerBased,\n}: {\n  context?: EvaluateContext;\n  dataTree: DataTree;\n  configTree?: ConfigTree;\n  evalArguments?: Array<any>;\n  isDataField: boolean;\n  isTriggerBased: boolean;\n}) {\n  self[\"$isDataField\"] = isDataField;\n\n  const evalContext = createEvaluationContext({\n    dataTree,\n    configTree,\n    context,\n    evalArguments,\n    isTriggerBased,\n  });\n\n  Object.assign(self, evalContext);\n}\n\nexport default function evaluateSync(\n  userScript: string,\n  dataTree: DataTree,\n  isJSCollection: boolean,\n  context?: EvaluateContext,\n  evalArguments?: Array<any>,\n  configTree?: ConfigTree,\n): EvalResult {\n  return (function () {\n    const errors: EvaluationError[] = [];\n    let result;\n\n    const { script } = getUserScriptToEvaluate(\n      userScript,\n      false,\n      evalArguments,\n    );\n\n    // If nothing is present to evaluate, return instead of evaluating\n    if (!script.length) {\n      return {\n        errors: [],\n        result: undefined,\n        triggers: [],\n      };\n    }\n    resetWorkerGlobalScope();\n\n    setEvalContext({\n      dataTree,\n      configTree,\n      isDataField: true,\n      isTriggerBased: isJSCollection,\n      context,\n      evalArguments,\n    });\n\n    try {\n      result = indirectEval(script);\n      if (result instanceof Promise) {\n        /**\n         * If a promise is returned in data field then show the error to help understand data field doesn't await to resolve promise.\n         * NOTE: Awaiting for promise will make data field evaluation slower.\n         */\n        throw new FoundPromiseInSyncEvalError();\n      }\n    } catch (error: any) {\n      const { errorCategory, errorMessage, rootcause } = errorModifier.run(\n        error,\n        { userScript: error.userScript || userScript, source: error.source },\n        [ActionInDataFieldErrorModifier, TypeErrorModifier],\n      );\n      errors.push({\n        errorMessage,\n        severity: Severity.ERROR,\n        raw: script,\n        errorType: PropertyEvaluationErrorType.PARSE,\n        originalBinding: userScript,\n        kind: {\n          category: errorCategory,\n          rootcause,\n        },\n      });\n    } finally {\n      self[\"$isDataField\"] = false;\n    }\n    return { result, errors };\n  })();\n}\n\nexport async function evaluateAsync(\n  userScript: string,\n  dataTree: DataTree,\n  configTree: ConfigTree,\n  context?: EvaluateContext,\n  evalArguments?: Array<any>,\n) {\n  return (async function () {\n    resetWorkerGlobalScope();\n    const errors: EvaluationError[] = [];\n    let result;\n\n    const { script } = getUserScriptToEvaluate(userScript, true, evalArguments);\n\n    setEvalContext({\n      dataTree,\n      configTree,\n      isDataField: false,\n      isTriggerBased: true,\n      context,\n      evalArguments,\n    });\n\n    try {\n      result = await indirectEval(script);\n    } catch (error: any) {\n      const { errorMessage } = errorModifier.run(\n        error,\n        { userScript: error.userScript || userScript, source: error.source },\n        [PrimitiveErrorModifier, TypeErrorModifier],\n      );\n      errors.push({\n        errorMessage: errorMessage,\n        severity: Severity.ERROR,\n        raw: script,\n        errorType: PropertyEvaluationErrorType.PARSE,\n        originalBinding: userScript,\n      });\n    } finally {\n      return {\n        result,\n        errors,\n      };\n    }\n  })();\n}\n\nexport function shouldAddSetter(setter: any, entity: DataTreeEntity) {\n  const isDisabledExpression = setter.disabled;\n\n  if (!isDisabledExpression) return true;\n\n  const isDisabledFn = new Function(\"options\", isDisabledExpression);\n\n  return !isDisabledFn({ entity });\n}\n","import { dataTreeEvaluator } from \"./evalTree\";\nimport type { EvalWorkerASyncRequest } from \"../types\";\nimport ExecutionMetaData from \"../fns/utils/ExecutionMetaData\";\nimport { evaluateAndPushResponse } from \"../evalTreeWithChanges\";\n\nexport default async function (request: EvalWorkerASyncRequest) {\n  const { data } = request;\n  const {\n    callbackData,\n    dynamicTrigger,\n    eventType,\n    globalContext,\n    triggerMeta,\n    unEvalTree,\n  } = data;\n  if (!dataTreeEvaluator) {\n    return { triggers: [], errors: [] };\n  }\n\n  ExecutionMetaData.setExecutionMetaData({ triggerMeta, eventType });\n\n  if (!triggerMeta.onPageLoad) {\n    const { evalOrder, unEvalUpdates } = dataTreeEvaluator.setupUpdateTree(\n      unEvalTree.unEvalTree,\n      unEvalTree.configTree,\n      undefined,\n      //TODO: the evalTrigger can be optimised to not diff all JS actions\n      { isAllAffected: true, ids: [] },\n    );\n    evaluateAndPushResponse(\n      dataTreeEvaluator,\n      { evalOrder, unEvalUpdates, jsUpdates: {} },\n      [],\n      [],\n    );\n  }\n  return dataTreeEvaluator.evaluateTriggers(\n    dynamicTrigger,\n    dataTreeEvaluator.getEvalTree(),\n    unEvalTree.configTree,\n    callbackData,\n    {\n      globalContext,\n      eventType,\n      triggerMeta,\n    },\n  );\n}\n","import _ from \"./lodash-wrapper\";\nimport moment from \"moment-timezone\";\nimport forge from \"node-forge\";\nimport { defaultLibraries, JSLibraryAccessor } from \"./index\";\nimport { JSLibraries, libraryReservedIdentifiers } from \"./index\";\nimport { invalidEntityIdentifiers } from \"../DependencyMap/utils\";\nconst defaultLibImplementations = {\n  lodash: _,\n  moment: moment,\n  // We are removing some functionalities of node-forge because they wont\n  // work in the worker thread\n  forge: /*#__PURE*/ _.omit(forge, [\"tls\", \"http\", \"xhr\", \"socket\", \"task\"]),\n};\n\nexport function resetJSLibraries() {\n  JSLibraries.length = 0;\n  JSLibraries.push(...defaultLibraries);\n  const defaultLibraryAccessors = defaultLibraries.map(\n    (lib) => lib.accessor[0],\n  );\n  for (const key of Object.keys(libraryReservedIdentifiers)) {\n    if (defaultLibraryAccessors.includes(key)) continue;\n    try {\n      // @ts-expect-error: Types are not available\n      delete self[key];\n    } catch (e) {\n      // @ts-expect-error: Types are not available\n      self[key] = undefined;\n    }\n    //we have to update invalidEntityIdentifiers as well\n    delete libraryReservedIdentifiers[key];\n    delete invalidEntityIdentifiers[key];\n  }\n\n  JSLibraries.forEach((library) => {\n    if (!(library.name in defaultLibImplementations))\n      throw new Error(\n        `resetJSLibraries(): implementation for library ${library.name} not found. Have you forgotten to add it to the defaultLibrariesImpls object?`,\n      );\n\n    // @ts-expect-error: Types are not available\n    self[library.accessor] = defaultLibImplementations[library.name];\n  });\n  JSLibraryAccessor.regenerateSet();\n}\n","import log from \"loglevel\";\nimport type { Def } from \"tern\";\n\nexport function getTernDocType(obj: any) {\n  const type = typeof obj;\n  switch (type) {\n    case \"string\":\n      return \"string\";\n    case \"number\":\n      return \"number\";\n    case \"boolean\":\n      return \"bool\";\n    case \"undefined\":\n      return \"?\";\n    case \"function\":\n      return \"fn()\";\n    default:\n      return \"?\";\n  }\n}\n\nexport function typeToTernType(type: string) {\n  if (type === \"boolean\") return \"bool\";\n  if (type === \"function\") return \"fn()\";\n  if (type === \"number\") return \"number\";\n  if (type === \"array\") return \"[]\";\n  if (type === \"string\") return \"string\";\n  return \"?\";\n}\n\nconst ignoredKeys = [\n  \"constructor\",\n  \"WINDOW\",\n  \"window\",\n  \"self\",\n  \"arguments\",\n  \"caller\",\n  \"length\",\n  \"name\",\n];\n\nexport function makeTernDefs(obj: any) {\n  const defs: Def = {};\n  const cachedDefs: any = [];\n  const visitedReferences: any = [];\n  const MAX_ITERATIONS = 5000;\n  let iteration_count = 1;\n  const baseObjPrototype = Object.getPrototypeOf({});\n\n  const queue = [[obj, defs]];\n\n  try {\n    while (queue.length && iteration_count < MAX_ITERATIONS) {\n      const [src, target] = queue.shift() as any;\n      if (visitedReferences.includes(src)) {\n        target[\"!type\"] = cachedDefs[visitedReferences.indexOf(src)][\"!type\"];\n        continue;\n      }\n      const type = typeof src;\n      if (!src || (type !== \"object\" && type !== \"function\")) {\n        target[\"!type\"] = getTernDocType(src);\n        continue;\n      } else if (type === \"function\") {\n        target[\"!type\"] = \"fn()\";\n      }\n      queue.push(\n        ...Object.getOwnPropertyNames(src)\n          .filter((key) => !ignoredKeys.includes(key))\n          .map((key) => {\n            target[key] = {};\n            return [src[key], target[key]];\n          }),\n      );\n      if (type === \"object\") {\n        const prototype = Object.getPrototypeOf(src);\n        if (prototype !== baseObjPrototype) {\n          queue.push(\n            ...Object.getOwnPropertyNames(prototype)\n              .filter((key) => !ignoredKeys.includes(key))\n              .map((key) => {\n                target[key] = {};\n                return [src[key], target[key]];\n              }),\n          );\n        }\n      }\n      iteration_count++;\n    }\n  } catch (e) {\n    log.debug(\"Unknown depth\", e);\n  }\n  return defs;\n}\n","import {\n  createMessage,\n  customJSLibraryMessages,\n} from \"@appsmith/constants/messages\";\nimport difference from \"lodash/difference\";\nimport type { Def } from \"tern\";\nimport { invalidEntityIdentifiers } from \"workers/common/DependencyMap/utils\";\nimport {\n  JSLibraries,\n  JSLibraryAccessor,\n  libraryReservedIdentifiers,\n} from \"../../common/JSLibrary\";\nimport type { JSLibrary } from \"../../common/JSLibrary\";\nimport { resetJSLibraries } from \"../../common/JSLibrary/resetJSLibraries\";\nimport { makeTernDefs } from \"../../common/JSLibrary/ternDefinitionGenerator\";\nimport type { EvalWorkerASyncRequest, EvalWorkerSyncRequest } from \"../types\";\nimport { dataTreeEvaluator } from \"./evalTree\";\nimport log from \"loglevel\";\n\ndeclare global {\n  interface WorkerGlobalScope {\n    [x: string]: any;\n  }\n}\n\ndeclare const self: WorkerGlobalScope;\n\nenum LibraryInstallError {\n  NameCollisionError,\n  ImportError,\n  TernDefinitionError,\n  LibraryOverrideError,\n}\n\nclass ImportError extends Error {\n  code = LibraryInstallError.ImportError;\n  constructor(url: string) {\n    super(createMessage(customJSLibraryMessages.IMPORT_URL_ERROR, url));\n    this.name = \"ImportError\";\n  }\n}\n\nclass TernDefinitionError extends Error {\n  code = LibraryInstallError.TernDefinitionError;\n  constructor(name: string) {\n    super(createMessage(customJSLibraryMessages.DEFS_FAILED_ERROR, name));\n    this.name = \"TernDefinitionError\";\n  }\n}\n\nconst removeDataTreeFromContext = () => {\n  if (!dataTreeEvaluator) return {};\n  const evalTree = dataTreeEvaluator?.getEvalTree();\n  const dataTreeEntityNames = Object.keys(evalTree);\n  const tempDataTreeStore: Record<string, any> = {};\n  for (const entityName of dataTreeEntityNames) {\n    tempDataTreeStore[entityName] = self[entityName];\n    delete self[entityName];\n  }\n  return tempDataTreeStore;\n};\n\nfunction addTempStoredDataTreeToContext(\n  tempDataTreeStore: Record<string, any>,\n) {\n  const dataTreeEntityNames = Object.keys(tempDataTreeStore);\n  for (const entityName of dataTreeEntityNames) {\n    self[entityName] = tempDataTreeStore[entityName];\n  }\n}\n\nexport async function installLibrary(\n  request: EvalWorkerASyncRequest<{\n    url: string;\n    takenNamesMap: Record<string, true>;\n    takenAccessors: Array<string>;\n  }>,\n) {\n  const { data } = request;\n  const { takenAccessors, takenNamesMap, url } = data;\n  const defs: Def = {};\n  /**\n   * We need to remove the data tree from the global scope before importing the library.\n   * This is because the library might have a variable with the same name as a data tree entity. If that happens, the data tree entity will be overridden by the library variable.\n   * We store the data tree in a temporary variable and add it back to the global scope after the library is imported.\n   */\n  const tempDataTreeStore = removeDataTreeFromContext();\n\n  // Map of all the currently installed libraries\n  const libStore = takenAccessors.reduce(\n    (acc: Record<string, unknown>, a: string) => {\n      acc[a] = self[a];\n      return acc;\n    },\n    {},\n  );\n\n  try {\n    const envKeysBeforeInstallation = Object.keys(self);\n\n    /** Holds keys of uninstalled libraries that cannot be removed from worker global.\n     * Certain libraries are added to the global scope with { configurable: false }\n     */\n    const unsetLibraryKeys = envKeysBeforeInstallation.filter(\n      (k) => self[k] === undefined,\n    );\n\n    const accessors: string[] = [];\n\n    let module = null;\n    try {\n      /**\n       * Try to import the library using importScripts\n       * This works for UMD modules\n       * If this fails, we try to import the library using dynamic import\n       */\n      self.importScripts(url);\n\n      // Find keys add that were installed to the global scope.\n      const keysAfterInstallation = Object.keys(self);\n      accessors.push(\n        ...difference(keysAfterInstallation, envKeysBeforeInstallation),\n      );\n\n      /**\n       * Check the list of installed library to see if their values have changed.\n       * This is to check if the newly installed library overwrites an already existing one\n       * For eg. let's say lodash v1 and v2 both have the same accessor `_`.\n       * If lodash v1 is installed first, `_` will be added to the global scope.\n       * This value is stored in libStore. ie libStore['_'] = lodash v1\n       * Now when lodash v2 is installed, `_` will be added to the global scope again.\n       * We check if the value of `_` has changed to detect this. ie . libStore['_'] !== lodash v2\n       * If it has changed, we add the new value to the global scope with a unique name.\n       * */\n      accessors.push(\n        ...Object.keys(libStore).filter((k) => {\n          return libStore[k] !== self[k];\n        }),\n      );\n\n      /**\n       * Certain libraries are added to the global scope with { configurable: false }\n       * These libraries cannot be removed from the global scope via delete operation so we set them to undefined them during uninstall request.\n       * These library accessors are removed from takenAccessors list.\n       * So they will remain in the global scope even after uninstallation. self[accessor] = undefined.\n       * Any attempt to reinstall the same library will overwrite the library with undefined and we need to detect these accessors.\n       */\n      accessors.push(...unsetLibraryKeys.filter((k) => self[k] !== undefined));\n\n      // Generate unique names for accessors that are already taken.\n      for (let i = 0; i < accessors.length; i++) {\n        if (\n          takenNamesMap.hasOwnProperty(accessors[i]) ||\n          takenAccessors.includes(accessors[i])\n        ) {\n          const uniqueName = generateUniqueAccessor(\n            accessors[i],\n            takenAccessors,\n            takenNamesMap,\n          );\n          self[uniqueName] = self[accessors[i]];\n          accessors[i] = uniqueName;\n        }\n      }\n    } catch (e) {\n      log.debug(e, `importScripts failed for ${url}`);\n      try {\n        // If importScripts fails, try to import the library using dynamic import\n        module = await import(/* webpackIgnore: true */ url);\n\n        // If the module is not an object, it is not a valid ESM library\n        if (module && typeof module === \"object\") {\n          const uniqAccessor = generateUniqueAccessor(\n            url,\n            takenAccessors,\n            takenNamesMap,\n          );\n          self[uniqAccessor] = flattenModule(module);\n          accessors.push(uniqAccessor);\n        }\n      } catch (e) {\n        log.debug(e, `dynamic import failed for ${url}`);\n        throw new ImportError(url);\n      }\n    }\n\n    // If no accessors at this point, installation likely failed.\n    if (accessors.length === 0) {\n      throw new Error(\"Unable to determine a unique accessor\");\n    }\n\n    // Name of the library is the last accessor. This is totally random and needs fixing.\n    const name = accessors[accessors.length - 1];\n\n    defs[\"!name\"] = `LIB/${name}`;\n    try {\n      for (const key of accessors) {\n        defs[key] = makeTernDefs(self[key]);\n      }\n    } catch (e) {\n      for (const acc of accessors) {\n        self[acc] = undefined;\n      }\n      log.debug(e, `ternDefinitions failed for ${url}`);\n      throw new TernDefinitionError(\n        `Failed to generate autocomplete definitions: ${name}`,\n      );\n    }\n\n    // Restore the libraries from libStore to the global scope.\n    // This is done to ensure that the libraries are not overwritten by the newly installed library.\n    Object.keys(libStore).forEach((k) => (self[k] = libStore[k]));\n\n    //Reserve accessor names.\n    for (const acc of accessors) {\n      //we have to update invalidEntityIdentifiers as well\n      libraryReservedIdentifiers[acc] = true;\n      invalidEntityIdentifiers[acc] = true;\n    }\n\n    return { success: true, defs, accessor: accessors };\n  } catch (error) {\n    addTempStoredDataTreeToContext(tempDataTreeStore);\n    takenAccessors.forEach((k) => (self[k] = libStore[k]));\n    return { success: false, defs, error };\n  }\n}\n\nexport function uninstallLibrary(\n  request: EvalWorkerSyncRequest<Array<string>>,\n) {\n  const { data } = request;\n  const accessor = data;\n  try {\n    for (const key of accessor) {\n      self[key] = undefined;\n      //we have to update invalidEntityIdentifiers as well\n      delete libraryReservedIdentifiers[key];\n      delete invalidEntityIdentifiers[key];\n    }\n    return { success: true };\n  } catch (e) {\n    return { success: false };\n  }\n}\n\nexport async function loadLibraries(\n  request: EvalWorkerASyncRequest<JSLibrary[]>,\n) {\n  resetJSLibraries();\n  const { data: libs } = request;\n  let message = \"\";\n  const libStore: Record<string, unknown> = {};\n\n  try {\n    for (const lib of libs) {\n      const url = lib.url as string;\n      const accessors = lib.accessor;\n      const keysBefore = Object.keys(self);\n      let module = null;\n      try {\n        self.importScripts(url);\n        const keysAfter = Object.keys(self);\n        const defaultAccessors = difference(keysAfter, keysBefore);\n\n        /**\n         * Installing 2 different version of lodash tries to add the same accessor on the self object. Let take version a & b for example.\n         * Installation of version a, will add _ to the self object and can be detected by looking at the differences in the previous step.\n         * Now when version b is installed, differences will be [], since _ already exists in the self object.\n         * We add all the installations to the libStore and see if the reference it points to in the self object changes.\n         * If the references changes it means that it a valid accessor.\n         */\n        defaultAccessors.push(\n          ...Object.keys(libStore).filter((k) => libStore[k] !== self[k]),\n        );\n\n        /**\n         * Sort the accessor list from backend and installed accessor list using the same rule to apply all modifications.\n         * This is required only for UMD builds, since we always generate unique names for ESM.\n         */\n        accessors.sort();\n        defaultAccessors.sort();\n\n        for (let i = 0; i < defaultAccessors.length; i++) {\n          self[accessors[i]] = self[defaultAccessors[i]];\n          libStore[defaultAccessors[i]] = self[defaultAccessors[i]];\n          libraryReservedIdentifiers[accessors[i]] = true;\n          invalidEntityIdentifiers[accessors[i]] = true;\n        }\n\n        continue;\n      } catch (e) {\n        log.debug(e);\n      }\n\n      try {\n        module = await import(/* webpackIgnore: true */ url);\n        if (!module || typeof module !== \"object\") throw \"Not an ESM module\";\n        const key = accessors[0];\n        const flattenedModule = flattenModule(module);\n        libStore[key] = flattenedModule;\n        self[key] = flattenedModule;\n        libraryReservedIdentifiers[key] = true;\n        invalidEntityIdentifiers[key] = true;\n      } catch (e) {\n        log.debug(e);\n        throw new ImportError(url);\n      }\n    }\n    JSLibraries.push(...libs);\n    JSLibraryAccessor.regenerateSet();\n    return { success: true, message };\n  } catch (e) {\n    message = (e as Error).message;\n    return { success: false, message };\n  }\n}\n\n/**\n * This function is called only for ESM modules and generates a unique namespace for the module.\n * @param url\n * @param takenAccessors\n * @param takenNamesMap\n * @returns\n */\nfunction generateUniqueAccessor(\n  urlOrName: string,\n  takenAccessors: Array<string>,\n  takenNamesMap: Record<string, true>,\n) {\n  let name = urlOrName;\n  // extract file name from url\n  try {\n    // Checks to see if a URL was passed\n    const urlObject = new URL(urlOrName);\n    /**\n     * URL pattern for ESM modules from jsDelivr - https://cdn.jsdelivr.net/npm/stripe@13.3.0/+esm\n     * Assuming the file name is the last part of the path\n     * TODO: Find a better way to extract the file name from the URL\n     * TODO: Handle the case where the URL is from a different CDN like unpkg, cdnjs etc.\n     */\n    const urlPathParts = urlObject.pathname.split(\"/\");\n    name = urlPathParts.pop() as string;\n    name = name?.includes(\"+esm\") ? (urlPathParts.pop() as string) : name;\n  } catch (e) {}\n\n  // Replace all non-alphabetic characters with underscores and remove trailing underscores\n  const validVar = name.replace(/[^a-zA-Z]/g, \"_\").replace(/_+$/, \"\");\n  if (\n    !takenAccessors.includes(validVar) &&\n    !takenNamesMap.hasOwnProperty(validVar)\n  ) {\n    return validVar;\n  }\n  let index = 0;\n  /**\n   * If the accessor is already taken, generate a unique name by appending an index to the accessor.\n   * The index is incremented until a unique name is found.\n   * 100 is a very large number and this loop should never run more than a few times.\n   */\n  while (index++ < 100) {\n    const name = `${validVar}_${index}`;\n    if (!takenAccessors.includes(name) && !takenNamesMap.hasOwnProperty(name)) {\n      return name;\n    }\n  }\n  throw new Error(\"Unable to generate a unique accessor\");\n}\n\nexport function flattenModule(module: Record<string, any>) {\n  const keys = Object.keys(module);\n  // If there are no keys other than default, return default.\n  if (keys.length === 1 && keys[0] === \"default\") return module.default;\n  // If there are keys other than default, return a new object with all the keys\n  // and set its prototype of default export.\n  const libModule = Object.create(module.default || {});\n  for (const key of Object.keys(module)) {\n    if (key === \"default\") continue;\n    libModule[key] = module[key];\n  }\n  return libModule;\n}\n","import type { Diff } from \"deep-diff\";\nimport type { Action } from \"entities/Action\";\nimport ReplayEntity from \"..\";\nimport { pathArrayToString } from \"../replayUtils\";\nimport type { JSActionConfig } from \"entities/JSCollection\";\nimport type { Datasource } from \"entities/Datasource\";\nimport type { ENTITY_TYPE } from \"@appsmith/entities/AppsmithConsole/utils\";\nimport isEmpty from \"lodash/isEmpty\";\nimport type { Canvas } from \"./ReplayCanvas\";\n\n/*\n This type represents all the form objects that can be undone/redone.\n (Action, datasource, jsAction etc)\n*/\nexport type Replayable =\n  | Partial<JSActionConfig>\n  | Partial<Datasource>\n  | Partial<Action>\n  | Partial<Canvas>;\n\ntype ReplayEditorDiff = Diff<Replayable, Replayable>;\n\nexport interface ReplayEditorUpdate {\n  modifiedProperty: string;\n  index?: number;\n  update: Replayable | ReplayEditorDiff;\n  kind: \"N\" | \"D\" | \"E\" | \"A\";\n  isUndo?: boolean;\n}\nexport default class ReplayEditor extends ReplayEntity<Replayable> {\n  constructor(entity: Replayable, entityType: ENTITY_TYPE) {\n    super(entity, entityType);\n  }\n\n  public processDiff(\n    diff: Diff<Replayable, Replayable>,\n    replay: any,\n    isUndo: boolean,\n  ): void {\n    if (!diff || !diff.path || !diff.path.length) return;\n    replay.updates = (replay.updates || []).concat(\n      this.getChanges(diff, isUndo) || [],\n    );\n  }\n\n  /*\n    The should get us the modified property (configProperty from editor, settings and form json files), the updated value and the kind of update.\n    The modifiedProperty would be used to highlight the field that has been replayed. We might need to use the kind in future to display toast\n    messages or even highlight based on the kind.\n  */\n  private getChanges(\n    diff: Diff<Replayable, Replayable>,\n    isUndo: boolean,\n  ): ReplayEditorUpdate | undefined {\n    const { kind, path } = diff;\n    if (diff.kind === \"N\") {\n      if (isEmpty(diff.rhs)) return;\n      return {\n        modifiedProperty: pathArrayToString(path),\n        update: diff.rhs,\n        kind,\n      };\n    } else if (diff.kind === \"A\") {\n      return {\n        modifiedProperty: pathArrayToString(path),\n        update: diff.item,\n        index: diff.index,\n        kind,\n        isUndo,\n      };\n    } else if (diff.kind === \"E\") {\n      return {\n        modifiedProperty: pathArrayToString(path),\n        update: isUndo ? diff.lhs : diff.rhs,\n        kind,\n      };\n    }\n    return {\n      modifiedProperty: pathArrayToString(path),\n      update: diff.lhs,\n      kind,\n    };\n  }\n}\n","import ExecutionMetaData from \"../utils/ExecutionMetaData\";\n\nconst _internalSetTimeout = self.setTimeout;\nconst _internalClearTimeout = self.clearTimeout;\n\nfunction setTimeout(cb: (...args: any) => any, delay: number, ...args: any) {\n  const metaData = ExecutionMetaData.getExecutionMetaData();\n  return _internalSetTimeout(\n    function (...args: any) {\n      self[\"$isDataField\"] = false;\n      ExecutionMetaData.setExecutionMetaData(metaData);\n      typeof cb === \"function\" && cb(...args);\n    },\n    delay,\n    ...args,\n  );\n}\n\nfunction clearTimeout(timerId: number) {\n  return _internalClearTimeout(timerId);\n}\n\nexport { setTimeout, clearTimeout };\n","const _originalFetch = self.fetch;\n\nexport async function fetch(...args: Parameters<typeof _originalFetch>) {\n  const request = new Request(args[0] as string, {\n    ...args[1],\n    credentials: \"omit\",\n  });\n  return _originalFetch(request);\n}\n","import get from \"lodash/get\";\n\nexport default function initLocalStorage(this: any) {\n  const getItem = (key: string) => {\n    return get(this.appsmith.store, key);\n  };\n  const setItem = (key: string, value: any) => {\n    this.storeValue(key, value);\n  };\n  const removeItem = (key: string) => {\n    this.removeValue(key);\n  };\n  const clear = () => {\n    this.clearStore();\n  };\n  const localStorage = {\n    getItem,\n    setItem,\n    removeItem,\n    clear,\n  };\n  Object.defineProperty(this, \"localStorage\", {\n    enumerable: false,\n    value: localStorage,\n  });\n}\n","import { setInterval, clearInterval } from \"./interval\";\nimport { setTimeout, clearTimeout } from \"./timeout\";\nimport { fetch } from \"./fetch\";\nimport { addFn } from \"../utils/fnGuard\";\nimport userLogs from \"./console\";\nimport initLocalStorage from \"./localStorage\";\n\nexport function overrideWebAPIs(ctx: any) {\n  userLogs.overrideConsoleAPI();\n  addFn(ctx, \"setInterval\", setInterval);\n  addFn(ctx, \"clearInterval\", clearInterval);\n  addFn(ctx, \"setTimeout\", setTimeout);\n  addFn(ctx, \"clearTimeout\", clearTimeout);\n  addFn(ctx, \"fetch\", fetch);\n  initLocalStorage.call(ctx);\n}\n","import type { FeatureFlags } from \"@appsmith/entities/FeatureFlag\";\n\nexport class WorkerEnv {\n  static flags: any;\n  static cloudHosting: boolean;\n\n  static setFeatureFlags(featureFlags: FeatureFlags) {\n    WorkerEnv.flags = featureFlags;\n  }\n\n  static setCloudHosting(cloudHosting: boolean) {\n    WorkerEnv.cloudHosting = cloudHosting;\n  }\n\n  static getFeatureFlags() {\n    return WorkerEnv.flags;\n  }\n\n  static getCloudHosting() {\n    return WorkerEnv.cloudHosting;\n  }\n}\n","import noop from \"lodash/noop\";\nimport type {\n  EVAL_WORKER_ASYNC_ACTION,\n  EVAL_WORKER_SYNC_ACTION,\n} from \"@appsmith/workers/Evaluation/evalWorkerActions\";\nimport { EVAL_WORKER_ACTIONS } from \"@appsmith/workers/Evaluation/evalWorkerActions\";\nimport type { EvalWorkerSyncRequest, EvalWorkerASyncRequest } from \"../types\";\nimport evalActionBindings from \"./evalActionBindings\";\nimport evalExpression from \"./evalExpression\";\nimport {\n  evalTree,\n  clearCache,\n  evalTreeTransmissionErrorHandler,\n} from \"./evalTree\";\nimport evalTrigger from \"./evalTrigger\";\nimport initFormEval from \"./initFormEval\";\nimport { installLibrary, loadLibraries, uninstallLibrary } from \"./jsLibrary\";\nimport { redo, undo, updateReplayObject } from \"./replay\";\nimport setupEvaluationEnvironment, {\n  setEvaluationVersion,\n} from \"./setupEvalEnv\";\nimport validateProperty from \"./validateProperty\";\nimport updateActionData from \"./updateActionData\";\nimport type { TransmissionErrorHandler } from \"../fns/utils/Messenger\";\n\nconst syncHandlerMap: Record<\n  EVAL_WORKER_SYNC_ACTION,\n  (req: EvalWorkerSyncRequest) => any\n> = {\n  [EVAL_WORKER_ACTIONS.EVAL_ACTION_BINDINGS]: evalActionBindings,\n  [EVAL_WORKER_ACTIONS.EVAL_TREE]: evalTree,\n  [EVAL_WORKER_ACTIONS.UNDO]: undo,\n  [EVAL_WORKER_ACTIONS.REDO]: redo,\n  [EVAL_WORKER_ACTIONS.UPDATE_REPLAY_OBJECT]: updateReplayObject,\n  [EVAL_WORKER_ACTIONS.VALIDATE_PROPERTY]: validateProperty,\n  [EVAL_WORKER_ACTIONS.UNINSTALL_LIBRARY]: uninstallLibrary,\n  [EVAL_WORKER_ACTIONS.LINT_TREE]: noop,\n  [EVAL_WORKER_ACTIONS.SETUP]: setupEvaluationEnvironment,\n  [EVAL_WORKER_ACTIONS.CLEAR_CACHE]: clearCache,\n  [EVAL_WORKER_ACTIONS.SET_EVALUATION_VERSION]: setEvaluationVersion,\n  [EVAL_WORKER_ACTIONS.INIT_FORM_EVAL]: initFormEval,\n  [EVAL_WORKER_ACTIONS.UPDATE_ACTION_DATA]: updateActionData,\n};\n\nconst asyncHandlerMap: Record<\n  EVAL_WORKER_ASYNC_ACTION,\n  (req: EvalWorkerASyncRequest) => any\n> = {\n  [EVAL_WORKER_ACTIONS.EVAL_TRIGGER]: evalTrigger,\n  [EVAL_WORKER_ACTIONS.EVAL_EXPRESSION]: evalExpression,\n  [EVAL_WORKER_ACTIONS.LOAD_LIBRARIES]: loadLibraries,\n  [EVAL_WORKER_ACTIONS.INSTALL_LIBRARY]: installLibrary,\n};\n\nconst transmissionErrorHandlerMap: Partial<\n  Record<\n    EVAL_WORKER_SYNC_ACTION | EVAL_WORKER_ASYNC_ACTION,\n    TransmissionErrorHandler\n  >\n> = {\n  [EVAL_WORKER_ACTIONS.EVAL_TREE]: evalTreeTransmissionErrorHandler,\n};\n\nexport { syncHandlerMap, asyncHandlerMap, transmissionErrorHandlerMap };\n","import { dataTreeEvaluator } from \"./evalTree\";\nimport { removeFunctions } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport type { EvalWorkerSyncRequest } from \"../types\";\n\nexport default function (request: EvalWorkerSyncRequest) {\n  const { data } = request;\n  const { bindings, executionParams } = data;\n  if (!dataTreeEvaluator) {\n    return { values: undefined, errors: [] };\n  }\n\n  const values = dataTreeEvaluator.evaluateActionBindings(\n    bindings,\n    executionParams,\n  );\n\n  const cleanValues = removeFunctions(values);\n\n  const errors = dataTreeEvaluator.errors;\n  dataTreeEvaluator.clearErrors();\n  return { values: cleanValues, errors };\n}\n","import ReplayEditor from \"entities/Replay/ReplayEntity/ReplayEditor\";\nimport type { EvalWorkerSyncRequest } from \"../types\";\nimport { CANVAS, replayMap } from \"./evalTree\";\n\nexport function undo(request: EvalWorkerSyncRequest) {\n  const { data } = request;\n  const { entityId } = data;\n  if (!replayMap) return;\n  if (!replayMap[entityId || CANVAS]) return;\n  const replayResult = replayMap[entityId || CANVAS].replay(\"UNDO\");\n  replayMap[entityId || CANVAS].clearLogs();\n  return replayResult;\n}\n\nexport function redo(request: EvalWorkerSyncRequest) {\n  const { data } = request;\n  const { entityId } = data;\n  if (!replayMap) return;\n  if (!replayMap[entityId ?? CANVAS]) return;\n  const replayResult = replayMap[entityId ?? CANVAS].replay(\"REDO\");\n  replayMap[entityId ?? CANVAS].clearLogs();\n  return replayResult;\n}\n\nexport function updateReplayObject(request: EvalWorkerSyncRequest) {\n  const { data } = request;\n  const { entity, entityId, entityType } = data;\n  if (!replayMap) return false;\n  const replayObject = replayMap[entityId];\n  if (replayObject) {\n    replayObject.update(entity);\n  } else {\n    replayMap[entityId] = new ReplayEditor(entity, entityType);\n  }\n  return true;\n}\n","import { validateWidgetProperty } from \"workers/common/DataTreeEvaluator/validationUtils\";\nimport { removeFunctions } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport type { EvalWorkerSyncRequest } from \"../types\";\n\nexport default function (request: EvalWorkerSyncRequest) {\n  const { data } = request;\n  const { property, props, validation, value } = data;\n  return removeFunctions(\n    validateWidgetProperty(validation, value, props, property),\n  );\n}\n","import { unsafeFunctionForEval } from \"utils/DynamicBindingUtils\";\nimport setupDOM from \"../SetupDOM\";\nimport type { EvalWorkerSyncRequest } from \"../types\";\nimport { addPlatformFunctionsToEvalContext } from \"@appsmith/workers/Evaluation/Actions\";\nimport { overrideWebAPIs } from \"../fns/overrides\";\nimport { WorkerEnv } from \"./workerEnv\";\n\nexport default function (request: EvalWorkerSyncRequest) {\n  self.$isDataField = false;\n  ///// Remove all unsafe functions\n  unsafeFunctionForEval.forEach((func) => {\n    // @ts-expect-error: Types are not available\n    self[func] = undefined;\n  });\n  setupDOM();\n  overrideWebAPIs(self);\n\n  WorkerEnv.setFeatureFlags(request.data.featureFlags);\n  WorkerEnv.setCloudHosting(request.data.cloudHosting);\n  addPlatformFunctionsToEvalContext(self);\n  return true;\n}\n\nexport function setEvaluationVersion(request: EvalWorkerSyncRequest) {\n  const { data } = request;\n  const { version } = data;\n  self.evaluationVersion = version || 1;\n  return true;\n}\n","//@ts-expect-error no types.\nimport * as documentMock from \"linkedom/worker\";\n\nexport default function () {\n  for (const [key, value] of Object.entries(documentMock)) {\n    //@ts-expect-error no types\n    self[key] = value;\n  }\n  const dom = documentMock.parseHTML(`<!DOCTYPE html><body></body>`);\n  self.window = dom.window;\n  self.document = dom.window.document;\n  self.window = self;\n}\n","import { setFormEvaluationSaga } from \"../formEval\";\nimport type { EvalWorkerSyncRequest } from \"../types\";\n\nexport default function (request: EvalWorkerSyncRequest) {\n  const { data } = request;\n  const { currentEvalState, payload, type } = data;\n  const response = setFormEvaluationSaga(type, payload, currentEvalState);\n  return response;\n}\n","import { klona } from \"klona/full\";\nimport { evaluateAsync } from \"../evaluate\";\nimport type { EvalWorkerASyncRequest } from \"../types\";\nimport { dataTreeEvaluator } from \"./evalTree\";\n\nexport default function (request: EvalWorkerASyncRequest) {\n  const { data } = request;\n  const { expression } = data;\n  const evalTree = dataTreeEvaluator?.evalTree;\n  const configTree = dataTreeEvaluator?.configTree;\n  if (!evalTree || !configTree) return {};\n  return evaluateAsync(expression, klona(evalTree), configTree, {}, undefined);\n}\n","// Workers do not have access to log.error\n/* eslint-disable no-console */\nimport type { EvalWorkerASyncRequest, EvalWorkerSyncRequest } from \"./types\";\nimport {\n  syncHandlerMap,\n  asyncHandlerMap,\n  transmissionErrorHandlerMap,\n} from \"./handlers\";\nimport type { TMessage } from \"utils/MessageUtil\";\nimport { MessageType } from \"utils/MessageUtil\";\nimport { WorkerMessenger } from \"./fns/utils/Messenger\";\n\n//TODO: Create a more complete RPC setup in the subtree-eval branch.\nfunction syncRequestMessageListener(\n  e: MessageEvent<TMessage<EvalWorkerSyncRequest>>,\n) {\n  const { messageType } = e.data;\n  if (messageType !== MessageType.REQUEST) return;\n  const startTime = Date.now();\n  const { body, messageId } = e.data;\n  const { method } = body;\n  if (!method) return;\n  const messageHandler = syncHandlerMap[method];\n  if (typeof messageHandler !== \"function\") return;\n  const responseData = messageHandler(body);\n  const transmissionErrorHandler = transmissionErrorHandlerMap[method];\n  const endTime = Date.now();\n  WorkerMessenger.respond(\n    messageId,\n    responseData,\n    startTime,\n    endTime,\n    transmissionErrorHandler,\n  );\n}\n\nasync function asyncRequestMessageListener(\n  e: MessageEvent<TMessage<EvalWorkerASyncRequest>>,\n) {\n  const { messageType } = e.data;\n  if (messageType !== MessageType.REQUEST) return;\n  const start = Date.now();\n  const { body, messageId } = e.data;\n  const { method } = body;\n  if (!method) return;\n  const messageHandler = asyncHandlerMap[method];\n  if (typeof messageHandler !== \"function\") return;\n  const data = await messageHandler(body);\n  const end = Date.now();\n  const transmissionErrorHandler = transmissionErrorHandlerMap[method];\n  WorkerMessenger.respond(\n    messageId,\n    data,\n    start,\n    end,\n    transmissionErrorHandler,\n  );\n}\n\nself.addEventListener(\"message\", syncRequestMessageListener);\nself.addEventListener(\"message\", asyncRequestMessageListener);\n\nself.addEventListener(\"error\", (e) => {\n  e.preventDefault();\n  console.error(e.message);\n});\n\nself.addEventListener(\"unhandledrejection\", (e) => {\n  e.preventDefault();\n  // We might want to send this error to the main thread in the future.\n  // console error will log the error to the logs tab against trigger field.\n  console.error(e.reason.message);\n});\n","import { uuid4 } from \"@sentry/utils\";\nimport type {\n  LogObject,\n  Methods,\n  SourceEntity,\n} from \"entities/AppsmithConsole\";\nimport { Severity } from \"entities/AppsmithConsole\";\nimport { ENTITY_TYPE } from \"@appsmith/entities/AppsmithConsole/utils\";\nimport { klona } from \"klona/lite\";\nimport moment from \"moment\";\nimport type { TriggerMeta } from \"@appsmith/sagas/ActionExecution/ActionExecutionSagas\";\nimport TriggerEmitter from \"../utils/TriggerEmitter\";\nimport type { EventEmitter } from \"events\";\nimport ExecutionMetaData from \"../utils/ExecutionMetaData\";\n\nclass UserLog {\n  private isEnabled = true;\n  enable() {\n    this.isEnabled = true;\n  }\n  disable() {\n    this.isEnabled = false;\n  }\n  private emitter?: EventEmitter;\n\n  private saveLog(method: Methods, data: any[]) {\n    const parsed = this.parseLogs(method, data);\n    this.emitter?.emit(\"process_logs\", parsed);\n  }\n\n  public overrideConsoleAPI() {\n    this.emitter = TriggerEmitter;\n    const { debug, error, info, log, table, warn } = console;\n    console = {\n      ...console,\n      table: (...args: any) => {\n        if (!this.isEnabled) return;\n        table.call(this, args);\n        this.saveLog(\"table\", args);\n      },\n      error: (...args: any) => {\n        if (!this.isEnabled) return;\n        error.apply(this, args);\n        this.saveLog(\"error\", args);\n      },\n      log: (...args: any) => {\n        if (!this.isEnabled) return;\n        log.apply(this, args);\n        this.saveLog(\"log\", args);\n      },\n      debug: (...args: any) => {\n        if (!this.isEnabled) return;\n        debug.apply(this, args);\n        this.saveLog(\"debug\", args);\n      },\n      warn: (...args: any) => {\n        if (!this.isEnabled) return;\n        warn.apply(this, args);\n        this.saveLog(\"warn\", args);\n      },\n      info: (...args: any) => {\n        if (!this.isEnabled) return;\n        info.apply(this, args);\n        this.saveLog(\"info\", args);\n      },\n    };\n  }\n  private replaceFunctionWithNamesFromObjects(data: any) {\n    if (typeof data === \"function\") return `func() ${data.name}`;\n    if (!data || typeof data !== \"object\") return data;\n    if (data instanceof Promise) return \"Promise\";\n    const acc: any =\n      Object.prototype.toString.call(data) === \"[object Array]\" ? [] : {};\n    return Object.keys(data).reduce((acc, key) => {\n      acc[key] = this.replaceFunctionWithNamesFromObjects(data[key]);\n      return acc;\n    }, acc);\n  }\n  // iterates over the data and if data is object/array, then it will remove any functions from it\n  private sanitizeData(data: any): any {\n    try {\n      const returnData = this.replaceFunctionWithNamesFromObjects(data);\n      return returnData;\n    } catch (e) {\n      return [`There was some error: ${e} ${JSON.stringify(data)}`];\n    }\n  }\n\n  private getSource = (triggerMeta?: TriggerMeta): SourceEntity => {\n    const type = triggerMeta?.source?.entityType || ENTITY_TYPE.JSACTION;\n    const name =\n      triggerMeta?.source?.name || triggerMeta?.triggerPropertyName || \"\";\n    const propertyPath = triggerMeta?.triggerPropertyName || \"\";\n    const id = triggerMeta?.source?.id || \"\";\n    //@ts-expect-error : we are not using the source entity in the console\n    return { type, name, id, propertyPath };\n  };\n\n  // parses the incoming log and converts it to the log object\n  private parseLogs(method: Methods, data: any[]): LogObject {\n    // Create an ID\n    const id = uuid4();\n    const timestamp = moment().format(\"HH:mm:ss\");\n    // Parse the methods\n    let output = data;\n    // For logs UI we only keep 3 levels of severity, info, warn, error\n    let severity = Severity.INFO;\n    if (method === \"error\") {\n      severity = Severity.ERROR;\n      output = data.map((error) => {\n        return error?.stack || error;\n      });\n    } else if (method === \"warn\") {\n      severity = Severity.WARNING;\n    }\n\n    const { triggerMeta } = ExecutionMetaData.getExecutionMetaData();\n    return {\n      method,\n      id,\n      data: this.sanitizeData(klona(output)),\n      timestamp,\n      severity,\n      source: this.getSource(triggerMeta),\n    };\n  }\n}\n\nconst userLogs = new UserLog();\n\nexport default userLogs;\n","import ExecutionMetaData from \"../utils/ExecutionMetaData\";\n\nconst _internalSetInterval = self.setInterval;\nconst _internalClearInterval = self.clearInterval;\n\nconst intervalIdMap = new Map<number | string, number>();\n\nexport function clearAllIntervals() {\n  intervalIdMap.forEach((intervalId) => _internalClearInterval(intervalId));\n  intervalIdMap.clear();\n}\n\nexport function clearInterval(intervalId: number | string) {\n  const runningIntervalId = intervalIdMap.get(intervalId);\n  intervalIdMap.delete(intervalId);\n  return _internalClearInterval(runningIntervalId);\n}\n\nexport function setInterval(\n  callback: (...args: any[]) => void,\n  delay = 300,\n  ...args: any[]\n) {\n  const metaData = ExecutionMetaData.getExecutionMetaData();\n  const runningIntervalId = intervalIdMap.get(args[0]);\n  if (runningIntervalId) {\n    _internalClearInterval(runningIntervalId);\n    intervalIdMap.delete(args[0]);\n  }\n  const _internalIntervalId = _internalSetInterval(\n    (...args: any[]) => {\n      self[\"$isDataField\"] = false;\n      ExecutionMetaData.setExecutionMetaData(metaData);\n      typeof callback === \"function\" && callback(...args);\n    },\n    delay,\n    ...args,\n  );\n  const customIntervalId = args[0] || _internalIntervalId;\n  intervalIdMap.set(customIntervalId, _internalIntervalId);\n  return _internalIntervalId;\n}\n","import { ActionCalledInSyncFieldError } from \"workers/Evaluation/errorModifier\";\n\ntype FnGuard = (fn: (...args: any[]) => unknown, fnName: string) => unknown;\n\nexport function addFn(\n  ctx: any,\n  fnName: string,\n  fn: (...args: any[]) => any,\n  fnGuards = [isAsyncGuard],\n) {\n  Object.defineProperty(ctx, fnName, {\n    value: function (...args: any[]) {\n      const fnWithGuards = getFnWithGuards(fn, fnName, fnGuards);\n      return fnWithGuards(...args);\n    },\n    enumerable: false,\n    writable: true,\n    configurable: true,\n  });\n}\n\nexport function isAsyncGuard<P extends ReadonlyArray<unknown>>(\n  fn: (...args: P) => unknown,\n  fnName: string,\n) {\n  if (self.$isDataField) {\n    self[\"$isAsync\"] = true;\n    throw new ActionCalledInSyncFieldError(fnName);\n  }\n}\n\nexport function getFnWithGuards(\n  fn: (...args: any[]) => unknown,\n  fnName: string,\n  fnGuards: FnGuard[],\n) {\n  return (...args: any[]) => {\n    for (const guard of fnGuards) {\n      guard(fn, fnName);\n    }\n    return fn(...args);\n  };\n}\n","import type {\n  DynamicValues,\n  EvaluatedFormConfig,\n  FormEvalOutput,\n  FormEvaluationState,\n  FormConfigEvalObject,\n  DynamicValuesConfig,\n} from \"reducers/evaluationReducers/formEvaluationReducer\";\nimport { ReduxActionTypes } from \"@appsmith/constants/ReduxActionConstants\";\nimport type { ActionConfig } from \"entities/Action\";\nimport type { FormEvalActionPayload } from \"sagas/FormEvaluationSaga\";\nimport type { FormConfigType } from \"components/formControls/BaseControl\";\nimport { isArray, isEmpty, isString, merge, uniq } from \"lodash\";\nimport { extractEvalConfigFromFormConfig } from \"components/formControls/utils\";\nimport { isDynamicValue } from \"utils/DynamicBindingUtils\";\nimport { isTrueObject } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport type { DatasourceConfiguration } from \"entities/Datasource\";\n\nexport enum ConditionType {\n  HIDE = \"hide\", // When set, the component will be shown until condition is true\n  SHOW = \"show\", // When set, the component will be hidden until condition is true\n  ENABLE = \"enable\", // When set, the component will be enabled until condition is true\n  DISABLE = \"disable\", // When set, the component will be disabled until condition is true\n  FETCH_DYNAMIC_VALUES = \"fetchDynamicValues\", // When set, the component will fetch the values dynamically\n  EVALUATE_FORM_CONFIG = \"evaluateFormConfig\", // When set, the component will evaluate the form config settings\n}\n\nexport enum FormDataPaths {\n  COMMAND = \"actionConfiguration.formData.command.data\",\n  ENTITY_TYPE = \"actionConfiguration.formData.entityType.data\",\n}\n\n// Object to hold the initial eval object\nlet finalEvalObj: FormEvalOutput;\n\n// This variable, holds an array of strings that represent the path for the evalConfigs.\n// This path os used to configure the evalFormConfig objects for various form configs\nlet evalConfigPaths: string[] = [];\n\n// This regex matches the config property string up to countless places.\nexport const MATCH_ACTION_CONFIG_PROPERTY =\n  /\\b(actionConfiguration\\.\\w+.(?:(\\w+.)){1,})\\b/g;\nexport function matchExact(r: RegExp, str: string) {\n  const match = str.match(r);\n  return match || [];\n}\n\n// Recursive function to generate the evaluation state for form config\nconst generateInitialEvalState = (formConfig: FormConfigType) => {\n  const conditionals: Record<string, any> = {};\n  const conditionTypes: Record<string, any> = {};\n  let dependencyPaths: string[] = [];\n\n  // // Any element is only added to the eval state if they have a conditional statement present, if not they are allowed to be rendered\n  // if (\"conditionals\" in formConfig && !!formConfig.conditionals) {\n  let key = \"unknowns\";\n\n  // A unique key is used to refer the object in the eval state, can be propertyName, configProperty or identifier\n  if (\"propertyName\" in formConfig && !!formConfig.propertyName) {\n    key = formConfig.propertyName;\n  } else if (\"configProperty\" in formConfig && !!formConfig.configProperty) {\n    key = formConfig.configProperty;\n  } else if (\"identifier\" in formConfig && !!formConfig.identifier) {\n    key = formConfig.identifier;\n  }\n\n  // Any element is only added to the eval state if they have a conditional statement present, if not they are allowed to be rendered\n  if (\"conditionals\" in formConfig && !!formConfig.conditionals) {\n    const allConditionTypes = Object.keys(formConfig.conditionals);\n    if (\n      allConditionTypes.includes(ConditionType.HIDE) ||\n      allConditionTypes.includes(ConditionType.SHOW)\n    ) {\n      conditionTypes.visible = false;\n      merge(conditionals, formConfig.conditionals);\n\n      const showOrHideDependencies = matchExact(\n        MATCH_ACTION_CONFIG_PROPERTY,\n        formConfig.conditionals?.show || formConfig.conditionals?.hide || \"\",\n      );\n\n      dependencyPaths = [...dependencyPaths, ...showOrHideDependencies];\n    }\n\n    if (\n      allConditionTypes.includes(ConditionType.ENABLE) ||\n      allConditionTypes.includes(ConditionType.DISABLE)\n    ) {\n      conditionTypes.enabled = true;\n      merge(conditionals, formConfig.conditionals);\n\n      const enableOrDisableDependencies = matchExact(\n        MATCH_ACTION_CONFIG_PROPERTY,\n        formConfig.conditionals?.enable ||\n          formConfig.conditionals?.disable ||\n          \"\",\n      );\n\n      dependencyPaths = [...dependencyPaths, ...enableOrDisableDependencies];\n    }\n\n    // if (allConditionTypes.includes(ConditionType.EVALUATE_FORM_CONFIG)) {\n    //   // Setting the component as invisible since it has elements that will be evaluated later\n    //   conditionTypes.visible = false;\n    //   const evaluateFormConfig: EvaluatedFormConfig = {\n    //     updateEvaluatedConfig: false,\n    //     paths: formConfig.conditionals.evaluateFormConfig.paths,\n    //     evaluateFormConfigObject: extractEvalConfigFromFormConfig(\n    //       formConfig,\n    //       formConfig.conditionals.evaluateFormConfig.paths,\n    //     ),\n    //   };\n    //   conditionTypes.evaluateFormConfig = evaluateFormConfig;\n    //   conditionals.evaluateFormConfig =\n    //     formConfig.conditionals.evaluateFormConfig.condition;\n    // }\n\n    if (allConditionTypes.includes(ConditionType.FETCH_DYNAMIC_VALUES)) {\n      const fetchDynamicValuesDependencies = matchExact(\n        MATCH_ACTION_CONFIG_PROPERTY,\n        formConfig.conditionals?.fetchDynamicValues?.condition || \"\",\n      );\n      let dynamicDependencyPathList: Set<string> | undefined;\n\n      if (fetchDynamicValuesDependencies.length > 0) {\n        dynamicDependencyPathList = new Set(fetchDynamicValuesDependencies);\n      } else {\n        dynamicDependencyPathList = undefined;\n      }\n\n      const dynamicValues: DynamicValues = {\n        allowedToFetch: false,\n        isLoading: false,\n        hasStarted: false,\n        hasFetchFailed: false,\n        data: [],\n        config: formConfig.conditionals.fetchDynamicValues.config,\n        dynamicDependencyPathList,\n        evaluatedConfig: { params: {} },\n      };\n      conditionTypes.fetchDynamicValues = dynamicValues;\n      conditionals.fetchDynamicValues =\n        formConfig.conditionals.fetchDynamicValues.condition;\n    }\n\n    // make the evalConfigPaths empty before calling the generateFormEvalFormConfigPaths\n    // this is helpful since we are iterating through the form configs and we do not want to store the value of a\n    // prev form config into another one.\n    evalConfigPaths = [];\n\n    // recursively generate the paths for form cofigs that need evalFormConfig.\n    // and we store them in the evalFormFonfig\n    generateEvalFormConfigPaths(formConfig);\n\n    // we generate a unique array of paths, if the paths are greater than 0,\n    // we generate and add the evaluateFormConfig object to the current formConfig.\n    if (uniq(evalConfigPaths).length > 0) {\n      conditionTypes.visible = false;\n      const evaluateFormConfig: EvaluatedFormConfig = {\n        updateEvaluatedConfig: false,\n        paths: uniq(evalConfigPaths),\n        evaluateFormConfigObject: extractEvalConfigFromFormConfig(\n          formConfig,\n          uniq(evalConfigPaths),\n        ),\n      };\n      conditionTypes.evaluateFormConfig = evaluateFormConfig;\n      conditionals.evaluateFormConfig = \"{{true}}\";\n    }\n  }\n\n  // keep the configProperty in the formConfig values.\n  let configPropertyPath;\n  if (!!formConfig.configProperty) {\n    configPropertyPath = formConfig.configProperty;\n  }\n\n  let staticDependencyPathList: Set<string> | undefined;\n\n  if (dependencyPaths.length > 0) {\n    staticDependencyPathList = new Set(dependencyPaths);\n  } else {\n    staticDependencyPathList = undefined;\n  }\n\n  // Conditionals are stored in the eval state itself for quick access\n  finalEvalObj[key] = {\n    ...conditionTypes,\n    conditionals,\n    configPropertyPath,\n    staticDependencyPathList,\n  };\n\n  if (\"children\" in formConfig && !!formConfig.children)\n    formConfig.children.forEach((config: FormConfigType) =>\n      generateInitialEvalState(config),\n    );\n\n  if (\"schema\" in formConfig && !!formConfig.schema)\n    formConfig.schema.forEach((config: FormConfigType) =>\n      generateInitialEvalState({ ...config }),\n    );\n};\n\n// The idea here is to recursively go through each of the key value pairs of the current form config\n// then we check if the form config or its children/options/schemas have dynamic values\n// if the children/options/schemas have dynamic values within them, we add the key name of the parent to the evalFormConfigPaths\n// this might sound strange but we add the evaluateFormConfig property to the parent.\n// this is why we pass the parent key into the function and use it to update the evalFormConfig.\nfunction generateEvalFormConfigPaths(\n  formConfig: FormConfigType,\n  parentKey = \"\",\n) {\n  // this stores all the paths for the current form config,\n  // we then use this path to update the evalFormConfig array with the parent\n  const paths: string[] = [];\n  // we never check the conditionals object, or the placeholderText.\n  // we also never check children and schema cause the recursive function that this function is called in already checks the children and schemas (to prevent double recursive checks).\n  // the second placeHolderText is due to a rogue value in the formConfig of one of S3 datasource form config.\n  const configToBeChecked = {\n    ...formConfig,\n    conditionals: undefined,\n    children: undefined,\n    schema: undefined,\n    placeholderText: undefined,\n    placeHolderText: undefined,\n  };\n\n  Object.entries(configToBeChecked).forEach(([key, value]) => {\n    // we check if the current value for the key is a dynamic value, if yes, we push the current key into our paths array.\n    if (!!value) {\n      if (isString(value)) {\n        if (isDynamicValue(value)) {\n          paths.push(key);\n          // if parent key is empty, then there is a very good chance it's coming from the root form config.\n          // and in that case we can just set it to it.\n          if (!parentKey) parentKey = key;\n        }\n      }\n\n      // if it's an array, we run it recursively on the array values.\n      if (isArray(value)) {\n        value.forEach((val) => {\n          generateEvalFormConfigPaths(val, key);\n        });\n      }\n\n      // if it is an object, we do the same.\n      if (isTrueObject(value as FormConfigType)) {\n        generateEvalFormConfigPaths(value, key);\n      }\n    }\n  });\n\n  // if the path array is greater than one, we update the evalConfigPaths with parent key.\n  if (paths.length > 0) {\n    evalConfigPaths.push(parentKey);\n  }\n}\n\nfunction evaluateDynamicValuesConfig(\n  actionConfiguration: ActionConfig,\n  config: Record<string, any>,\n) {\n  const evaluatedConfig: Record<string, any> = { ...config };\n  const configArray = Object.entries(config);\n  if (configArray.length > 0) {\n    configArray.forEach(([key, value]) => {\n      if (typeof value === \"object\") {\n        evaluatedConfig[key] = evaluateDynamicValuesConfig(\n          actionConfiguration,\n          value,\n        );\n      } else if (typeof value === \"string\" && value.length > 0) {\n        if (isDynamicValue(value)) {\n          let evaluatedValue = \"\";\n          try {\n            evaluatedValue = eval(value);\n          } catch (e) {\n            evaluatedValue = \"error\";\n          } finally {\n            evaluatedConfig[key] = evaluatedValue;\n          }\n        }\n      }\n    });\n  }\n  return evaluatedConfig;\n}\n\nfunction evaluateFormConfigElements(\n  actionConfiguration: ActionConfig,\n  config: FormConfigEvalObject,\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n  datasourceConfiguration?: DatasourceConfiguration,\n) {\n  const paths = Object.keys(config);\n  if (paths.length > 0) {\n    paths.forEach((path) => {\n      const { expression } = config[path];\n      try {\n        const evaluatedVal = eval(expression);\n        config[path].output = evaluatedVal;\n      } catch (e) {}\n    });\n  }\n  return config;\n}\n\n// Function to run the eval for the whole form when data changes\nfunction evaluate(\n  actionConfiguration: ActionConfig,\n  currentEvalState: FormEvalOutput,\n  actionDiffPath?: string,\n  hasRouteChanged?: boolean,\n  datasourceConfiguration?: DatasourceConfiguration,\n) {\n  Object.keys(currentEvalState).forEach((key: string) => {\n    try {\n      if (currentEvalState[key].hasOwnProperty(\"conditionals\")) {\n        const conditionBlock = currentEvalState[key].conditionals;\n        if (!!conditionBlock) {\n          Object.keys(conditionBlock).forEach((conditionType: string) => {\n            const output = eval(conditionBlock[conditionType]);\n            if (conditionType === ConditionType.HIDE) {\n              currentEvalState[key].visible = !output;\n            } else if (conditionType === ConditionType.SHOW) {\n              currentEvalState[key].visible = output;\n            } else if (conditionType === ConditionType.DISABLE) {\n              currentEvalState[key].enabled = !output;\n            } else if (conditionType === ConditionType.ENABLE) {\n              currentEvalState[key].enabled = output;\n            } else if (\n              conditionType === ConditionType.FETCH_DYNAMIC_VALUES &&\n              currentEvalState[key].hasOwnProperty(\"fetchDynamicValues\") &&\n              !!currentEvalState[key].fetchDynamicValues\n            ) {\n              // this boolean value represents if the current action diff path is a dependency to the form config.\n              let isActionDiffADependency = false;\n\n              // If the key in the currentEval state has dynamicDependencyPathList, we check to see if the path of the changed value\n              // exists in the path list, if it does, we evaluate the dynamicValues and fetch the data via API call,\n              // but if the value does not exist in the path list, we prevent the dynamic value from being refetched via API call.\n              // in other words, if the current actionDiffPath is a dependency, then isActionDiffADependency becomes true.\n              if (\n                currentEvalState[key] &&\n                !!currentEvalState[key]?.fetchDynamicValues\n                  ?.dynamicDependencyPathList &&\n                !isEmpty(\n                  currentEvalState[key]?.fetchDynamicValues\n                    ?.dynamicDependencyPathList,\n                ) &&\n                !!actionDiffPath &&\n                currentEvalState[\n                  key\n                ]?.fetchDynamicValues?.dynamicDependencyPathList?.has(\n                  actionDiffPath,\n                )\n              ) {\n                isActionDiffADependency = true;\n              }\n\n              // if the actionDiffPath is a dependency or if the route has changed (navigated to another action/page) of if there's no actionDiffPath at all (when the page is refreshed)\n              // we want to trigger an API call for the dynamic values.\n              if (\n                isActionDiffADependency ||\n                !actionDiffPath ||\n                hasRouteChanged\n              ) {\n                (\n                  currentEvalState[key].fetchDynamicValues as DynamicValues\n                ).allowedToFetch = output;\n                (\n                  currentEvalState[key].fetchDynamicValues as DynamicValues\n                ).isLoading = output;\n                (\n                  currentEvalState[key].fetchDynamicValues as DynamicValues\n                ).evaluatedConfig = evaluateDynamicValuesConfig(\n                  actionConfiguration,\n                  (currentEvalState[key].fetchDynamicValues as DynamicValues)\n                    .config,\n                ) as DynamicValuesConfig;\n              } else {\n                (\n                  currentEvalState[key].fetchDynamicValues as DynamicValues\n                ).allowedToFetch = false;\n                (\n                  currentEvalState[key].fetchDynamicValues as DynamicValues\n                ).isLoading = false;\n              }\n            } else if (\n              conditionType === ConditionType.EVALUATE_FORM_CONFIG &&\n              currentEvalState[key].hasOwnProperty(\"evaluateFormConfig\") &&\n              !!currentEvalState[key].evaluateFormConfig\n            ) {\n              (\n                currentEvalState[key].evaluateFormConfig as EvaluatedFormConfig\n              ).updateEvaluatedConfig = output;\n              currentEvalState[key].visible = output;\n              if (output && !!currentEvalState[key].evaluateFormConfig)\n                (\n                  currentEvalState[key]\n                    .evaluateFormConfig as EvaluatedFormConfig\n                ).evaluateFormConfigObject = evaluateFormConfigElements(\n                  actionConfiguration,\n                  (\n                    currentEvalState[key]\n                      .evaluateFormConfig as EvaluatedFormConfig\n                  ).evaluateFormConfigObject,\n                  datasourceConfiguration,\n                );\n            }\n          });\n        }\n      }\n    } catch (e) {}\n  });\n  return currentEvalState;\n}\n\n// Fetches current evaluation and runs a new one based on the new data\nfunction getFormEvaluation(\n  formId: string,\n  actionConfiguration: ActionConfig,\n  currentEvalState: FormEvaluationState,\n  actionDiffPath?: string,\n  hasRouteChanged?: boolean,\n  datasourceConfiguration?: DatasourceConfiguration,\n): FormEvaluationState {\n  // Only change the form evaluation state if the form ID is same or the evaluation state is present\n  if (!!currentEvalState && currentEvalState.hasOwnProperty(formId)) {\n    const currentFormIdEvalState = currentEvalState[formId];\n    // specific conditions to be evaluated\n    let conditionToBeEvaluated = {};\n    // dynamic conditions always need evaluations\n    let dynamicConditionsToBeFetched = {};\n    for (const [key, value] of Object.entries(currentFormIdEvalState)) {\n      if (\n        value &&\n        !!value.configPropertyPath &&\n        !!actionDiffPath &&\n        actionDiffPath?.includes(value.configPropertyPath)\n      ) {\n        conditionToBeEvaluated = { ...conditionToBeEvaluated, [key]: value };\n      }\n\n      // static dependency pathlist should be a key of identifiers that point to formControls that are dependent on the result of the current form config value.\n      // it is important to note the difference between staticDependencyPathList and dynamicDependencyPathList is that the former is for formConfigs that don't require API calls.\n      // they are mostly layout based i.e. show/hide, enable/disable\n      if (!!value.staticDependencyPathList && !!actionDiffPath) {\n        value.staticDependencyPathList.forEach(() => {\n          if (value.staticDependencyPathList?.has(actionDiffPath)) {\n            conditionToBeEvaluated = {\n              ...conditionToBeEvaluated,\n              [key]: value,\n            };\n          }\n        });\n      }\n\n      // if there are dynamic values present, add them to the condition to be evaluated.\n      if (value && (!!value.fetchDynamicValues || !!value.evaluateFormConfig)) {\n        dynamicConditionsToBeFetched = {\n          ...dynamicConditionsToBeFetched,\n          [key]: value,\n        };\n      }\n    }\n\n    // if no condition is to be evaluated or if the currently changing action diff path is the command path\n    // then we run evaluations on the whole form.\n    if (\n      isEmpty(conditionToBeEvaluated) ||\n      actionDiffPath === FormDataPaths.COMMAND\n    ) {\n      conditionToBeEvaluated = evaluate(\n        actionConfiguration,\n        currentEvalState[formId],\n        actionDiffPath,\n        hasRouteChanged,\n        datasourceConfiguration,\n      );\n    } else {\n      conditionToBeEvaluated = {\n        ...conditionToBeEvaluated,\n        ...dynamicConditionsToBeFetched,\n      };\n      conditionToBeEvaluated = evaluate(\n        actionConfiguration,\n        conditionToBeEvaluated,\n        actionDiffPath,\n        hasRouteChanged,\n        datasourceConfiguration,\n      );\n    }\n\n    currentEvalState[formId] = {\n      ...currentEvalState[formId],\n      ...conditionToBeEvaluated,\n    };\n  }\n\n  return currentEvalState;\n}\n\n// Filter function to assign a function to the Action dispatched\nexport function setFormEvaluationSaga(\n  type: string,\n  payload: FormEvalActionPayload,\n  currentEvalState: FormEvaluationState,\n) {\n  if (type === ReduxActionTypes.INIT_FORM_EVALUATION) {\n    finalEvalObj = {};\n\n    // Config is extracted from the editor json first\n    if (\n      \"editorConfig\" in payload &&\n      !!payload.editorConfig &&\n      payload.editorConfig.length > 0\n    ) {\n      payload.editorConfig.forEach((config: FormConfigType) => {\n        generateInitialEvalState(config);\n      });\n    }\n\n    // Then the form config is extracted from the settings json\n    if (\n      \"settingConfig\" in payload &&\n      !!payload.settingConfig &&\n      payload.settingConfig.length > 0\n    ) {\n      payload.settingConfig.forEach((config: FormConfigType) => {\n        generateInitialEvalState(config);\n      });\n    }\n\n    // if the evaluations are empty, then the form is not valid, don't mutate the state\n    if (isEmpty(finalEvalObj)) {\n      return currentEvalState;\n    }\n\n    // This is the initial evaluation state, evaluations can now be run on top of this\n    return { [payload.formId]: finalEvalObj };\n  } else {\n    const {\n      actionConfiguration,\n      actionDiffPath,\n      datasourceConfiguration,\n      formId,\n      hasRouteChanged,\n    } = payload;\n    // In case the formData is not ready or the form is not of type UQI, return empty state\n    if (!actionConfiguration || !actionConfiguration.formData) {\n      return currentEvalState;\n    } else {\n      return getFormEvaluation(\n        formId,\n        actionConfiguration,\n        currentEvalState,\n        actionDiffPath,\n        hasRouteChanged,\n        datasourceConfiguration,\n      );\n    }\n  }\n}\n","import type { Diff } from \"deep-diff\";\nimport type { CanvasWidgetsReduxState } from \"reducers/entityReducers/canvasWidgetsReducer\";\nimport ReplayEntity from \"../index\";\nimport { set } from \"lodash\";\nimport {\n  addToArray,\n  FOCUSES,\n  setPropertyUpdate,\n  TOASTS,\n  UPDATES,\n  WIDGETS,\n} from \"../replayUtils\";\nimport type { AppTheme } from \"entities/AppTheming\";\nimport { ENTITY_TYPE } from \"@appsmith/entities/AppsmithConsole/utils\";\n\nexport interface Canvas {\n  widgets: CanvasWidgetsReduxState;\n  theme: AppTheme;\n}\nexport type CanvasDiff = Diff<Canvas, Canvas>;\nexport type DSLDiff = Diff<CanvasWidgetsReduxState, CanvasWidgetsReduxState>;\n\nconst positionProps = [\n  \"leftColumn\",\n  \"rightColumn\",\n  \"topRow\",\n  \"bottomRow\",\n  \"minHeight\",\n  \"parentColumnSpace\",\n  \"parentRowSpace\",\n  \"children\",\n  \"parentId\",\n  \"renderMode\",\n  \"detachFromLayout\",\n  \"noContainerOffset\",\n  \"isCanvas\",\n  \"height\",\n];\n\n/**\n * checks property changed is a positional property\n *\n * @param widgetProperty\n * @returns\n */\nfunction isPositionUpdate(widgetProperty: string) {\n  return positionProps.indexOf(widgetProperty) !== -1;\n}\nexport default class ReplayCanvas extends ReplayEntity<Canvas> {\n  public constructor(entity: Canvas) {\n    super(entity, ENTITY_TYPE.WIDGET);\n  }\n\n  /**\n   * process the diff\n   *\n   * @param diff\n   * @param replay\n   * @param isUndo\n   * @returns\n   */\n  public processDiff(diff: CanvasDiff, replay: any, isUndo: boolean) {\n    if (!diff || !diff.path || !diff.path.length || diff.path[1] === \"0\")\n      return;\n\n    if (diff.path.indexOf(\"widgets\") > -1) {\n      return this.processDiffForWidgets(diff, replay, isUndo);\n    }\n\n    if (diff.path.indexOf(\"theme\") > -1) {\n      return this.processDiffForTheme(diff, replay);\n    }\n  }\n\n  /**\n   * process diff related to app theming\n   *\n   * @param diff\n   * @param replay\n   * @param isUndo\n   */\n  public processDiffForTheme(diff: CanvasDiff, replay: any) {\n    if (!diff || !diff.path || !diff.path.length || diff.path[1] === \"0\")\n      return;\n\n    set(replay, \"theme\", true);\n\n    if (diff.path.join(\".\") === \"theme.name\") {\n      set(replay, \"themeChanged\", true);\n    }\n  }\n\n  /**\n   * process diffs related to DSL ( widgets )\n   *\n   * @param diff\n   * @param replay\n   * @param isUndo\n   * @returns\n   */\n  public processDiffForWidgets(diff: CanvasDiff, replay: any, isUndo: boolean) {\n    if (!diff || !diff.path || !diff.path.length || diff.path[1] === \"0\")\n      return;\n\n    const widgetId = diff.path[1];\n\n    switch (diff.kind) {\n      // new elements is added in dsl\n      case \"N\":\n        if (diff.path.length == 2) {\n          const toast = this.createToast(\n            diff.rhs,\n            this.entity.widgets[widgetId],\n            widgetId,\n            isUndo,\n            !isUndo,\n          );\n          addToArray(replay, TOASTS, toast);\n        } else {\n          setPropertyUpdate(replay, [WIDGETS, widgetId, UPDATES], diff.path);\n        }\n        break;\n      // element is deleted in dsl\n      case \"D\":\n        if (diff.path.length == 2) {\n          const toast = this.createToast(\n            diff.lhs,\n            this.entity.widgets[widgetId],\n            widgetId,\n            isUndo,\n            isUndo,\n          );\n          addToArray(replay, TOASTS, toast);\n        } else {\n          setPropertyUpdate(replay, [WIDGETS, widgetId, UPDATES], diff.path);\n        }\n        break;\n      // element is edited\n      case \"E\":\n        if (isPositionUpdate(diff.path[diff.path.length - 2])) {\n          set(replay, [WIDGETS, widgetId, FOCUSES], true);\n        } else {\n          setPropertyUpdate(replay, [WIDGETS, widgetId, UPDATES], diff.path);\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  private createToast(\n    diffWidget: any,\n    dslWidget: CanvasWidgetsReduxState | undefined,\n    widgetId: string,\n    isUndo: boolean,\n    isCreated: boolean,\n  ) {\n    const widgetName = isCreated\n      ? diffWidget.widgetName\n      : dslWidget?.widgetName;\n    return {\n      isCreated,\n      isUndo,\n      widgetName,\n      widgetId,\n    };\n  }\n}\n","import { getType, Types } from \"utils/TypeHelpers\";\nimport _ from \"lodash\";\nimport { EvaluationSubstitutionType } from \"entities/DataTree/dataTreeFactory\";\nimport { isDynamicValue } from \"utils/DynamicBindingUtils\";\nimport { QUOTED_BINDING_REGEX } from \"constants/BindingsConstants\";\n\nconst filterBindingSegmentsAndRemoveQuotes = (\n  binding: string,\n  subSegments: string[],\n  subSegmentValues: unknown[],\n) => {\n  const bindingStrippedQuotes = binding.replace(\n    QUOTED_BINDING_REGEX,\n    (original, firstGroup) => {\n      return firstGroup;\n    },\n  );\n  const subBindings: string[] = [];\n  const subValues: unknown[] = [];\n  subSegments.forEach((segment, i) => {\n    if (isDynamicValue(segment)) {\n      subBindings.push(segment);\n      subValues.push(subSegmentValues[i]);\n    }\n  });\n  return { binding: bindingStrippedQuotes, subBindings, subValues };\n};\n\nexport const smartSubstituteDynamicValues = (\n  originalBinding: string,\n  subSegments: string[],\n  subSegmentValues: unknown[],\n): string => {\n  const { binding, subBindings, subValues } =\n    filterBindingSegmentsAndRemoveQuotes(\n      originalBinding,\n      subSegments,\n      subSegmentValues,\n    );\n  let finalBinding = binding;\n  subBindings.forEach((b, i) => {\n    const value = subValues[i];\n    switch (getType(value)) {\n      case Types.NUMBER:\n      case Types.BOOLEAN:\n      case Types.NULL:\n      case Types.UNDEFINED:\n        // Direct substitution\n        finalBinding = finalBinding.replace(b, `${value}`);\n        break;\n      case Types.STRING:\n        // Add quotes to a string\n        // JSON.stringify string to escape any unsupported characters\n        finalBinding = finalBinding.replace(b, `${JSON.stringify(value)}`);\n        break;\n      case Types.ARRAY:\n      case Types.OBJECT:\n        // Stringify and substitute\n        finalBinding = finalBinding.replace(b, JSON.stringify(value, null, 2));\n        break;\n    }\n  });\n  return finalBinding;\n};\n\nexport const parameterSubstituteDynamicValues = (\n  originalBinding: string,\n  subSegments: string[],\n  subSegmentValues: unknown[],\n) => {\n  const { binding, subBindings, subValues } =\n    filterBindingSegmentsAndRemoveQuotes(\n      originalBinding,\n      subSegments,\n      subSegmentValues,\n    );\n  // if only one binding is provided in the whole string, we need to throw an error\n  if (subSegments.length === 1 && subBindings.length === 1) {\n    throw Error(\n      \"Dynamic bindings in prepared statements are only used to provide parameters inside SQL query. No SQL query found.\",\n    );\n  }\n\n  let finalBinding = binding;\n  const parameters: Record<string, unknown> = {};\n  subBindings.forEach((b, i) => {\n    // Replace binding with $1, $2;\n    const key = `$${i + 1}`;\n    finalBinding = finalBinding.replace(b, key);\n    parameters[key] =\n      typeof subValues[i] === \"object\"\n        ? JSON.stringify(subValues[i], null, 2)\n        : subValues[i];\n  });\n  return { value: finalBinding, parameters };\n};\n// For creating a final value where bindings could be in a template format\nexport const templateSubstituteDynamicValues = (\n  binding: string,\n  subBindings: string[],\n  subValues: unknown[],\n): string => {\n  // Replace the string with the data tree values\n  let finalValue = binding;\n  subBindings.forEach((b, i) => {\n    let value = subValues[i];\n    if (Array.isArray(value) || _.isObject(value)) {\n      value = JSON.stringify(value);\n    }\n    try {\n      if (typeof value === \"string\" && JSON.parse(value)) {\n        value = value.replace(/\\\\([\\s\\S])|(\")/g, \"\\\\$1$2\");\n      }\n    } catch (e) {\n      // do nothing\n    }\n    finalValue = finalValue.replace(b, `${value}`);\n  });\n  return finalValue;\n};\n\nexport const substituteDynamicBindingWithValues = (\n  binding: string,\n  subSegments: string[],\n  subSegmentValues: unknown[],\n  evaluationSubstitutionType: EvaluationSubstitutionType,\n): string | { value: string; parameters: Record<string, unknown> } => {\n  switch (evaluationSubstitutionType) {\n    case EvaluationSubstitutionType.TEMPLATE:\n      return templateSubstituteDynamicValues(\n        binding,\n        subSegments,\n        subSegmentValues,\n      );\n    case EvaluationSubstitutionType.SMART_SUBSTITUTE:\n      return smartSubstituteDynamicValues(\n        binding,\n        subSegments,\n        subSegmentValues,\n      );\n    case EvaluationSubstitutionType.PARAMETER:\n      return parameterSubstituteDynamicValues(\n        binding,\n        subSegments,\n        subSegmentValues,\n      );\n  }\n};\n","import {\n  addWidgetPropertyDependencies,\n  getEntityNameAndPropertyPath,\n  isATriggerPath,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport { ENTITY_TYPE } from \"entities/DataTree/dataTreeFactory\";\nimport type {\n  ActionEntity,\n  ActionEntityConfig,\n  JSActionEntity,\n  JSActionEntityConfig,\n  DataTreeEntityConfig,\n  WidgetEntity,\n  WidgetEntityConfig,\n} from \"@appsmith/entities/DataTree/types\";\nimport type { DataTreeEntity } from \"entities/DataTree/dataTreeTypes\";\nimport { find, union } from \"lodash\";\nimport { getEntityDynamicBindingPathList } from \"utils/DynamicBindingUtils\";\nimport type { DataTreeEntityObject } from \"@appsmith/entities/DataTree/types\";\nimport { getDependencyFromEntityPath } from \"workers/common/DependencyMap/utils/getEntityDependencies\";\n\nexport const getDependencies = {\n  [ENTITY_TYPE.ACTION]: (\n    entity: DataTreeEntityObject,\n    entityConfig: DataTreeEntityConfig,\n    allKeys: Record<string, true>,\n  ) => {\n    return getActionDependencies(\n      entity as ActionEntity,\n      entityConfig as ActionEntityConfig,\n      allKeys,\n    );\n  },\n  [ENTITY_TYPE.JSACTION]: (\n    entity: DataTreeEntityObject,\n    entityConfig: DataTreeEntityConfig,\n    allKeys: Record<string, true>,\n  ) => {\n    return getJSDependencies(\n      entity as JSActionEntity,\n      entityConfig as JSActionEntityConfig,\n      allKeys,\n    );\n  },\n  [ENTITY_TYPE.WIDGET]: (\n    entity: DataTreeEntityObject,\n    entityConfig: DataTreeEntityConfig,\n  ) => {\n    return getWidgetDependencies(\n      entity as WidgetEntity,\n      entityConfig as WidgetEntityConfig,\n    );\n  },\n};\n\nexport function getWidgetDependencies(\n  widgetEntity: WidgetEntity,\n  widgetConfig: WidgetEntityConfig,\n): Record<string, string[]> {\n  let dependencies: Record<string, string[]> = {};\n  const widgetName = widgetEntity.widgetName;\n  const widgetInternalDependencies = addWidgetPropertyDependencies({\n    widgetConfig,\n    widgetName,\n  });\n\n  dependencies = { ...widgetInternalDependencies };\n\n  const dependencyMap = widgetConfig.dependencyMap;\n\n  for (const source in dependencyMap) {\n    if (!dependencyMap.hasOwnProperty(source)) continue;\n    const targetPaths = dependencyMap[source];\n    const fullPropertyPath = `${widgetName}.${source}`;\n    dependencies[fullPropertyPath] = dependencies[fullPropertyPath] || [];\n    dependencies[fullPropertyPath].push(\n      ...targetPaths.map((p) => `${widgetName}.${p}`),\n    );\n  }\n\n  const dynamicBindingPathList = getEntityDynamicBindingPathList(widgetConfig);\n  const dynamicTriggerPathList = widgetConfig.dynamicTriggerPathList || [];\n\n  for (const { key } of dynamicTriggerPathList) {\n    dependencies[`${widgetName}.${key}`] = [];\n  }\n\n  for (const bindingPath of dynamicBindingPathList) {\n    const propertyPath = bindingPath.key;\n    const fullPropertyPath = `${widgetName}.${propertyPath}`;\n    const dynamicPathDependencies = getDependencyFromEntityPath(\n      propertyPath,\n      widgetEntity,\n    );\n    const existingDeps = dependencies[fullPropertyPath] || [];\n    const newDeps = union(existingDeps, dynamicPathDependencies);\n    dependencies = { ...dependencies, [fullPropertyPath]: newDeps };\n  }\n\n  return dependencies;\n}\nexport function getJSDependencies(\n  jsEntity: JSActionEntity,\n  jsActionConfig: JSActionEntityConfig,\n  allKeys: Record<string, true>,\n): Record<string, string[]> {\n  let dependencies: Record<string, string[]> = {};\n  const jsActionReactivePaths = jsActionConfig.reactivePaths || {};\n  const jsActionDependencyMap = jsActionConfig.dependencyMap || {};\n  const jsObjectName = jsActionConfig.name || \"\";\n\n  for (const [propertyPath, pathDeps] of Object.entries(\n    jsActionDependencyMap,\n  )) {\n    const fullPropertyPath = `${jsObjectName}.${propertyPath}`;\n    const propertyPathDependencies: string[] = pathDeps\n      .map((dependentPath) => `${jsObjectName}.${dependentPath}`)\n      .filter((path) => allKeys.hasOwnProperty(path));\n    dependencies[fullPropertyPath] = propertyPathDependencies;\n  }\n\n  for (const reactivePath of Object.keys(jsActionReactivePaths)) {\n    const fullPropertyPath = `${jsObjectName}.${reactivePath}`;\n    const reactivePathDependencies = getDependencyFromEntityPath(\n      reactivePath,\n      jsEntity,\n    );\n    const existingDeps = dependencies[fullPropertyPath] || [];\n    const newDeps = union(existingDeps, reactivePathDependencies);\n    dependencies = { ...dependencies, [fullPropertyPath]: newDeps };\n  }\n\n  return dependencies;\n}\nexport function getActionDependencies(\n  actionEntity: ActionEntity,\n  actionConfig: ActionEntityConfig,\n  allKeys: Record<string, true>,\n): Record<string, string[]> {\n  let dependencies: Record<string, string[]> = {};\n  const actionName = actionConfig.name;\n  const actionDependencyMap = actionConfig.dependencyMap || {};\n  const dynamicBindingPathList = getEntityDynamicBindingPathList(actionConfig);\n\n  for (const [propertyPath, pathDeps] of Object.entries(actionDependencyMap)) {\n    const fullPropertyPath = `${actionName}.${propertyPath}`;\n    const propertyPathDependencies: string[] = pathDeps\n      .map((dependentPath) => `${actionName}.${dependentPath}`)\n      .filter((path) => allKeys.hasOwnProperty(path));\n    dependencies[fullPropertyPath] = propertyPathDependencies;\n  }\n\n  for (const dynamicPath of dynamicBindingPathList) {\n    const propertyPath = dynamicPath.key;\n    const fullPropertyPath = `${actionName}.${propertyPath}`;\n    const dynamicPathDependencies = getDependencyFromEntityPath(\n      propertyPath,\n      actionEntity,\n    );\n    const existingDeps = dependencies[fullPropertyPath] || [];\n    const newDependencies = union(existingDeps, dynamicPathDependencies);\n    dependencies = { ...dependencies, [fullPropertyPath]: newDependencies };\n  }\n\n  return dependencies;\n}\n\nexport const getPathDependencies = {\n  [ENTITY_TYPE.ACTION]: (\n    entity: DataTreeEntity,\n    entityConfig: DataTreeEntityConfig,\n    fullPropertyPath: string,\n    allKeys: Record<string, true>,\n  ) => {\n    return getActionPropertyPathDependencies(\n      entity as ActionEntity,\n      entityConfig as ActionEntityConfig,\n      fullPropertyPath,\n      allKeys,\n    );\n  },\n  [ENTITY_TYPE.JSACTION]: (\n    entity: DataTreeEntity,\n    entityConfig: DataTreeEntityConfig,\n    fullPropertyPath: string,\n    allKeys: Record<string, true>,\n  ) => {\n    return getJSPropertyPathDependencies(\n      entity as JSActionEntity,\n      entityConfig as JSActionEntityConfig,\n      fullPropertyPath,\n      allKeys,\n    );\n  },\n  [ENTITY_TYPE.WIDGET]: (\n    entity: DataTreeEntity,\n    entityConfig: DataTreeEntityConfig,\n    fullPropertyPath: string,\n  ) => {\n    return getWidgetPropertyPathDependencies(\n      entity as WidgetEntity,\n      entityConfig as WidgetEntityConfig,\n      fullPropertyPath,\n    );\n  },\n};\n\nfunction getWidgetPropertyPathDependencies(\n  widgetEntity: WidgetEntity,\n  widgetConfig: WidgetEntityConfig,\n  fullPropertyPath: string,\n) {\n  let dependencies: string[] = [];\n  const { propertyPath } = getEntityNameAndPropertyPath(fullPropertyPath);\n  const dynamicBindingPathList = getEntityDynamicBindingPathList(widgetConfig);\n  const bindingPaths = widgetConfig.bindingPaths || {};\n  const widgetInternalDependencies = addWidgetPropertyDependencies({\n    widgetConfig,\n    widgetName: widgetEntity.widgetName,\n  });\n  const widgetPathInternalDependencies =\n    widgetInternalDependencies[fullPropertyPath];\n\n  dependencies = union(dependencies, widgetPathInternalDependencies);\n  if (isATriggerPath(widgetConfig, propertyPath)) return dependencies;\n  const isPathADynamicPath =\n    bindingPaths.hasOwnProperty(propertyPath) ||\n    find(dynamicBindingPathList, { key: propertyPath });\n\n  if (!isPathADynamicPath) return dependencies;\n\n  const dynamicPathDependencies = getDependencyFromEntityPath(\n    propertyPath,\n    widgetEntity,\n  );\n  dependencies = union(dependencies, dynamicPathDependencies);\n\n  return dependencies;\n}\nfunction getJSPropertyPathDependencies(\n  jsEntity: JSActionEntity,\n  jsActionConfig: JSActionEntityConfig,\n  fullPropertyPath: string,\n  allKeys: Record<string, true>,\n) {\n  const { propertyPath } = getEntityNameAndPropertyPath(fullPropertyPath);\n  const jsActionReactivePaths = jsActionConfig.reactivePaths || {};\n  let dependencies: string[] = [];\n  const jsInternalDependencyMap = jsActionConfig.dependencyMap || {};\n  const jsPathInternalDependencies =\n    jsInternalDependencyMap[propertyPath]\n      ?.map((dep) => `${jsActionConfig.name}.${dep}`)\n      ?.filter((path) => allKeys.hasOwnProperty(path)) || [];\n\n  dependencies = union(dependencies, jsPathInternalDependencies);\n\n  if (jsActionReactivePaths.hasOwnProperty(propertyPath)) {\n    const propertyPathDependencies = getDependencyFromEntityPath(\n      propertyPath,\n      jsEntity,\n    );\n    dependencies = union(dependencies, propertyPathDependencies);\n  }\n  return dependencies;\n}\nfunction getActionPropertyPathDependencies(\n  actionEntity: ActionEntity,\n  actionConfig: ActionEntityConfig,\n  fullPropertyPath: string,\n  allKeys: Record<string, true>,\n) {\n  let actionPathDependencies: string[] = [];\n  const { propertyPath } = getEntityNameAndPropertyPath(fullPropertyPath);\n  const actionInternalDependencyMap = actionConfig.dependencyMap || {};\n  const actionPathInternalDependencies =\n    actionInternalDependencyMap[propertyPath]\n      ?.map((dep) => `${actionConfig.name}.${dep}`)\n      .filter((path) => allKeys.hasOwnProperty(path)) || [];\n  actionPathDependencies = union(\n    actionPathDependencies,\n    actionPathInternalDependencies,\n  );\n\n  const dynamicBindingPathList = getEntityDynamicBindingPathList(actionConfig);\n  const bindingPaths = actionConfig.bindingPaths;\n\n  const isADynamicPath =\n    bindingPaths.hasOwnProperty(propertyPath) ||\n    find(dynamicBindingPathList, { key: propertyPath });\n\n  if (!isADynamicPath) return actionPathDependencies;\n\n  const dynamicPathDependencies = getDependencyFromEntityPath(\n    propertyPath,\n    actionEntity,\n  );\n  actionPathDependencies = union(\n    actionPathDependencies,\n    dynamicPathDependencies,\n  );\n\n  return actionPathDependencies;\n}\n","import type { DataTreeEntity } from \"entities/DataTree/dataTreeTypes\";\nimport { get } from \"lodash\";\nimport { getDynamicBindings } from \"utils/DynamicBindingUtils\";\nimport { isWidgetActionOrJsObject } from \"@appsmith/entities/DataTree/utils\";\nimport type { DataTreeEntityObject } from \"@appsmith/entities/DataTree/types\";\nimport {\n  getDependencies,\n  getPathDependencies,\n} from \"@appsmith/workers/common/DependencyMap/utils/getEntityDependenciesByType\";\nimport type { DataTreeEntityConfig } from \"@appsmith/entities/DataTree/types\";\n\nexport function getEntityDependencies(\n  entity: DataTreeEntityObject,\n  entityConfig: DataTreeEntityConfig,\n  allKeys: Record<string, true>,\n): Record<string, string[]> {\n  if (!isWidgetActionOrJsObject(entity)) return {};\n  return (\n    getDependencies[entity.ENTITY_TYPE](\n      entity as DataTreeEntityObject,\n      entityConfig as DataTreeEntityConfig,\n      allKeys as Record<string, true>,\n    ) || {}\n  );\n}\n\nexport function getEntityPathDependencies(\n  entity: DataTreeEntity,\n  entityConfig: DataTreeEntityConfig,\n  fullPropertyPath: string,\n  allKeys: Record<string, true>,\n) {\n  if (!isWidgetActionOrJsObject(entity)) return [];\n  return (\n    getPathDependencies[entity.ENTITY_TYPE](\n      entity as DataTreeEntity,\n      entityConfig as DataTreeEntityConfig,\n      fullPropertyPath as string,\n      allKeys as Record<string, true>,\n    ) || []\n  );\n}\n\nexport function getDependencyFromEntityPath(\n  propertyPath: string,\n  entity: DataTreeEntity,\n) {\n  const unevalPropValue = get(entity, propertyPath, \"\").toString();\n  const { jsSnippets } = getDynamicBindings(unevalPropValue, entity);\n  const validJSSnippets = jsSnippets.filter((jsSnippet) => !!jsSnippet);\n\n  return validJSSnippets;\n}\n","import toposort from \"toposort\";\nimport type DependencyMap from \".\";\nimport { IMMEDIATE_PARENT_REGEX } from \"@appsmith/workers/Evaluation/evaluationUtils\";\n\ntype SortDependencies =\n  | {\n      success: true;\n      sortedDependencies: string[];\n    }\n  | { success: false; cyclicNode: string; error: unknown };\n\nexport class DependencyMapUtils {\n  // inspired by https://www.npmjs.com/package/toposort#sorting-dependencies\n  static sortDependencies(dependencyMap: DependencyMap): SortDependencies {\n    const dependencyTree: Array<[string, string | undefined]> = [];\n    const dependencies = dependencyMap.rawDependencies;\n    for (const [node, deps] of dependencies.entries()) {\n      if (deps.size) {\n        deps.forEach((dep) => dependencyTree.push([node, dep]));\n      } else {\n        // Set no dependency\n        dependencyTree.push([node, undefined]);\n      }\n    }\n\n    try {\n      const sortedDependencies = toposort(dependencyTree)\n        .reverse()\n        .filter((edge) => !!edge);\n      return { success: true, sortedDependencies };\n    } catch (error) {\n      // Cyclic dependency found. Extract node\n      const cyclicNodes = (error as Error).message.match(\n        new RegExp('Cyclic dependency, node was:\"(.*)\"'),\n      );\n      const node = cyclicNodes ? cyclicNodes[1] : \"\";\n      return { success: false, cyclicNode: node, error };\n    }\n  }\n\n  static makeParentsDependOnChildren(dependencyMap: DependencyMap) {\n    const dependencies = dependencyMap.rawDependencies;\n    for (const [node, deps] of dependencies.entries()) {\n      this.makeParentsDependOnChild(dependencyMap, node);\n      deps.forEach((dep) => {\n        this.makeParentsDependOnChild(dependencyMap, dep);\n      });\n    }\n    return dependencyMap;\n  }\n\n  static makeParentsDependOnChild = (\n    dependencyMap: DependencyMap,\n    child: string,\n  ) => {\n    let curKey = child;\n    let matches: string[] | null;\n\n    while ((matches = curKey.match(IMMEDIATE_PARENT_REGEX)) !== null) {\n      const immediateParent = matches[1];\n      const existingImmediateParentDeps =\n        dependencyMap.getDirectDependencies(immediateParent) || [];\n      const existingImmediateParentDepsSet = new Set(\n        existingImmediateParentDeps,\n      );\n      // Add child to immediate parent's dependencies if not already present\n      // don't perform addDependency unnecessarily\n      if (!existingImmediateParentDepsSet.has(curKey)) {\n        existingImmediateParentDeps.push(curKey);\n        dependencyMap.addDependency(\n          immediateParent,\n          existingImmediateParentDeps,\n        );\n      }\n      curKey = immediateParent;\n    }\n  };\n}\n","import type { DataTreeDiff } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport {\n  getAllPaths,\n  DataTreeDiffEvent,\n  getEntityNameAndPropertyPath,\n  isDynamicLeaf,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport type {\n  WidgetEntity,\n  ActionEntity,\n  JSActionEntity,\n  DataTreeEntityObject,\n} from \"@appsmith/entities/DataTree/types\";\nimport type { ConfigTree, DataTree } from \"entities/DataTree/dataTreeTypes\";\nimport { getEntityId, getEvalErrorPath } from \"utils/DynamicBindingUtils\";\nimport { convertArrayToObject, extractInfoFromBindings } from \"./utils\";\nimport type DataTreeEvaluator from \"workers/common/DataTreeEvaluator\";\nimport { get, isEmpty, set } from \"lodash\";\nimport { getFixedTimeDifference } from \"../DataTreeEvaluator/utils\";\nimport {\n  getEntityDependencies,\n  getEntityPathDependencies,\n} from \"./utils/getEntityDependencies\";\nimport { DependencyMapUtils } from \"entities/DependencyMap/DependencyMapUtils\";\nimport { AppsmithFunctionsWithFields } from \"components/editorComponents/ActionCreator/constants\";\nimport {\n  getAllSetterFunctions,\n  getEntitySetterFunctions,\n} from \"@appsmith/workers/Evaluation/Actions\";\nimport { isWidgetActionOrJsObject } from \"@appsmith/entities/DataTree/utils\";\nimport { getValidEntityType } from \"workers/common/DataTreeEvaluator/utils\";\n\nexport function createDependencyMap(\n  dataTreeEvalRef: DataTreeEvaluator,\n  unEvalTree: DataTree,\n  configTree: ConfigTree,\n) {\n  const { allKeys, dependencyMap } = dataTreeEvalRef;\n  const allAppsmithInternalFunctions = convertArrayToObject(\n    AppsmithFunctionsWithFields,\n  );\n  const setterFunctions = getAllSetterFunctions(unEvalTree, configTree);\n  dependencyMap.addNodes(\n    { ...allKeys, ...allAppsmithInternalFunctions, ...setterFunctions },\n    false,\n  );\n\n  Object.keys(configTree).forEach((entityName) => {\n    const entity = unEvalTree[entityName];\n    const entityConfig = configTree[entityName];\n    const entityDependencies = getEntityDependencies(\n      entity as DataTreeEntityObject,\n      entityConfig,\n      allKeys,\n    );\n\n    for (const path of Object.keys(entityDependencies)) {\n      const pathDependencies = entityDependencies[path];\n      const { errors, references } = extractInfoFromBindings(\n        pathDependencies,\n        allKeys,\n      );\n      dependencyMap.addDependency(path, references);\n      dataTreeEvalRef.errors.push(...errors);\n    }\n  });\n\n  DependencyMapUtils.makeParentsDependOnChildren(dependencyMap);\n\n  return {\n    dependencies: dependencyMap.dependencies,\n    inverseDependencies: dependencyMap.inverseDependencies,\n  };\n}\n\nexport const updateDependencyMap = ({\n  configTree,\n  dataTreeEvalRef,\n  translatedDiffs,\n  unEvalDataTree,\n}: {\n  dataTreeEvalRef: DataTreeEvaluator;\n  translatedDiffs: Array<DataTreeDiff>;\n  unEvalDataTree: DataTree;\n  configTree: ConfigTree;\n}) => {\n  const diffCalcStart = performance.now();\n  const dependenciesOfRemovedPaths: Array<string> = [];\n  const removedPaths: Array<{ entityId: string; fullpath: string }> = [];\n  let didUpdateDependencyMap = false;\n  const { allKeys, dependencyMap, oldConfigTree, oldUnEvalTree } =\n    dataTreeEvalRef;\n  let { errors: dataTreeEvalErrors } = dataTreeEvalRef;\n\n  translatedDiffs.forEach((dataTreeDiff) => {\n    const {\n      event,\n      payload: { propertyPath: fullPropertyPath, value },\n    } = dataTreeDiff;\n    const { entityName } = getEntityNameAndPropertyPath(fullPropertyPath);\n    const entityConfig =\n      event === DataTreeDiffEvent.DELETE\n        ? oldConfigTree[entityName]\n        : configTree[entityName];\n\n    const entity =\n      event === DataTreeDiffEvent.DELETE\n        ? oldUnEvalTree[entityName]\n        : unEvalDataTree[entityName];\n    const entityType = getValidEntityType(entity, entityConfig);\n\n    if (entityType !== \"noop\") {\n      switch (event) {\n        case DataTreeDiffEvent.NEW: {\n          const allAddedPaths = getAllPaths({\n            [fullPropertyPath]: get(unEvalDataTree, fullPropertyPath),\n          });\n          // If a new entity is added, add setter functions to all nodes\n          if (entityName === fullPropertyPath) {\n            const didUpdateDep = dependencyMap.addNodes(\n              getEntitySetterFunctions(entityConfig, entityName, entity),\n            );\n            if (didUpdateDep) didUpdateDependencyMap = true;\n          }\n\n          const didUpdateDep = dependencyMap.addNodes(allAddedPaths, false);\n\n          if (didUpdateDep) didUpdateDependencyMap = true;\n\n          if (isWidgetActionOrJsObject(entity)) {\n            if (!isDynamicLeaf(unEvalDataTree, fullPropertyPath, configTree)) {\n              const entityDependencyMap = getEntityDependencies(\n                entity,\n                configTree[entityName],\n                allKeys,\n              );\n              if (!isEmpty(entityDependencyMap)) {\n                // The entity might already have some dependencies,\n                // so we just want to update those\n                Object.entries(entityDependencyMap).forEach(\n                  ([path, pathDependencies]) => {\n                    const { errors: extractDependencyErrors, references } =\n                      extractInfoFromBindings(pathDependencies, allKeys);\n                    dependencyMap.addDependency(path, references);\n                    didUpdateDependencyMap = true;\n                    dataTreeEvalErrors = dataTreeEvalErrors.concat(\n                      extractDependencyErrors,\n                    );\n                  },\n                );\n              }\n            } else {\n              const entityPathDependencies = getEntityPathDependencies(\n                entity,\n                entityConfig,\n                fullPropertyPath,\n                allKeys,\n              );\n              const { errors: extractDependencyErrors, references } =\n                extractInfoFromBindings(entityPathDependencies, allKeys);\n              dependencyMap.addDependency(fullPropertyPath, references);\n              didUpdateDependencyMap = true;\n              dataTreeEvalErrors = dataTreeEvalErrors.concat(\n                extractDependencyErrors,\n              );\n            }\n          }\n          break;\n        }\n        case DataTreeDiffEvent.DELETE: {\n          const allDeletedPaths = getAllPaths({\n            [fullPropertyPath]: get(oldUnEvalTree, fullPropertyPath),\n          });\n          // If an entity is deleted, remove all setter functions\n          if (entityName === fullPropertyPath) {\n            const didUpdateDep = dependencyMap.removeNodes(\n              getEntitySetterFunctions(entityConfig, entityName, entity),\n            );\n            if (didUpdateDep) didUpdateDependencyMap = true;\n          }\n\n          for (const deletedPath of Object.keys(allDeletedPaths)) {\n            const pathsThatDependOnDeletedPath =\n              dependencyMap.getDependents(deletedPath);\n            dependenciesOfRemovedPaths.push(...pathsThatDependOnDeletedPath);\n          }\n\n          const didUpdateDeps = dependencyMap.removeNodes(allDeletedPaths);\n\n          if (didUpdateDeps) didUpdateDependencyMap = true;\n\n          if (isWidgetActionOrJsObject(entity)) {\n            const entityId = getEntityId(entity);\n            for (const deletedPath of Object.keys(allDeletedPaths)) {\n              removedPaths.push({\n                entityId: entityId || \"\",\n                fullpath: deletedPath,\n              });\n            }\n          }\n          break;\n        }\n        case DataTreeDiffEvent.EDIT: {\n          if (isWidgetActionOrJsObject(entity) && typeof value === \"string\") {\n            const entity: ActionEntity | WidgetEntity | JSActionEntity =\n              unEvalDataTree[entityName] as\n                | ActionEntity\n                | WidgetEntity\n                | JSActionEntity;\n            const entityConfig = configTree[entityName];\n            const fullPropertyPath = dataTreeDiff.payload.propertyPath;\n\n            const entityPathDependencies = getEntityPathDependencies(\n              entity,\n              entityConfig,\n              fullPropertyPath,\n              allKeys,\n            );\n            const { errors: extractDependencyErrors, references } =\n              extractInfoFromBindings(entityPathDependencies, allKeys);\n            dependencyMap.addDependency(fullPropertyPath, references);\n            didUpdateDependencyMap = true;\n            dataTreeEvalErrors = dataTreeEvalErrors.concat(\n              extractDependencyErrors,\n            );\n          }\n          break;\n        }\n        default: {\n          break;\n        }\n      }\n    }\n  });\n\n  const diffCalcEnd = performance.now();\n  const updateChangedDependenciesStart = performance.now();\n\n  if (didUpdateDependencyMap) {\n    DependencyMapUtils.makeParentsDependOnChildren(dependencyMap);\n    dataTreeEvalRef.sortedDependencies = dataTreeEvalRef.sortDependencies(\n      dependencyMap,\n      translatedDiffs,\n    );\n  }\n\n  /** We need this in order clear out the paths that could have errors when a property is deleted */\n  if (removedPaths.length) {\n    removedPaths.forEach(({ fullpath }) => {\n      set(dataTreeEvalRef.evalProps, getEvalErrorPath(fullpath), []);\n    });\n  }\n\n  const updateChangedDependenciesStop = performance.now();\n  dataTreeEvalRef.logs.push({\n    diffCalcDeps: (diffCalcEnd - diffCalcStart).toFixed(2),\n    updateChangedDependencies: getFixedTimeDifference(\n      updateChangedDependenciesStop,\n      updateChangedDependenciesStart,\n    ),\n  });\n\n  return {\n    dependenciesOfRemovedPaths,\n    removedPaths,\n    dependencies: dependencyMap.dependencies,\n    inverseDependencies: dependencyMap.inverseDependencies,\n  };\n};\n","import type { DataTree } from \"entities/DataTree/dataTreeTypes\";\nimport type { TDataStore } from \".\";\nimport {\n  isAction,\n  isJSAction,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport { get, isEmpty, set } from \"lodash\";\n\nexport function updateTreeWithData(tree: DataTree, dataStore: TDataStore) {\n  if (isEmpty(dataStore)) return;\n  for (const entityName of Object.keys(tree)) {\n    const entity = tree[entityName];\n    if (!dataStore.hasOwnProperty(entityName)) continue;\n    if (isAction(entity)) {\n      set(entity, \"data\", get(dataStore, `${entityName}.data`));\n    }\n    if (isJSAction(entity)) {\n      const allFunctionsInStore = Object.keys(dataStore[entityName]);\n      allFunctionsInStore.forEach((functionName) => {\n        set(\n          entity[functionName],\n          `data`,\n          get(dataStore, `${entityName}.${functionName}.data`),\n        );\n      });\n    }\n  }\n}\n","import { get, isEmpty } from \"lodash\";\nimport { diff as deepDiff } from \"deep-diff\";\nimport type { JSUpdate } from \"utils/JSPaneUtils\";\nimport { dataTreeEvaluator } from \"../handlers/evalTree\";\nimport { getType } from \"utils/TypeHelpers\";\n\ntype JSUpdates = Record<string, JSUpdate>;\n\nlet prevJSUpdates: JSUpdates;\n\nfunction getVariableObject(jsUpdates: JSUpdates) {\n  const prevJSObjects = Object.entries(jsUpdates);\n  const prevJSObjectVar: Record<string, unknown> = {};\n\n  for (const [jsObjectName, jsObjectBody] of prevJSObjects) {\n    const variables = jsObjectBody.parsedBody?.variables;\n    if (!variables?.length) continue;\n    const varKeyMap: Record<string, string> = {};\n    variables.forEach(({ name }) => {\n      varKeyMap[name] = name;\n    });\n    prevJSObjectVar[jsObjectName] = varKeyMap;\n  }\n\n  return prevJSObjectVar;\n}\n\nfunction getVariableDiff(jsUpdates: JSUpdates) {\n  if (isEmpty(jsUpdates)) return;\n\n  if (!prevJSUpdates) {\n    prevJSUpdates = jsUpdates;\n    return;\n  }\n\n  const prevJSObjectVar = getVariableObject(prevJSUpdates);\n  const jsObjectVar = getVariableObject(jsUpdates);\n  const diff = deepDiff(prevJSObjectVar, jsObjectVar);\n\n  prevJSUpdates = jsUpdates;\n  return diff;\n}\n\nexport function getJSVariableCreatedEvents(jsUpdates: JSUpdates) {\n  const jsVarDiff = getVariableDiff(jsUpdates);\n\n  const jsVarsCreated: { path: string; type: string }[] = [];\n\n  jsVarDiff?.forEach((diff) => {\n    if (diff.kind === \"N\" && diff.path?.length === 2) {\n      const evalTree = dataTreeEvaluator?.getEvalTree() || {};\n      const value = get(evalTree, diff.path);\n      const type = getType(value);\n      jsVarsCreated.push({ path: diff.path?.join(\".\"), type });\n    }\n  });\n\n  return jsVarsCreated;\n}\n","import type {\n  DataTreeEvaluationProps,\n  EvalError,\n  EvaluationError,\n} from \"utils/DynamicBindingUtils\";\nimport {\n  EvalErrorTypes,\n  getDynamicBindings,\n  getEntityDynamicBindingPathList,\n  getEntityId,\n  getEntityName,\n  getEntityType,\n  getEvalErrorPath,\n  getEvalValuePath,\n  isChildPropertyPath,\n  isDynamicValue,\n  isPathDynamicTrigger,\n  PropertyEvaluationErrorType,\n} from \"utils/DynamicBindingUtils\";\nimport type { WidgetTypeConfigMap } from \"WidgetProvider/factory\";\nimport type {\n  WidgetEntity,\n  WidgetEntityConfig,\n  DataTreeEntityConfig,\n  ActionEntity,\n  JSActionEntity,\n  JSActionEntityConfig,\n  PrivateWidgets,\n  ActionEntityConfig,\n} from \"@appsmith/entities/DataTree/types\";\nimport type {\n  DataTree,\n  DataTreeEntity,\n  ConfigTree,\n  UnEvalTree,\n} from \"entities/DataTree/dataTreeTypes\";\nimport { EvaluationSubstitutionType } from \"entities/DataTree/dataTreeFactory\";\nimport { ENTITY_TYPE } from \"@appsmith/entities/DataTree/types\";\nimport type { DataTreeDiff } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport { convertMicroDiffToDeepDiff } from \"@appsmith/workers/Evaluation/evaluationUtils\";\n\nimport {\n  addDependantsOfNestedPropertyPaths,\n  addErrorToEntityProperty,\n  convertPathToString,\n  CrashingError,\n  getEntityNameAndPropertyPath,\n  getImmediateParentsOfPropertyPaths,\n  isAction,\n  isDynamicLeaf,\n  isJSAction,\n  isWidget,\n  translateDiffEventToDataTreeDiffEvent,\n  trimDependantChangePaths,\n  overrideWidgetProperties,\n  getAllPaths,\n  isNewEntity,\n  getStaleMetaStateIds,\n  convertJSFunctionsToString,\n  DataTreeDiffEvent,\n  resetValidationErrorsForEntityProperty,\n  isAPathDynamicBindingPath,\n  isAnyJSAction,\n  isNotEntity,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport {\n  difference,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isObject,\n  isUndefined,\n  set,\n  union,\n  unset,\n} from \"lodash\";\n\nimport type { Diff } from \"deep-diff\";\nimport { applyChange, diff } from \"deep-diff\";\nimport {\n  EXECUTION_PARAM_KEY,\n  EXECUTION_PARAM_REFERENCE_REGEX,\n  THIS_DOT_PARAMS_KEY,\n} from \"constants/AppsmithActionConstants/ActionConstants\";\nimport type { EvalResult, EvaluateContext } from \"workers/Evaluation/evaluate\";\nimport evaluateSync, {\n  evaluateAsync,\n  setEvalContext,\n} from \"workers/Evaluation/evaluate\";\nimport { substituteDynamicBindingWithValues } from \"workers/Evaluation/evaluationSubstitution\";\nimport { Severity } from \"entities/AppsmithConsole\";\nimport { error as logError } from \"loglevel\";\nimport type { JSUpdate } from \"utils/JSPaneUtils\";\n\nimport type {\n  ActionValidationConfigMap,\n  ValidationConfig,\n} from \"constants/PropertyControlConstants\";\nimport { klona } from \"klona/full\";\nimport { klona as klonaJSON } from \"klona/json\";\nimport type { EvalMetaUpdates } from \"@appsmith/workers/common/DataTreeEvaluator/types\";\nimport {\n  updateDependencyMap,\n  createDependencyMap,\n} from \"workers/common/DependencyMap\";\nimport {\n  getJSEntities,\n  getUpdatedLocalUnEvalTreeAfterJSUpdates,\n  parseJSActions,\n  updateEvalTreeWithJSCollectionState,\n} from \"workers/Evaluation/JSObject\";\nimport {\n  getFixedTimeDifference,\n  getOnlyAffectedJSObjects,\n  replaceThisDotParams,\n} from \"./utils\";\nimport { isJSObjectFunction } from \"workers/Evaluation/JSObject/utils\";\nimport {\n  validateActionProperty,\n  validateAndParseWidgetProperty,\n  validateWidgetProperty,\n} from \"./validationUtils\";\nimport { errorModifier } from \"workers/Evaluation/errorModifier\";\nimport JSObjectCollection from \"workers/Evaluation/JSObject/Collection\";\nimport userLogs from \"workers/Evaluation/fns/overrides/console\";\nimport ExecutionMetaData from \"workers/Evaluation/fns/utils/ExecutionMetaData\";\nimport DependencyMap from \"entities/DependencyMap\";\nimport { DependencyMapUtils } from \"entities/DependencyMap/DependencyMapUtils\";\nimport { isWidgetActionOrJsObject } from \"@appsmith/entities/DataTree/utils\";\nimport DataStore from \"workers/Evaluation/dataStore\";\nimport { updateTreeWithData } from \"workers/Evaluation/dataStore/utils\";\nimport microDiff from \"microdiff\";\nimport {\n  profileFn,\n  type WebworkerSpanData,\n} from \"UITelemetry/generateWebWorkerTraces\";\nimport type { SpanAttributes } from \"UITelemetry/generateTraces\";\nimport type { AffectedJSObjects } from \"sagas/EvaluationsSagaUtils\";\nimport generateOverrideContext from \"@appsmith/workers/Evaluation/generateOverrideContext\";\n\ntype SortedDependencies = Array<string>;\nexport interface EvalProps {\n  [entityName: string]: DataTreeEvaluationProps;\n}\n\nexport default class DataTreeEvaluator {\n  dependencyMap: DependencyMap = new DependencyMap();\n  sortedDependencies: SortedDependencies = [];\n  dependencies: Record<string, string[]> = {};\n  inverseDependencies: Record<string, string[]> = {};\n  widgetConfigMap: WidgetTypeConfigMap = {};\n  evalTree: DataTree = {};\n  configTree: ConfigTree = {};\n\n  /**\n   * This contains raw evaluated value without any validation or parsing.\n   * This is used for revalidation as we do not store the raw validated value.\n   */\n  unParsedEvalTree: DataTree = {};\n  allKeys: Record<string, true> = {};\n  privateWidgets: PrivateWidgets = {};\n  oldUnEvalTree: UnEvalTree = {};\n  oldConfigTree: ConfigTree = {};\n  errors: EvalError[] = [];\n  logs: unknown[] = [];\n  console = userLogs;\n  allActionValidationConfig?: {\n    [actionId: string]: ActionValidationConfigMap;\n  };\n\n  /**\n   * Sanitized eval values and errors\n   */\n  evalProps: EvalProps = {};\n  undefinedEvalValuesMap: Record<string, boolean> = {};\n\n  prevState = {};\n  setPrevState(state: any) {\n    this.prevState = state;\n  }\n  getPrevState() {\n    return this.prevState;\n  }\n  public hasCyclicalDependency = false;\n  constructor(\n    widgetConfigMap: WidgetTypeConfigMap,\n    allActionValidationConfig?: {\n      [actionId: string]: ActionValidationConfigMap;\n    },\n  ) {\n    this.allActionValidationConfig = allActionValidationConfig;\n    this.widgetConfigMap = widgetConfigMap;\n  }\n\n  getEvalTree() {\n    return this.evalTree;\n  }\n\n  getEvalProps() {\n    return this.evalProps;\n  }\n\n  setEvalTree(evalTree: DataTree) {\n    this.evalTree = evalTree;\n  }\n\n  getConfigTree() {\n    return this.configTree;\n  }\n\n  setConfigTree(configTree: ConfigTree) {\n    if (configTree) this.configTree = configTree;\n  }\n\n  getUnParsedEvalTree() {\n    return this.unParsedEvalTree;\n  }\n\n  setUnParsedEvalTree(unParsedEvalTree: DataTree) {\n    this.unParsedEvalTree = unParsedEvalTree;\n  }\n\n  getOldUnevalTree() {\n    return this.oldUnEvalTree;\n  }\n\n  /**\n   * Method to create all data required for linting and\n   * evaluation of the first tree\n   */\n  setupFirstTree(\n    unEvalTree: any,\n    configTree: ConfigTree,\n    webworkerTelemetry: Record<string, WebworkerSpanData | SpanAttributes> = {},\n  ): {\n    jsUpdates: Record<string, JSUpdate>;\n    evalOrder: string[];\n  } {\n    this.setConfigTree(configTree);\n\n    const totalFirstTreeSetupStartTime = performance.now();\n    // cloneDeep will make sure not to omit key which has value as undefined.\n    const firstCloneStartTime = performance.now();\n    let localUnEvalTree = klona(unEvalTree);\n    const firstCloneEndTime = performance.now();\n\n    let jsUpdates: Record<string, JSUpdate> = {};\n    //parse js collection to get functions\n    //save current state of js collection action and variables to be added to uneval tree\n    //save functions in resolveFunctions (as functions) to be executed as functions are not allowed in evalTree\n    //and functions are saved in dataTree as strings\n    const parseJSActionsStartTime = performance.now();\n    const parsedCollections = profileFn(\n      \"SetupFirstTree.parseJSActions\",\n      undefined,\n      webworkerTelemetry,\n      () => {\n        return parseJSActions(this, localUnEvalTree);\n      },\n    );\n    const parseJSActionsEndTime = performance.now();\n\n    jsUpdates = parsedCollections.jsUpdates;\n    localUnEvalTree = getUpdatedLocalUnEvalTreeAfterJSUpdates(\n      jsUpdates,\n      localUnEvalTree,\n      configTree,\n    );\n    const localUnEvalTreeJSCollection = getJSEntities(localUnEvalTree);\n    const stringifiedLocalUnEvalTreeJSCollection = convertJSFunctionsToString(\n      localUnEvalTreeJSCollection,\n      configTree,\n    );\n    const unEvalTreeWithStrigifiedJSFunctions = Object.assign(\n      {},\n      localUnEvalTree,\n      stringifiedLocalUnEvalTreeJSCollection,\n    );\n    const allKeysGenerationStartTime = performance.now();\n    this.allKeys = getAllPaths(unEvalTreeWithStrigifiedJSFunctions);\n    const allKeysGenerationEndTime = performance.now();\n\n    const createDependencyMapStartTime = performance.now();\n\n    const { dependencies, inverseDependencies } = profileFn(\n      \"createDependencyMap\",\n      undefined,\n      webworkerTelemetry,\n      () => {\n        return createDependencyMap(this, localUnEvalTree, configTree);\n      },\n    );\n    const createDependencyMapEndTime = performance.now();\n\n    this.dependencies = dependencies;\n    this.inverseDependencies = inverseDependencies;\n\n    const sortDependenciesStartTime = performance.now();\n    this.sortedDependencies = this.sortDependencies(this.dependencyMap);\n    const sortDependenciesEndTime = performance.now();\n\n    const secondCloneStartTime = performance.now();\n    this.oldUnEvalTree = klona(localUnEvalTree);\n    this.oldConfigTree = configTree;\n    const secondCloneEndTime = performance.now();\n\n    const totalFirstTreeSetupEndTime = performance.now();\n\n    const timeTakenForSetupFirstTree = {\n      total: getFixedTimeDifference(\n        totalFirstTreeSetupEndTime,\n        totalFirstTreeSetupStartTime,\n      ),\n      clone: getFixedTimeDifference(\n        firstCloneEndTime + secondCloneEndTime,\n        firstCloneStartTime + secondCloneStartTime,\n      ),\n      allKeys: getFixedTimeDifference(\n        allKeysGenerationEndTime,\n        allKeysGenerationStartTime,\n      ),\n      createDependencyMap: getFixedTimeDifference(\n        createDependencyMapEndTime,\n        createDependencyMapStartTime,\n      ),\n      sortDependencies: getFixedTimeDifference(\n        sortDependenciesEndTime,\n        sortDependenciesStartTime,\n      ),\n      parseJSActions: getFixedTimeDifference(\n        parseJSActionsEndTime,\n        parseJSActionsStartTime,\n      ),\n    };\n    this.logs.push({\n      timeTakenForSetupFirstTree,\n      dependencies: this.dependencies,\n      inverseDependencies: this.inverseDependencies,\n    });\n    return {\n      jsUpdates,\n      evalOrder: this.sortedDependencies,\n    };\n  }\n\n  /**\n   * Mutates the dataTree.\n   * Validates all the nodes of the tree to make sure all the values are as expected according to the validation config\n   *\n   * For example :- If Button.isDisabled is set to false in propertyPane then it would be passed as \"false\" in unEvalTree and validateTree method makes sure to convert it to boolean.\n   * @param tree\n   * @param option\n   * @param configTree\n   * @returns\n   */\n  validatedTree(\n    dataTree: DataTree,\n    option: {\n      evalProps: EvalProps;\n    },\n    configTree: ConfigTree,\n  ) {\n    const unParsedEvalTree = this.getUnParsedEvalTree();\n    const { evalProps } = option;\n    for (const [entityName, entity] of Object.entries(dataTree)) {\n      if (!isWidget(entity)) continue;\n      const entityConfig = configTree[entityName] as WidgetEntityConfig;\n      const validationPathsMap = Object.entries(entityConfig.validationPaths);\n\n      for (const [propertyPath, validationConfig] of validationPathsMap) {\n        const fullPropertyPath = `${entityName}.${propertyPath}`;\n\n        const value = get(\n          unParsedEvalTree,\n          fullPropertyPath,\n          get(entity, propertyPath),\n        );\n        // Pass it through parse\n        const { isValid, messages, parsed } = validateWidgetProperty(\n          validationConfig,\n          value,\n          entity,\n          propertyPath,\n        );\n\n        set(entity, propertyPath, parsed);\n\n        resetValidationErrorsForEntityProperty({\n          evalProps,\n          fullPropertyPath,\n        });\n\n        if (!isValid) {\n          const evalErrors: EvaluationError[] =\n            messages?.map((message) => ({\n              errorType: PropertyEvaluationErrorType.VALIDATION,\n              errorMessage: message ?? {},\n              severity: Severity.ERROR,\n              raw: value,\n            })) ?? [];\n\n          addErrorToEntityProperty({\n            errors: evalErrors,\n            evalProps,\n            fullPropertyPath,\n            configTree,\n          });\n        }\n      }\n    }\n  }\n\n  evalAndValidateFirstTree(): {\n    evalTree: DataTree;\n    evalMetaUpdates: EvalMetaUpdates;\n    staleMetaIds: string[];\n  } {\n    const evaluationStartTime = performance.now();\n\n    const evaluationOrder = this.sortedDependencies;\n\n    const unEvalTreeClone = klonaJSON(this.oldUnEvalTree);\n    // Evaluate\n    const { evalMetaUpdates, evaluatedTree, staleMetaIds } = this.evaluateTree(\n      unEvalTreeClone,\n      evaluationOrder,\n      undefined,\n      this.oldConfigTree,\n    );\n\n    /**\n     * We need to re-validate all widgets only in case of first tree\n     * Widget fields with custom validation functions can depend on other properties of the widget,\n     * which aren't evaluated/validated yet, thereby store incorrect validation errors in the previous step\n     */\n    this.validatedTree(\n      evaluatedTree,\n      {\n        evalProps: this.evalProps,\n      },\n      this.oldConfigTree,\n    );\n\n    const evaluationEndTime = performance.now();\n\n    this.setEvalTree(evaluatedTree);\n\n    const timeTakenForEvalAndValidateFirstTree = {\n      evaluation: getFixedTimeDifference(\n        evaluationEndTime,\n        evaluationStartTime,\n      ),\n    };\n    this.logs.push({ timeTakenForEvalAndValidateFirstTree });\n\n    return {\n      evalTree: this.getEvalTree(),\n      evalMetaUpdates,\n      staleMetaIds,\n    };\n  }\n\n  updateLocalUnEvalTree(unevalTree: DataTree, configTree: ConfigTree) {\n    //add functions and variables to unevalTree\n    const unEvalJSCollection = JSObjectCollection.getUnEvalState();\n    Object.keys(unEvalJSCollection).forEach((update) => {\n      const updates = unEvalJSCollection[update];\n      if (!!unevalTree[update]) {\n        Object.keys(updates).forEach((key) => {\n          const data = get(unevalTree, `${update}.${key}.data`, undefined);\n          if (isJSObjectFunction(unevalTree, update, key, configTree)) {\n            set(unevalTree, `${update}.${key}`, new String(updates[key]));\n            set(unevalTree, `${update}.${key}.data`, data);\n          } else {\n            set(unevalTree, `${update}.${key}`, updates[key]);\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * Method to create all data required for linting and\n   * evaluation of the updated tree\n   */\n\n  setupUpdateTree(\n    unEvalTree: any,\n    configTree: ConfigTree,\n    webworkerTelemetry: Record<string, WebworkerSpanData | SpanAttributes> = {},\n    affectedJSObjects: AffectedJSObjects = { isAllAffected: false, ids: [] },\n  ): {\n    unEvalUpdates: DataTreeDiff[];\n    evalOrder: string[];\n    jsUpdates: Record<string, JSUpdate>;\n    removedPaths: Array<{ entityId: string; fullpath: string }>;\n    isNewWidgetAdded: boolean;\n  } {\n    this.setConfigTree(configTree);\n    const totalUpdateTreeSetupStartTime = performance.now();\n\n    let localUnEvalTree = Object.assign({}, unEvalTree);\n\n    let jsUpdates: Record<string, JSUpdate> = {};\n    const diffCheckTimeStartTime = performance.now();\n    //update uneval tree from previously saved current state of collection\n    this.updateLocalUnEvalTree(localUnEvalTree, configTree);\n    //get difference in js collection body to be parsed\n    const oldUnEvalTreeJSCollections = getJSEntities(this.oldUnEvalTree);\n    const localUnEvalTreeJSCollection = getJSEntities(localUnEvalTree);\n    const jsDifferences: Diff<\n      Record<string, JSActionEntity>,\n      Record<string, JSActionEntity>\n    >[] = profileFn(\n      \"SetupUpdateTree.Diff1\",\n      undefined,\n      webworkerTelemetry,\n      () =>\n        convertMicroDiffToDeepDiff(\n          microDiff(\n            getOnlyAffectedJSObjects(\n              oldUnEvalTreeJSCollections,\n              affectedJSObjects,\n            ),\n            getOnlyAffectedJSObjects(\n              localUnEvalTreeJSCollection,\n              affectedJSObjects,\n            ),\n          ) || [],\n        ),\n    );\n\n    const jsTranslatedDiffs = flatten(\n      jsDifferences.map((diff) =>\n        translateDiffEventToDataTreeDiffEvent(diff, localUnEvalTree),\n      ),\n    );\n\n    //save parsed functions in resolveJSFunctions, update current state of js collection\n    const parsedCollections = profileFn(\n      \"SetupUpdateTree.parseJSActions\",\n      undefined,\n      webworkerTelemetry,\n      () => {\n        return parseJSActions(\n          this,\n          localUnEvalTree,\n          this.oldUnEvalTree,\n          jsTranslatedDiffs,\n        );\n      },\n    );\n\n    jsUpdates = parsedCollections.jsUpdates;\n    //update local data tree if js body has updated (remove/update/add js functions or variables)\n    localUnEvalTree = getUpdatedLocalUnEvalTreeAfterJSUpdates(\n      jsUpdates,\n      localUnEvalTree,\n      configTree,\n    );\n\n    const stringifiedOldUnEvalTreeJSCollections = convertJSFunctionsToString(\n      oldUnEvalTreeJSCollections,\n      this.oldConfigTree,\n    );\n    const stringifiedLocalUnEvalTreeJSCollection = convertJSFunctionsToString(\n      localUnEvalTreeJSCollection,\n      configTree,\n    );\n\n    const oldUnEvalTreeWithStringifiedJSFunctions = Object.assign(\n      {},\n      this.oldUnEvalTree,\n      stringifiedOldUnEvalTreeJSCollections,\n    );\n\n    const localUnEvalTreeWithStringifiedJSFunctions = Object.assign(\n      {},\n      localUnEvalTree,\n      stringifiedLocalUnEvalTreeJSCollection,\n    );\n\n    const differences: Diff<DataTree, DataTree>[] = profileFn(\n      \"unEvalTreeWithStringifiedJSFunctionsDiff\",\n      undefined,\n      webworkerTelemetry,\n      () =>\n        diff(\n          oldUnEvalTreeWithStringifiedJSFunctions,\n          localUnEvalTreeWithStringifiedJSFunctions,\n        ) || [],\n    );\n    // Since eval tree is listening to possible events that don't cause differences\n    // We want to check if no diffs are present and bail out early\n    if (differences.length === 0) {\n      return {\n        removedPaths: [],\n        unEvalUpdates: [],\n        evalOrder: [],\n        jsUpdates: {},\n        isNewWidgetAdded: false,\n      };\n    }\n\n    DataStore.update(differences);\n    let isNewWidgetAdded = false;\n\n    //find all differences which can lead to updating of dependency map\n    const translatedDiffs = flatten(\n      differences.map((diff) =>\n        translateDiffEventToDataTreeDiffEvent(diff, localUnEvalTree),\n      ),\n    );\n\n    /** We need to know if a new widget was added so that we do not fire ENTITY_BINDING_SUCCESS event */\n    for (let i = 0; i < translatedDiffs.length; i++) {\n      const diffEvent = translatedDiffs[i];\n      if (diffEvent.event === DataTreeDiffEvent.NEW) {\n        const entity = localUnEvalTree[diffEvent.payload.propertyPath];\n\n        if (isWidget(entity)) {\n          isNewWidgetAdded = true;\n\n          break;\n        }\n      }\n    }\n\n    const diffCheckTimeStopTime = performance.now();\n\n    const updateDependencyStartTime = performance.now();\n    // TODO => Optimize using dataTree diff\n\n    this.allKeys = profileFn(\"getAllPaths\", undefined, webworkerTelemetry, () =>\n      getAllPaths(localUnEvalTreeWithStringifiedJSFunctions),\n    );\n    // Find all the paths that have changed as part of the difference and update the\n    // global dependency map if an existing dynamic binding has now become legal\n    const {\n      dependencies,\n      dependenciesOfRemovedPaths,\n      inverseDependencies,\n      removedPaths,\n    } = profileFn(\"updateDependencyMap\", undefined, webworkerTelemetry, () => {\n      return updateDependencyMap({\n        configTree,\n        dataTreeEvalRef: this,\n        translatedDiffs,\n        unEvalDataTree: localUnEvalTree,\n      });\n    });\n    const updateDependencyEndTime = performance.now();\n\n    this.dependencies = dependencies;\n    this.inverseDependencies = inverseDependencies;\n\n    this.updateEvalTreeWithChanges({ differences });\n\n    const findDifferenceTime = getFixedTimeDifference(\n      diffCheckTimeStopTime,\n      diffCheckTimeStartTime,\n    );\n\n    const updateDependencyMapTime = getFixedTimeDifference(\n      updateDependencyEndTime,\n      updateDependencyStartTime,\n    );\n\n    const pathsChangedSet = new Set<string[]>();\n    for (const diff of differences) {\n      if (isArray(diff.path)) {\n        pathsChangedSet.add(diff.path);\n      }\n    }\n\n    const updatedValuePaths = [...pathsChangedSet];\n    this.logs.push({\n      differences,\n      translatedDiffs,\n    });\n\n    const setupUpdateTreeOutput = profileFn(\n      \"setupTree\",\n      undefined,\n      webworkerTelemetry,\n      () => {\n        return this.setupTree(localUnEvalTree, updatedValuePaths, {\n          totalUpdateTreeSetupStartTime,\n          dependenciesOfRemovedPaths,\n          removedPaths,\n          translatedDiffs,\n          findDifferenceTime,\n          updateDependencyMapTime,\n          configTree,\n          isNewWidgetAdded,\n        });\n      },\n    );\n\n    return {\n      ...setupUpdateTreeOutput,\n      jsUpdates,\n    };\n  }\n\n  getEvaluationOrder({\n    configTree,\n    localUnEvalTree,\n    pathsToSkipFromEval,\n    subTreeSortOrder,\n  }: {\n    localUnEvalTree: DataTree;\n    pathsToSkipFromEval: string[];\n    subTreeSortOrder: string[];\n    configTree: ConfigTree;\n  }) {\n    // Remove anything from the sort order that is not a dynamic leaf since only those need evaluation\n    const evaluationOrder: string[] = [];\n\n    for (const fullPath of subTreeSortOrder) {\n      if (pathsToSkipFromEval.includes(fullPath)) continue;\n\n      if (!isDynamicLeaf(localUnEvalTree, fullPath, configTree)) continue;\n\n      const unEvalPropValue = get(localUnEvalTree, fullPath);\n      const evalPropValue = get(this.evalTree, fullPath);\n      evaluationOrder.push(fullPath);\n      if (isFunction(evalPropValue)) continue;\n      // Set all values from unEvalTree to the evalTree to run evaluation for unevaluated values.\n      set(this.evalTree, fullPath, unEvalPropValue);\n    }\n\n    return { evaluationOrder };\n  }\n\n  setupTree(\n    localUnEvalTree: UnEvalTree,\n    updatedValuePaths: string[][],\n    extraParams: {\n      totalUpdateTreeSetupStartTime?: any;\n      dependenciesOfRemovedPaths?: string[];\n      removedPaths?: Array<{ entityId: string; fullpath: string }>;\n      translatedDiffs?: DataTreeDiff[];\n      pathsToSkipFromEval?: string[];\n      findDifferenceTime?: string;\n      updateDependencyMapTime?: string;\n      configTree: ConfigTree;\n      isNewWidgetAdded: boolean;\n    },\n  ) {\n    const {\n      configTree,\n      dependenciesOfRemovedPaths = [],\n      findDifferenceTime = \"0\",\n      isNewWidgetAdded,\n      pathsToSkipFromEval = [],\n      removedPaths = [],\n      totalUpdateTreeSetupStartTime = performance.now(),\n      translatedDiffs = [],\n      updateDependencyMapTime = \"0\",\n    } = extraParams;\n\n    updateEvalTreeWithJSCollectionState(this.evalTree);\n\n    const calculateSortOrderStartTime = performance.now();\n    const subTreeSortOrder: string[] = this.calculateSubTreeSortOrder(\n      updatedValuePaths,\n      dependenciesOfRemovedPaths,\n      removedPaths,\n      localUnEvalTree,\n      configTree,\n    );\n    const calculateSortOrderEndTime = performance.now();\n\n    const { evaluationOrder } = this.getEvaluationOrder({\n      localUnEvalTree,\n      pathsToSkipFromEval,\n      subTreeSortOrder,\n      configTree,\n    });\n\n    this.logs.push({\n      sortedDependencies: this.sortedDependencies,\n      inverseDependencies: this.inverseDependencies,\n      updatedDependencies: this.dependencies,\n      evaluationOrder: evaluationOrder,\n    });\n\n    // Remove any deleted paths from the eval tree\n    removedPaths.forEach((removedPath) => {\n      unset(this.evalTree, removedPath.fullpath);\n    });\n\n    const cloneStartTime = performance.now();\n    // TODO: For some reason we are passing some reference which are getting mutated.\n    // Need to check why big api responses are getting split between two eval runs\n    this.oldUnEvalTree = klona(localUnEvalTree);\n    this.oldConfigTree = Object.assign({}, configTree);\n    const cloneEndTime = performance.now();\n\n    const totalUpdateTreeSetupEndTime = performance.now();\n\n    const timeTakenForSetupUpdateTree = {\n      total: getFixedTimeDifference(\n        totalUpdateTreeSetupEndTime,\n        totalUpdateTreeSetupStartTime,\n      ),\n      updateDependencyMap: updateDependencyMapTime,\n      calculateSubTreeSortOrder: getFixedTimeDifference(\n        calculateSortOrderEndTime,\n        calculateSortOrderStartTime,\n      ),\n      findDifferences: findDifferenceTime,\n      clone: getFixedTimeDifference(cloneEndTime, cloneStartTime),\n    };\n\n    this.logs.push({ timeTakenForSetupUpdateTree });\n\n    return {\n      unEvalUpdates: translatedDiffs,\n      evalOrder: evaluationOrder,\n      removedPaths,\n      isNewWidgetAdded,\n    };\n  }\n\n  setupUpdateTreeWithDifferences(\n    updatedValuePaths: string[][],\n  ): ReturnType<typeof DataTreeEvaluator.prototype.setupUpdateTree> {\n    const localUnEvalTree = Object.assign({}, this.oldUnEvalTree);\n    // skipped update local unEvalTree\n    if (updatedValuePaths.length === 0) {\n      return {\n        unEvalUpdates: [],\n        evalOrder: [],\n        jsUpdates: {},\n        removedPaths: [],\n        isNewWidgetAdded: false,\n      };\n    }\n\n    /**\n     *  Only evaluate the dependents of the updatedValue and\n     *  skip the evaluation of updatedValue itself.\n     *\n     *  Example:\n     *  if \"JSObject.myVar1\" is updated\n     *  then => only re-evaluate values dependent on \"JSObject.myVar1\"\n     */\n    const pathsToSkipFromEval = updatedValuePaths.map((path) => path.join(\".\"));\n\n    return {\n      ...this.setupTree(localUnEvalTree, updatedValuePaths, {\n        pathsToSkipFromEval,\n        configTree: this.oldConfigTree,\n        isNewWidgetAdded: false,\n      }),\n      jsUpdates: {},\n    };\n  }\n\n  evalAndValidateSubTree(\n    evaluationOrder: string[],\n    configTree: ConfigTree,\n    unevalUpdates: DataTreeDiff[],\n    metaWidgetIds: string[] = [],\n  ): {\n    evalMetaUpdates: EvalMetaUpdates;\n    staleMetaIds: string[];\n    contextTree: DataTree;\n  } {\n    const evaluationStartTime = performance.now();\n\n    const {\n      contextTree,\n      evalMetaUpdates,\n      evaluatedTree: newEvalTree,\n      staleMetaIds,\n    } = this.evaluateTree(\n      this.evalTree,\n      evaluationOrder,\n      {\n        isFirstTree: false,\n        unevalUpdates,\n        metaWidgets: metaWidgetIds,\n      },\n      configTree,\n    );\n    const evaluationEndTime = performance.now();\n\n    this.setEvalTree(newEvalTree);\n\n    const timeTakenForEvalAndValidateSubTree = {\n      evaluation: getFixedTimeDifference(\n        evaluationEndTime,\n        evaluationStartTime,\n      ),\n    };\n    this.logs.push({ timeTakenForEvalAndValidateSubTree });\n    return {\n      evalMetaUpdates,\n      staleMetaIds,\n      contextTree,\n    };\n  }\n\n  getCompleteSortOrder(\n    changes: Array<string>,\n    inverseMap: Record<string, string[]>,\n  ): Array<string> {\n    let finalSortOrder: Array<string> = [];\n    let computeSortOrder = true;\n    // Initialize parents with the current sent of property paths that need to be evaluated\n    let parents = changes;\n    let subSortOrderArray: Array<string>;\n    let visitedNodes: string[] = [];\n    while (computeSortOrder) {\n      // Get all the nodes that would be impacted by the evaluation of the nodes in parents array in sorted order\n      subSortOrderArray = this.getEvaluationSortOrder(parents, inverseMap);\n      visitedNodes = union(visitedNodes, parents);\n      // Add all the sorted nodes in the final list\n      finalSortOrder = union(finalSortOrder, subSortOrderArray);\n\n      parents = getImmediateParentsOfPropertyPaths(subSortOrderArray);\n      // If we find parents of the property paths in the sorted array, we should continue finding all the nodes dependent\n      // on the parents\n      computeSortOrder = difference(parents, visitedNodes).length > 0;\n    }\n\n    // Remove duplicates from this list. Since we explicitly walk down the tree and implicitly (by fetching parents) walk\n    // up the tree, there are bound to be many duplicates.\n    const uniqueKeysInSortOrder = new Set(finalSortOrder);\n\n    // if a property path evaluation gets triggered by diff top order changes\n    // this could lead to incorrect sort order in spite of the bfs traversal\n    const sortOrderPropertyPaths: string[] = [];\n    this.sortedDependencies.forEach((path) => {\n      if (uniqueKeysInSortOrder.has(path)) {\n        sortOrderPropertyPaths.push(path);\n        // remove from the uniqueKeysInSortOrder\n        uniqueKeysInSortOrder.delete(path);\n      }\n    });\n    // Add any remaining paths in the uniqueKeysInSortOrder\n    const completeSortOrder = [\n      ...Array.from(uniqueKeysInSortOrder),\n      ...sortOrderPropertyPaths,\n    ];\n\n    //Trim this list to now remove the property paths which are simply entity names\n    const finalSortOrderArray: Array<string> = [];\n    completeSortOrder.forEach((propertyPath) => {\n      const lastIndexOfDot = propertyPath.lastIndexOf(\".\");\n      // Only do this for property paths and not the entity themselves\n      if (lastIndexOfDot !== -1) {\n        finalSortOrderArray.push(propertyPath);\n      }\n    });\n\n    return finalSortOrderArray;\n  }\n\n  getEvaluationSortOrder(\n    changes: Array<string>,\n    inverseMap: Record<string, string[]>,\n  ): Array<string> {\n    const sortOrder: Array<string> = [...changes];\n    let iterator = 0;\n    while (iterator < sortOrder.length) {\n      // Find all the nodes who are to be evaluated when sortOrder[iterator] changes\n      const newNodes = inverseMap[sortOrder[iterator]];\n\n      // If we find more nodes that would be impacted by the evaluation of the node being investigated\n      // we add these to the sort order.\n      if (newNodes) {\n        newNodes.forEach((toBeEvaluatedNode) => {\n          // Only add the nodes if they haven't been already added for evaluation in the list. Since we are doing\n          // breadth first traversal, we should be safe in not changing the evaluation order and adding this now at this\n          // point instead of the previous index found.\n          if (!sortOrder.includes(toBeEvaluatedNode)) {\n            sortOrder.push(toBeEvaluatedNode);\n          }\n        });\n      }\n      iterator++;\n    }\n    return sortOrder;\n  }\n\n  getPrivateWidgets(dataTree: DataTree): PrivateWidgets {\n    let privateWidgets: PrivateWidgets = {};\n    Object.keys(dataTree).forEach((entityName) => {\n      const entity = dataTree[entityName];\n      if (isWidget(entity) && !isEmpty(entity.privateWidgets)) {\n        privateWidgets = {\n          ...privateWidgets,\n          ...entity.privateWidgets,\n        };\n      }\n    });\n    return privateWidgets;\n  }\n\n  evaluateTree(\n    unEvalTree: DataTree,\n    evaluationOrder: Array<string>,\n    options: {\n      isFirstTree: boolean;\n      unevalUpdates: DataTreeDiff[];\n      metaWidgets: string[];\n    } = {\n      isFirstTree: true,\n      unevalUpdates: [],\n      metaWidgets: [],\n    },\n    oldConfigTree: ConfigTree,\n  ): {\n    evaluatedTree: DataTree;\n    evalMetaUpdates: EvalMetaUpdates;\n    staleMetaIds: string[];\n    contextTree: DataTree;\n  } {\n    const safeTree = klona(unEvalTree);\n    const dataStore = DataStore.getDataStore();\n    const dataStoreClone = klonaJSON(dataStore);\n\n    updateTreeWithData(safeTree, dataStoreClone);\n    updateTreeWithData(unEvalTree, dataStore);\n\n    /**\n     * contextTree is a mutable dataTree, it gets passed as a context for each evaluation\n     * and gets updated both, with evaluated values and mutations.\n     *\n     * SafeTree is free of mutations because we make sure to only set evaluated values into it.\n     */\n    const contextTree = unEvalTree;\n    errorModifier.updateAsyncFunctions(\n      contextTree,\n      this.getConfigTree(),\n      this.dependencyMap,\n    );\n\n    const evalMetaUpdates: EvalMetaUpdates = [];\n    const { isFirstTree, metaWidgets, unevalUpdates } = options;\n    let staleMetaIds: string[] = [];\n    try {\n      for (const fullPropertyPath of evaluationOrder) {\n        const { entityName, propertyPath } =\n          getEntityNameAndPropertyPath(fullPropertyPath);\n        const entity = contextTree[entityName];\n        const entityConfig = oldConfigTree[entityName];\n        if (!isWidgetActionOrJsObject(entity)) continue;\n\n        let unEvalPropertyValue = get(contextTree as any, fullPropertyPath);\n\n        const isADynamicBindingPath = isAPathDynamicBindingPath(\n          entity,\n          entityConfig,\n          propertyPath,\n        );\n\n        const isATriggerPath =\n          isWidget(entity) &&\n          isPathDynamicTrigger(\n            entityConfig as WidgetEntityConfig,\n            propertyPath,\n          );\n        let evalPropertyValue;\n        const requiresEval =\n          isADynamicBindingPath &&\n          !isATriggerPath &&\n          (isDynamicValue(unEvalPropertyValue) || isJSAction(entity));\n        if (propertyPath) {\n          set(this.evalProps, getEvalErrorPath(fullPropertyPath), []);\n        }\n\n        if (requiresEval) {\n          const evaluationSubstitutionType =\n            entityConfig.reactivePaths[propertyPath] ||\n            EvaluationSubstitutionType.TEMPLATE;\n\n          const contextData: EvaluateContext = {};\n          if (isAction(entity)) {\n            // Add empty object for this.params to avoid undefined errors\n            contextData.globalContext = {\n              [THIS_DOT_PARAMS_KEY]: {},\n            };\n\n            unEvalPropertyValue = replaceThisDotParams(unEvalPropertyValue);\n          }\n          try {\n            evalPropertyValue = this.getDynamicValue(\n              unEvalPropertyValue,\n              contextTree,\n              oldConfigTree,\n              evaluationSubstitutionType,\n              contextData,\n              undefined,\n              fullPropertyPath,\n            );\n          } catch (error) {\n            this.errors.push({\n              type: EvalErrorTypes.EVAL_PROPERTY_ERROR,\n              message: (error as Error).message,\n              context: {\n                propertyPath: fullPropertyPath,\n              },\n            });\n            evalPropertyValue = undefined;\n          }\n        } else {\n          evalPropertyValue = unEvalPropertyValue;\n        }\n\n        this.updateUndefinedEvalValuesMap(\n          this.undefinedEvalValuesMap,\n          evalPropertyValue,\n          fullPropertyPath,\n        );\n\n        const entityType = entity.ENTITY_TYPE;\n        if (!propertyPath) continue;\n        switch (entityType) {\n          case ENTITY_TYPE.WIDGET: {\n            if (isATriggerPath) continue;\n\n            const isNewWidget =\n              isFirstTree || isNewEntity(unevalUpdates, entityName);\n\n            const widgetEntity = entity as WidgetEntity;\n\n            let parsedValue = validateAndParseWidgetProperty({\n              fullPropertyPath,\n              widget: widgetEntity,\n              configTree: oldConfigTree,\n              evalPropertyValue,\n              unEvalPropertyValue,\n              evalProps: this.evalProps,\n            });\n\n            parsedValue = this.getParsedValueForWidgetProperty({\n              currentTree: contextTree,\n              configTree: oldConfigTree,\n              entity: widgetEntity,\n              evalMetaUpdates,\n              fullPropertyPath,\n              parsedValue,\n              propertyPath,\n              isNewWidget,\n              safeTree,\n            });\n\n            // setting evalPropertyValue in unParsedEvalTree\n            set(\n              this.getUnParsedEvalTree(),\n              fullPropertyPath,\n              evalPropertyValue,\n            );\n\n            set(contextTree, fullPropertyPath, parsedValue);\n            set(safeTree, fullPropertyPath, klona(parsedValue));\n\n            staleMetaIds = staleMetaIds.concat(\n              getStaleMetaStateIds({\n                entity: widgetEntity,\n                entityConfig: entityConfig as WidgetEntityConfig,\n                propertyPath,\n                isNewWidget,\n                metaWidgets,\n              }),\n            );\n            break;\n          }\n          case ENTITY_TYPE.ACTION: {\n            const actionEntity = entity as ActionEntity;\n\n            const configProperty = propertyPath.replace(\n              \"config\",\n              \"actionConfiguration\",\n            );\n            const validationConfig =\n              this.allActionValidationConfig?.[actionEntity.actionId]?.[\n                configProperty\n              ];\n            this.validateActionProperty(\n              fullPropertyPath,\n              actionEntity,\n              contextTree,\n              evalPropertyValue,\n              unEvalPropertyValue,\n              oldConfigTree,\n              validationConfig,\n            );\n\n            if (!propertyPath) continue;\n\n            /**\n             * Perf optimization very specific to handling actions\n             * Fields like Api1.data doesn't get evaluated since it is not in dynamicBindingPathList\n             * Action validation only captures validation error and doesn't transform the evaluated values.\n             * This means that the values we are looking to set back in the 2 dataTrees are already there.\n             */\n            if (!requiresEval) continue;\n\n            set(contextTree, fullPropertyPath, evalPropertyValue);\n            set(safeTree, fullPropertyPath, klona(evalPropertyValue));\n            break;\n          }\n          case ENTITY_TYPE.JSACTION: {\n            const variableList =\n              (entityConfig as JSActionEntityConfig).variables || [];\n            if (variableList.indexOf(propertyPath) === -1) break;\n\n            const prevEvaluatedValue = get(\n              this.evalProps,\n              getEvalValuePath(fullPropertyPath, {\n                isPopulated: true,\n                fullPath: true,\n              }),\n            );\n\n            const prevUnEvalValue = JSObjectCollection.getPrevUnEvalState({\n              fullPath: fullPropertyPath,\n            });\n\n            const hasUnEvalValueModified = !isEqual(\n              prevUnEvalValue,\n              unEvalPropertyValue,\n            );\n\n            const skipVariableValueAssignment =\n              !hasUnEvalValueModified && prevEvaluatedValue;\n\n            const evalValue = skipVariableValueAssignment\n              ? prevEvaluatedValue\n              : evalPropertyValue;\n\n            /** Variables defined in a JS object are not reactive.\n             * Their evaluated values need to be reset only when the variable is modified by the user.\n             * When uneval value of a js variable hasn't changed, it means that the previously evaluated values are in both trees already  */\n            if (!skipVariableValueAssignment) {\n              const valueForSafeTree = klona(evalValue);\n              set(contextTree, fullPropertyPath, evalValue);\n              set(safeTree, fullPropertyPath, valueForSafeTree);\n              JSObjectCollection.setVariableValue(evalValue, fullPropertyPath);\n              JSObjectCollection.setPrevUnEvalState({\n                fullPath: fullPropertyPath,\n                unEvalValue: unEvalPropertyValue,\n              });\n            }\n            break;\n          }\n          default:\n            set(contextTree, fullPropertyPath, evalPropertyValue);\n            set(safeTree, fullPropertyPath, klona(evalPropertyValue));\n        }\n      }\n    } catch (error) {\n      staleMetaIds = [];\n      this.errors.push({\n        type: EvalErrorTypes.EVAL_TREE_ERROR,\n        message: (error as Error).message,\n      });\n    } finally {\n      // Restore the dataStore since it was a part of contextTree and prone to mutation.\n      DataStore.replaceDataStore(dataStoreClone);\n\n      // The below statement restores the execution context for async tasks are probably queued.\n      setEvalContext({\n        dataTree: contextTree,\n        configTree: oldConfigTree,\n        isDataField: false,\n        isTriggerBased: true,\n      });\n\n      return {\n        evaluatedTree: safeTree,\n        contextTree: contextTree,\n        evalMetaUpdates,\n        staleMetaIds,\n      };\n    }\n  }\n\n  updateUndefinedEvalValuesMap(\n    undefinedEvalValuesMap: Record<string, boolean>,\n    evalPropertyValue: unknown,\n    fullPropertyPath: string,\n  ) {\n    if (isUndefined(evalPropertyValue)) {\n      undefinedEvalValuesMap[fullPropertyPath] = true;\n    } else if (\n      fullPropertyPath in undefinedEvalValuesMap &&\n      !isUndefined(undefinedEvalValuesMap[fullPropertyPath])\n    ) {\n      delete undefinedEvalValuesMap[fullPropertyPath];\n    }\n  }\n\n  setAllActionValidationConfig(allActionValidationConfig: {\n    [actionId: string]: ActionValidationConfigMap;\n  }): void {\n    this.allActionValidationConfig = allActionValidationConfig;\n  }\n\n  sortDependencies(\n    dependencyMap: DependencyMap,\n    diffs?: DataTreeDiff[],\n  ): Array<string> {\n    const result = DependencyMapUtils.sortDependencies(dependencyMap);\n    if (result.success) {\n      return result.sortedDependencies;\n    } else {\n      const node = result.cyclicNode;\n      let entityType = \"UNKNOWN\";\n      const entityName = node.split(\".\")[0];\n      const entity = get(this.oldUnEvalTree, entityName) as DataTreeEntity;\n      const entityConfig = get(this.oldConfigTree, entityName);\n      if (entity && isWidget(entity)) {\n        entityType = entity.type;\n      } else if (entity && isAction(entity)) {\n        const actionEntityConfig = entityConfig as ActionEntityConfig;\n        entityType = actionEntityConfig.pluginType;\n      } else if (entity && isJSAction(entity)) {\n        entityType = entity.ENTITY_TYPE;\n      }\n      const dependencies = dependencyMap.dependencies;\n\n      // We are only interested in logging potential system-generated cyclic dependency errors to Sentry\n      // If a cyclic dependency error occurs without a user editing a dynamic field, that is a potential system-generated cyclic dependency error\n\n      const logToSentry = !diffs\n        ? false\n        : !diffs.some((val) => val.event === DataTreeDiffEvent.EDIT);\n      this.errors.push({\n        type: EvalErrorTypes.CYCLICAL_DEPENDENCY_ERROR,\n        message: \"Cyclic dependency found while evaluating.\",\n        context: {\n          node,\n          entityType,\n          dependencyMap: dependencies,\n          diffs,\n          logToSentry,\n        },\n      });\n      logError(\"CYCLICAL DEPENDENCY MAP\", dependencies);\n      this.hasCyclicalDependency = true;\n      throw new CrashingError((result.error as Error).message);\n    }\n  }\n\n  getDynamicValue(\n    dynamicBinding: string,\n    data: DataTree,\n    configTree: ConfigTree,\n    evaluationSubstitutionType: EvaluationSubstitutionType,\n    contextData?: EvaluateContext,\n    callBackData?: Array<any>,\n    fullPropertyPath?: string,\n  ) {\n    // Get the {{binding}} bound values\n    let entity: DataTreeEntity | undefined = undefined;\n    let entityConfig: DataTreeEntityConfig | undefined = undefined;\n    let propertyPath: string;\n    if (fullPropertyPath) {\n      const entityName = fullPropertyPath.split(\".\")[0];\n      propertyPath = fullPropertyPath.split(\".\")[1];\n      entity = data[entityName];\n      entityConfig = configTree[entityName];\n    }\n    // Get the {{binding}} bound values\n    const { jsSnippets, stringSegments } = getDynamicBindings(\n      dynamicBinding,\n      entity,\n    );\n    if (stringSegments.length) {\n      // Get the Data Tree value of those \"binding \"paths\n      const values = jsSnippets.map((jsSnippet, index) => {\n        const toBeSentForEval =\n          entity && isJSAction(entity) && propertyPath === \"body\"\n            ? jsSnippet.replace(/export default/g, \"\")\n            : jsSnippet;\n        if (jsSnippet) {\n          if (\n            entity &&\n            entityConfig &&\n            !!propertyPath &&\n            !propertyPath.includes(\"body\")\n          ) {\n            ExecutionMetaData.setExecutionMetaData({\n              triggerMeta: {\n                source: {\n                  id: getEntityId(entity) || \"\",\n                  entityType: getEntityType(entity) || ENTITY_TYPE.WIDGET,\n                  name: getEntityName(entity, entityConfig) || \"\",\n                },\n                triggerPropertyName: fullPropertyPath?.split(\".\")[1] || \"\",\n                onPageLoad: false,\n              },\n            });\n          }\n\n          const { errors: evalErrors, result } = this.evaluateDynamicBoundValue(\n            toBeSentForEval,\n            data,\n            !!entity && isAnyJSAction(entity),\n            contextData,\n            callBackData,\n          );\n          if (fullPropertyPath && evalErrors.length) {\n            addErrorToEntityProperty({\n              errors: errorModifier.addRootcauseToAsyncInvocationErrors(\n                fullPropertyPath,\n                configTree,\n                evalErrors,\n                this.dependencyMap,\n              ),\n              evalProps: this.evalProps,\n              fullPropertyPath,\n              configTree,\n            });\n          }\n          return result;\n        } else {\n          return stringSegments[index];\n        }\n      });\n\n      // We don't need to substitute template of the result if only one binding exists\n      // But it should not be of prepared statements since that does need a string\n      if (\n        stringSegments.length === 1 &&\n        evaluationSubstitutionType !== EvaluationSubstitutionType.PARAMETER\n      ) {\n        return values[0];\n      }\n      try {\n        // else return a combined value according to the evaluation type\n        return substituteDynamicBindingWithValues(\n          dynamicBinding,\n          stringSegments,\n          values,\n          evaluationSubstitutionType,\n        );\n      } catch (error) {\n        if (fullPropertyPath) {\n          addErrorToEntityProperty({\n            errors: [\n              {\n                raw: dynamicBinding,\n                errorType: PropertyEvaluationErrorType.PARSE,\n                errorMessage: {\n                  name: (error as Error).name,\n                  message: (error as Error).message,\n                },\n                severity: Severity.ERROR,\n              },\n            ],\n            evalProps: this.evalProps,\n            fullPropertyPath,\n            configTree,\n          });\n        }\n        return undefined;\n      }\n    }\n    return undefined;\n  }\n\n  async evaluateTriggers(\n    userScript: string,\n    dataTree: DataTree,\n    configTree: ConfigTree,\n    callbackData: Array<unknown>,\n    context?: EvaluateContext,\n  ) {\n    const isDynamic = isDynamicValue(userScript);\n    const { jsSnippets } = getDynamicBindings(userScript);\n\n    return evaluateAsync(\n      /**\n       * jsSnippets[0] will be \"\" when a JS Object's function is run manually or when an empty action for a trigger field is configured.\n       * Eg. Button1.onClick = \"{{}}\"\n       * isDynamic will be false for JSObject's function run but will be true for action bindings.\n       */\n      isDynamic ? jsSnippets[0] : userScript,\n      dataTree,\n      configTree,\n      context,\n      callbackData,\n    );\n  }\n\n  // Paths are expected to have \"{name}.{path}\" signature\n  // Also returns any action triggers found after evaluating value\n  evaluateDynamicBoundValue(\n    js: string,\n    data: DataTree,\n    isJSObject: boolean,\n    contextData?: EvaluateContext,\n    callbackData?: Array<any>,\n  ): EvalResult {\n    let evalResponse: EvalResult;\n    ExecutionMetaData.setExecutionMetaData({\n      enableJSVarUpdateTracking: false,\n      enableJSFnPostProcessors: false,\n    });\n    try {\n      evalResponse = evaluateSync(\n        js,\n        data,\n        isJSObject,\n        contextData,\n        callbackData,\n      );\n    } catch (error) {\n      evalResponse = {\n        result: undefined,\n        errors: [\n          {\n            errorType: PropertyEvaluationErrorType.PARSE,\n            raw: js,\n            severity: Severity.ERROR,\n            errorMessage: {\n              name: (error as Error).name,\n              message: (error as Error).message,\n            },\n          },\n        ],\n      };\n    }\n    ExecutionMetaData.setExecutionMetaData({\n      enableJSVarUpdateTracking: true,\n      enableJSFnPostProcessors: true,\n    });\n    return evalResponse;\n  }\n\n  getParsedValueForWidgetProperty({\n    configTree,\n    currentTree,\n    entity,\n    evalMetaUpdates,\n    fullPropertyPath,\n    isNewWidget,\n    parsedValue,\n    propertyPath,\n    safeTree,\n  }: {\n    currentTree: DataTree;\n    configTree: ConfigTree;\n    entity: WidgetEntity;\n    evalMetaUpdates: EvalMetaUpdates;\n    fullPropertyPath: string;\n    isNewWidget: boolean;\n    parsedValue: unknown;\n    propertyPath: string;\n    safeTree?: DataTree;\n  }) {\n    const overwriteObj = overrideWidgetProperties({\n      entity,\n      propertyPath,\n      value: parsedValue,\n      currentTree,\n      configTree,\n      evalMetaUpdates,\n      fullPropertyPath,\n      isNewWidget,\n      safeTree,\n    });\n\n    if (overwriteObj && overwriteObj.overwriteParsedValue) {\n      parsedValue = overwriteObj.newValue;\n    }\n\n    return parsedValue;\n  }\n\n  // validates the user input saved as action property based on a validationConfig\n  validateActionProperty(\n    fullPropertyPath: string,\n    action: ActionEntity,\n    currentTree: DataTree,\n    evalPropertyValue: any,\n    unEvalPropertyValue: string,\n    configTree: ConfigTree,\n    validationConfig?: ValidationConfig,\n  ) {\n    if (!evalPropertyValue || isEmpty(validationConfig)) return;\n    // runs VALIDATOR function and returns errors\n    const { isValid, messages } = validateActionProperty(\n      validationConfig,\n      evalPropertyValue,\n    );\n    if (isValid) return;\n    resetValidationErrorsForEntityProperty({\n      evalProps: this.evalProps,\n      fullPropertyPath,\n    });\n    const evalErrors: EvaluationError[] =\n      messages?.map((message) => {\n        return {\n          raw: unEvalPropertyValue,\n          errorMessage: message || { name: \"\", text: \"\" },\n          errorType: PropertyEvaluationErrorType.VALIDATION,\n          severity: Severity.ERROR,\n        };\n      }) ?? [];\n    // saves error in dataTree at fullPropertyPath\n    // Later errors can consumed by the forms and debugger\n    addErrorToEntityProperty({\n      errors: evalErrors,\n      evalProps: this.evalProps,\n      fullPropertyPath,\n      configTree,\n    });\n  }\n\n  updateEvalTreeWithChanges({\n    differences,\n  }: {\n    differences: Diff<any, any>[];\n  }) {\n    for (const d of differences) {\n      if (!Array.isArray(d.path) || d.path.length === 0) continue; // Null check for typescript\n      // Apply the changes into the evalTree so that it gets the latest changes\n      applyChange(this.evalTree, undefined, d);\n    }\n  }\n\n  calculateSubTreeSortOrder(\n    updatedValuePaths: string[][],\n    dependenciesOfRemovedPaths: Array<string>,\n    removedPaths: Array<{ entityId: string; fullpath: string }>,\n    unEvalTree: DataTree,\n    configTree: ConfigTree,\n  ) {\n    const changePaths: Set<string> = new Set(dependenciesOfRemovedPaths);\n    for (const path of updatedValuePaths) {\n      changePaths.add(convertPathToString(path));\n      // If this is a property path change, simply add for evaluation and move on\n      if (!isDynamicLeaf(unEvalTree, convertPathToString(path), configTree)) {\n        // A parent level property has been added or deleted\n        /**\n         * We want to add all pre-existing dynamic and static bindings in dynamic paths of this entity to get evaluated and validated.\n         * Example:\n         * - Table1.tableData = {{Api1.data}}\n         * - Api1 gets created.\n         * - This function gets called with a diff {path:[\"Api1\"]}\n         * We want to add `Api.data` to changedPaths so that `Table1.tableData` can be discovered below.\n         */\n        const entityName = path[0];\n        const entityConfig = configTree[entityName];\n        const entity = unEvalTree[entityName];\n        if (!entity) {\n          continue;\n        }\n        if (isNotEntity(entity)) {\n          continue;\n        }\n        let entityDynamicBindingPaths: string[] = [];\n        if (isAction(entity)) {\n          const entityDynamicBindingPathList =\n            getEntityDynamicBindingPathList(entityConfig);\n          entityDynamicBindingPaths = entityDynamicBindingPathList.map(\n            (path) => {\n              return path.key;\n            },\n          );\n        }\n        const parentPropertyPath = convertPathToString(path);\n        if (!isEmpty(entityConfig.reactivePaths)) {\n          Object.keys(entityConfig.reactivePaths).forEach((relativePath) => {\n            const childPropertyPath = `${entityName}.${relativePath}`;\n            // Check if relative path has dynamic binding\n            if (\n              entityDynamicBindingPaths &&\n              entityDynamicBindingPaths.length &&\n              entityDynamicBindingPaths.includes(relativePath)\n            ) {\n              changePaths.add(childPropertyPath);\n            }\n            if (isChildPropertyPath(parentPropertyPath, childPropertyPath)) {\n              changePaths.add(childPropertyPath);\n            }\n          });\n        }\n      }\n    }\n\n    // If a nested property path has changed and someone (say x) is dependent on the parent of the said property,\n    // x must also be evaluated. For example, the following relationship exists in dependency map:\n    // <  \"Input1.defaultText\" : [\"Table1.selectedRow.email\"] >\n    // If Table1.selectedRow has changed, then Input1.defaultText must also be evaluated because Table1.selectedRow.email\n    // is a nested property of Table1.selectedRow\n    const changePathsWithNestedDependants = addDependantsOfNestedPropertyPaths(\n      Array.from(changePaths),\n      this.inverseDependencies,\n    );\n\n    const trimmedChangedPaths = trimDependantChangePaths(\n      changePathsWithNestedDependants,\n      this.dependencies,\n    );\n\n    // Now that we have all the root nodes which have to be evaluated, recursively find all the other paths which\n    // would get impacted because they are dependent on the said root nodes and add them in order\n    const completeSortOrder = this.getCompleteSortOrder(\n      trimmedChangedPaths,\n      this.inverseDependencies,\n    );\n\n    // Remove any paths that do not exist in the data tree anymore\n    return difference(\n      completeSortOrder,\n      removedPaths.map((removedPath) => removedPath.fullpath),\n    );\n  }\n\n  evaluateActionBindings(\n    bindings: string[],\n    executionParams?: Record<string, unknown> | string,\n  ) {\n    const dataTree = klona(this.evalTree);\n    // We might get execution params as an object or as a string.\n    // If the user has added a proper object (valid case) it will be an object\n    // If they have not added any execution params or not an object\n    // it would be a string (invalid case)\n    let evaluatedExecutionParams: Record<string, any> = {};\n    let overrideContext: Record<string, unknown>;\n    if (executionParams && isObject(executionParams)) {\n      evaluatedExecutionParams = this.getDynamicValue(\n        `{{${JSON.stringify(executionParams)}}}`,\n        this.evalTree,\n        this.oldConfigTree,\n        EvaluationSubstitutionType.TEMPLATE,\n      );\n\n      overrideContext = generateOverrideContext({\n        bindings,\n        executionParams,\n        dataTree,\n      });\n    }\n\n    return bindings.map((binding) => {\n      // Replace any reference of 'this.params' to 'executionParams' (backwards compatibility)\n      // also helps with dealing with IIFE which are normal functions (not arrow)\n      // because normal functions won't retain 'this' context (when executed elsewhere)\n      const replacedBinding = binding.replace(\n        EXECUTION_PARAM_REFERENCE_REGEX,\n        EXECUTION_PARAM_KEY,\n      );\n      return this.getDynamicValue(\n        `{{${replacedBinding}}}`,\n        dataTree,\n        this.oldConfigTree,\n        EvaluationSubstitutionType.TEMPLATE,\n        // params can be accessed via \"this.params\" or \"executionParams\"\n        {\n          thisContext: {\n            [THIS_DOT_PARAMS_KEY]: evaluatedExecutionParams,\n          },\n          globalContext: {\n            [EXECUTION_PARAM_KEY]: evaluatedExecutionParams,\n          },\n          overrideContext,\n        },\n      );\n    });\n  }\n\n  clearErrors() {\n    this.errors = [];\n  }\n  clearLogs() {\n    this.logs = [];\n  }\n}\n","import type { ConfigTree, DataTree } from \"entities/DataTree/dataTreeTypes\";\nimport type ReplayEntity from \"entities/Replay\";\nimport ReplayCanvas from \"entities/Replay/ReplayEntity/ReplayCanvas\";\nimport { isEmpty } from \"lodash\";\nimport type { DependencyMap, EvalError } from \"utils/DynamicBindingUtils\";\nimport { EvalErrorTypes } from \"utils/DynamicBindingUtils\";\nimport type { JSUpdate } from \"utils/JSPaneUtils\";\nimport DataTreeEvaluator from \"workers/common/DataTreeEvaluator\";\nimport type { EvalMetaUpdates } from \"@appsmith/workers/common/DataTreeEvaluator/types\";\nimport { makeEntityConfigsAsObjProperties } from \"@appsmith/workers/Evaluation/dataTreeUtils\";\nimport type { DataTreeDiff } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport { serialiseToBigInt } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport {\n  CrashingError,\n  getSafeToRenderDataTree,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport type {\n  EvalTreeRequestData,\n  EvalTreeResponseData,\n  EvalWorkerSyncRequest,\n} from \"../types\";\nimport { clearAllIntervals } from \"../fns/overrides/interval\";\nimport JSObjectCollection from \"workers/Evaluation/JSObject/Collection\";\nimport { getJSVariableCreatedEvents } from \"../JSObject/JSVariableEvents\";\nimport { errorModifier } from \"../errorModifier\";\nimport {\n  generateOptimisedUpdatesAndSetPrevState,\n  uniqueOrderUpdatePaths,\n} from \"../helpers\";\nimport DataStore from \"../dataStore\";\nimport type { TransmissionErrorHandler } from \"../fns/utils/Messenger\";\nimport { MessageType, sendMessage } from \"utils/MessageUtil\";\nimport {\n  profileFn,\n  newWebWorkerSpanData,\n} from \"UITelemetry/generateWebWorkerTraces\";\nimport type { SpanAttributes } from \"UITelemetry/generateTraces\";\nimport type { CanvasWidgetsReduxState } from \"reducers/entityReducers/canvasWidgetsReducer\";\nimport type { MetaWidgetsReduxState } from \"reducers/entityReducers/metaWidgetsReducer\";\n\nexport let replayMap: Record<string, ReplayEntity<any>> | undefined;\nexport let dataTreeEvaluator: DataTreeEvaluator | undefined;\nexport const CANVAS = \"canvas\";\nexport let canvasWidgetsMeta: Record<string, any>;\nexport let metaWidgetsCache: MetaWidgetsReduxState;\nexport let canvasWidgets: CanvasWidgetsReduxState;\n\nexport function evalTree(request: EvalWorkerSyncRequest) {\n  const { data, webworkerTelemetry } = request;\n  webworkerTelemetry[\"transferDataToWorkerThread\"].endTime = Date.now();\n\n  let evalOrder: string[] = [];\n  let jsUpdates: Record<string, JSUpdate> = {};\n  let unEvalUpdates: DataTreeDiff[] = [];\n  let isCreateFirstTree = false;\n  let dataTree: DataTree = {};\n  let errors: EvalError[] = [];\n  let logs: any[] = [];\n  let dependencies: DependencyMap = {};\n  let evalMetaUpdates: EvalMetaUpdates = [];\n  let configTree: ConfigTree = {};\n  let staleMetaIds: string[] = [];\n  let removedPaths: Array<{ entityId: string; fullpath: string }> = [];\n  let isNewWidgetAdded = false;\n\n  const {\n    affectedJSObjects,\n    allActionValidationConfig,\n    appMode,\n    forceEvaluation,\n    metaWidgets,\n    shouldReplay,\n    shouldRespondWithLogs,\n    theme,\n    unevalTree: __unevalTree__,\n    widgets,\n    widgetsMeta,\n    widgetTypeConfigMap,\n  } = data as EvalTreeRequestData;\n\n  const unevalTree = __unevalTree__.unEvalTree;\n  configTree = __unevalTree__.configTree as ConfigTree;\n  canvasWidgets = widgets;\n  canvasWidgetsMeta = widgetsMeta;\n  metaWidgetsCache = metaWidgets;\n  let isNewTree = false;\n\n  try {\n    (webworkerTelemetry.__spanAttributes as SpanAttributes)[\"firstEvaluation\"] =\n      !dataTreeEvaluator;\n\n    if (!dataTreeEvaluator) {\n      isCreateFirstTree = true;\n      replayMap = replayMap || {};\n      replayMap[CANVAS] = new ReplayCanvas({ widgets, theme });\n      errorModifier.init(appMode);\n      dataTreeEvaluator = new DataTreeEvaluator(\n        widgetTypeConfigMap,\n        allActionValidationConfig,\n      );\n\n      const setupFirstTreeResponse = profileFn(\n        \"setupFirstTree\",\n        { description: \"during initialisation\" },\n        webworkerTelemetry,\n        () =>\n          dataTreeEvaluator?.setupFirstTree(\n            unevalTree,\n            configTree,\n            webworkerTelemetry,\n          ),\n      );\n\n      evalOrder = setupFirstTreeResponse.evalOrder;\n      jsUpdates = setupFirstTreeResponse.jsUpdates;\n\n      const dataTreeResponse = profileFn(\n        \"evalAndValidateFirstTree\",\n        { description: \"during initialisation\" },\n        webworkerTelemetry,\n        () => dataTreeEvaluator?.evalAndValidateFirstTree(),\n      );\n\n      dataTree = makeEntityConfigsAsObjProperties(dataTreeResponse.evalTree, {\n        evalProps: dataTreeEvaluator.evalProps,\n      });\n      staleMetaIds = dataTreeResponse.staleMetaIds;\n      isNewTree = true;\n    } else if (dataTreeEvaluator.hasCyclicalDependency || forceEvaluation) {\n      if (dataTreeEvaluator && !isEmpty(allActionValidationConfig)) {\n        //allActionValidationConfigs may not be set in dataTreeEvaluator. Therefore, set it explicitly via setter method\n        dataTreeEvaluator.setAllActionValidationConfig(\n          allActionValidationConfig,\n        );\n      }\n      if (shouldReplay && replayMap) {\n        replayMap[CANVAS]?.update({ widgets, theme });\n      }\n      dataTreeEvaluator = new DataTreeEvaluator(\n        widgetTypeConfigMap,\n        allActionValidationConfig,\n      );\n      if (dataTreeEvaluator && !isEmpty(allActionValidationConfig)) {\n        dataTreeEvaluator.setAllActionValidationConfig(\n          allActionValidationConfig,\n        );\n      }\n\n      const setupFirstTreeResponse = profileFn(\n        \"setupFirstTree\",\n        { description: \"non-initialisation\" },\n        webworkerTelemetry,\n        () => dataTreeEvaluator?.setupFirstTree(unevalTree, configTree),\n      );\n      isCreateFirstTree = true;\n      evalOrder = setupFirstTreeResponse.evalOrder;\n      jsUpdates = setupFirstTreeResponse.jsUpdates;\n\n      const dataTreeResponse = profileFn(\n        \"evalAndValidateFirstTree\",\n        { description: \"non-initialisation\" },\n        webworkerTelemetry,\n        () => dataTreeEvaluator?.evalAndValidateFirstTree(),\n      );\n\n      dataTree = makeEntityConfigsAsObjProperties(dataTreeResponse.evalTree, {\n        evalProps: dataTreeEvaluator.evalProps,\n      });\n      staleMetaIds = dataTreeResponse.staleMetaIds;\n    } else {\n      if (dataTreeEvaluator && !isEmpty(allActionValidationConfig)) {\n        dataTreeEvaluator.setAllActionValidationConfig(\n          allActionValidationConfig,\n        );\n      }\n      isCreateFirstTree = false;\n      if (shouldReplay && replayMap) {\n        replayMap[CANVAS]?.update({ widgets, theme });\n      }\n\n      const setupUpdateTreeResponse = profileFn(\n        \"setupUpdateTree\",\n        undefined,\n        webworkerTelemetry,\n        () =>\n          dataTreeEvaluator?.setupUpdateTree(\n            unevalTree,\n            configTree,\n            webworkerTelemetry,\n            affectedJSObjects,\n          ),\n      );\n\n      evalOrder = setupUpdateTreeResponse.evalOrder;\n      jsUpdates = setupUpdateTreeResponse.jsUpdates;\n      unEvalUpdates = setupUpdateTreeResponse.unEvalUpdates;\n      removedPaths = setupUpdateTreeResponse.removedPaths;\n      isNewWidgetAdded = setupUpdateTreeResponse.isNewWidgetAdded;\n\n      const updateResponse = profileFn(\n        \"evalAndValidateSubTree\",\n        undefined,\n        webworkerTelemetry,\n        () =>\n          dataTreeEvaluator?.evalAndValidateSubTree(\n            evalOrder,\n            configTree,\n            unEvalUpdates,\n            Object.keys(metaWidgets),\n          ),\n      );\n\n      dataTree = makeEntityConfigsAsObjProperties(dataTreeEvaluator.evalTree, {\n        evalProps: dataTreeEvaluator.evalProps,\n      });\n\n      evalMetaUpdates = JSON.parse(\n        JSON.stringify(updateResponse.evalMetaUpdates),\n      );\n      staleMetaIds = updateResponse.staleMetaIds;\n    }\n    dependencies = dataTreeEvaluator.inverseDependencies;\n    errors = dataTreeEvaluator.errors;\n    dataTreeEvaluator.clearErrors();\n    logs = dataTreeEvaluator.logs;\n    if (shouldReplay && replayMap) {\n      if (replayMap[CANVAS]?.logs) logs = logs.concat(replayMap[CANVAS]?.logs);\n      replayMap[CANVAS]?.clearLogs();\n    }\n\n    dataTreeEvaluator.clearLogs();\n  } catch (error) {\n    if (dataTreeEvaluator !== undefined) {\n      errors = dataTreeEvaluator.errors;\n      logs = dataTreeEvaluator.logs;\n    }\n    if (!(error instanceof CrashingError)) {\n      errors.push({\n        type: EvalErrorTypes.UNKNOWN_ERROR,\n        message: (error as Error).message,\n      });\n      // eslint-disable-next-line\n      console.error(error);\n    }\n    dataTree = getSafeToRenderDataTree(\n      makeEntityConfigsAsObjProperties(unevalTree, {\n        sanitizeDataTree: false,\n        evalProps: dataTreeEvaluator?.evalProps,\n      }),\n      widgetTypeConfigMap,\n      configTree,\n    );\n    unEvalUpdates = [];\n    isNewTree = true;\n  }\n\n  const jsVarsCreatedEvent = getJSVariableCreatedEvents(jsUpdates);\n\n  const updates = profileFn(\n    \"diffAndGenerateSerializeUpdates\",\n    undefined,\n    webworkerTelemetry,\n    () => {\n      let updates;\n      if (isNewTree) {\n        try {\n          //for new tree send the whole thing, don't diff at all\n          updates = serialiseToBigInt([{ kind: \"newTree\", rhs: dataTree }]);\n          dataTreeEvaluator?.setPrevState(dataTree);\n        } catch (e) {\n          updates = \"[]\";\n        }\n        isNewTree = false;\n      } else {\n        const allUnevalUpdates = unEvalUpdates.map(\n          (update) => update.payload.propertyPath,\n        );\n\n        const completeEvalOrder = uniqueOrderUpdatePaths([\n          ...allUnevalUpdates,\n          ...evalOrder,\n        ]);\n\n        updates = generateOptimisedUpdatesAndSetPrevState(\n          dataTree,\n          dataTreeEvaluator,\n          completeEvalOrder,\n        );\n      }\n      return updates;\n    },\n  );\n\n  const evalTreeResponse: EvalTreeResponseData = {\n    updates,\n    dependencies,\n    errors,\n    evalMetaUpdates,\n    evaluationOrder: evalOrder,\n    jsUpdates,\n    webworkerTelemetry,\n    // be weary of the payload size of logs it can be huge and contribute to transmission overhead\n    // we are only sending logs in local debug mode\n    logs: shouldRespondWithLogs ? logs : [],\n    unEvalUpdates,\n    isCreateFirstTree,\n    staleMetaIds,\n    removedPaths,\n    isNewWidgetAdded,\n    undefinedEvalValuesMap: dataTreeEvaluator?.undefinedEvalValuesMap || {},\n    jsVarsCreatedEvent,\n  };\n\n  webworkerTelemetry[\"transferDataToMainThread\"] = newWebWorkerSpanData(\n    \"transferDataToMainThread\",\n    {},\n  );\n\n  return evalTreeResponse;\n}\n\nexport const evalTreeTransmissionErrorHandler: TransmissionErrorHandler = (\n  messageId: string,\n  startTime: number,\n  endTime: number,\n  responseData: unknown,\n) => {\n  const sanitizedData = JSON.parse(JSON.stringify(responseData));\n  sendMessage.call(self, {\n    messageId,\n    messageType: MessageType.RESPONSE,\n    body: { data: sanitizedData, startTime, endTime },\n  });\n};\n\nexport function clearCache() {\n  dataTreeEvaluator = undefined;\n  clearAllIntervals();\n  JSObjectCollection.clear();\n  DataStore.clear();\n  return true;\n}\n","import { dataTreeEvaluator } from \"./evalTree\";\nimport type { EvalWorkerSyncRequest } from \"../types\";\nimport set from \"lodash/set\";\nimport { evalTreeWithChanges } from \"../evalTreeWithChanges\";\nimport DataStore from \"../dataStore\";\n\nexport interface UpdateActionProps {\n  entityName: string;\n  dataPath: string;\n  data: unknown;\n  dataPathRef?: string;\n}\nexport default function (request: EvalWorkerSyncRequest) {\n  const actionsDataToUpdate: UpdateActionProps[] = request.data;\n  handleActionsDataUpdate(actionsDataToUpdate);\n  return true;\n}\n\nexport function handleActionsDataUpdate(actionsToUpdate: UpdateActionProps[]) {\n  if (!dataTreeEvaluator) {\n    return {};\n  }\n  const evalTree = dataTreeEvaluator.getEvalTree();\n\n  for (const actionToUpdate of actionsToUpdate) {\n    const { dataPath, dataPathRef, entityName } = actionToUpdate;\n    let { data } = actionToUpdate;\n\n    if (dataPathRef) {\n      data = DataStore.getActionData(dataPathRef);\n      DataStore.deleteActionData(dataPathRef);\n    }\n    // update the evaltree\n    set(evalTree, `${entityName}.[${dataPath}]`, data);\n    // Update context\n    set(self, `${entityName}.[${dataPath}]`, data);\n    // Update the datastore\n    DataStore.setActionData(`${entityName}.${dataPath}`, data);\n  }\n  const updatedProperties: string[][] = actionsToUpdate.map(\n    ({ dataPath, entityName }) => [entityName, dataPath],\n  );\n  evalTreeWithChanges(updatedProperties, []);\n}\n","import { serialiseToBigInt } from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport type { WidgetEntity } from \"@appsmith//entities/DataTree/types\";\nimport type { Diff } from \"deep-diff\";\nimport { diff } from \"deep-diff\";\nimport type { DataTree } from \"entities/DataTree/dataTreeTypes\";\nimport equal from \"fast-deep-equal\";\nimport { get, isObject, set } from \"lodash\";\nimport { isMoment } from \"moment\";\nimport { EvalErrorTypes } from \"utils/DynamicBindingUtils\";\n\nexport const fn_keys: string = \"__fn_keys__\";\n\nexport const uniqueOrderUpdatePaths = (updatePaths: string[]) =>\n  Array.from(new Set(updatePaths)).sort((a, b) => b.length - a.length);\n\nexport const getNewDataTreeUpdates = (paths: string[], dataTree: object) =>\n  paths.map((path) => {\n    const segmentedPath = path.split(\".\");\n    return {\n      kind: \"N\",\n      path: segmentedPath,\n      rhs: get(dataTree, segmentedPath),\n    };\n  });\n\nexport interface DiffNewTreeState {\n  kind: \"newTree\";\n  rhs: any;\n}\nexport type DiffWithNewTreeState = Diff<DataTree, DataTree> | DiffNewTreeState;\n// Finds the first index which is a duplicate value\n// Returns -1 if there are no duplicates\n// Returns the index of the first duplicate entry it finds\n\n// Note: This \"can\" fail if the object entries don't have their properties in the\n// same order.\nexport const findDuplicateIndex = (arr: Array<unknown>) => {\n  const _uniqSet = new Set();\n  let currSetSize = 0;\n  for (let i = 0; i < arr.length; i++) {\n    // JSON.stringify because value can be objects\n    _uniqSet.add(JSON.stringify(arr[i]));\n    if (_uniqSet.size > currSetSize) currSetSize = _uniqSet.size;\n    else return i;\n  }\n  return -1;\n};\n\n/** Function that count occurrences of a substring in a string;\n * @param {String} string               The string\n * @param {String} subString            The sub string to search for\n * @param {Boolean} [allowOverlapping]  Optional. (Default:false)\n * @param {Number | null} [maxLimit]  Optional. (Default:null)\n */\nexport const countOccurrences = (\n  string: string,\n  subString: string,\n  allowOverlapping = false,\n  maxLimit: number | null = null,\n): number => {\n  string += \"\";\n  subString += \"\";\n  if (subString.length <= 0) return string.length + 1;\n\n  let n = 0, // count of occurrences\n    pos = 0; // current position of the pointer\n  const step = allowOverlapping ? 1 : subString.length;\n\n  while (true) {\n    pos = string.indexOf(subString, pos);\n    if (pos >= 0) {\n      ++n;\n      /**\n       * If you are only interested in knowing\n       * whether occurances count exceeds maxLimit,\n       * then break the loop.\n       */\n      if (maxLimit && n > maxLimit) break;\n      pos += step;\n    } else break;\n  }\n  return n;\n};\n\nconst LARGE_COLLECTION_SIZE = 100;\n\nexport const stringifyFnsInObject = (\n  userObject: Record<string, unknown>,\n): Record<string, unknown> => {\n  const paths: string[] = parseFunctionsInObject(userObject);\n  const fnStrings: string[] = [];\n\n  for (const path of paths) {\n    const fnValue: any = get(userObject, path);\n    fnStrings.push(fnValue.toString());\n  }\n\n  const output = JSON.parse(JSON.stringify(userObject));\n  for (const [index, parsedFnString] of fnStrings.entries()) {\n    set(output, paths[index], parsedFnString);\n  }\n\n  output[fn_keys] = paths;\n  return output;\n};\n\nconst constructPath = (existingPath: string, suffix: string): string => {\n  if (existingPath.length > 0) {\n    return `${existingPath}.${suffix}`;\n  } else {\n    return suffix;\n  }\n};\n\nconst parseFunctionsInObject = (\n  userObject: Record<string, unknown>,\n  paths: string[] = [],\n  path: string = \"\",\n): string[] => {\n  if (Array.isArray(userObject)) {\n    for (let i = 0; i < userObject.length; i++) {\n      const arrayValue = userObject[i];\n      if (typeof arrayValue == \"function\") {\n        paths.push(constructPath(path, `[${i}]`));\n      } else if (typeof arrayValue == \"object\") {\n        parseFunctionsInObject(\n          arrayValue,\n          paths,\n          constructPath(path, `[${i}]`),\n        );\n      }\n    }\n  } else {\n    const keys = Object.keys(userObject);\n    for (const key of keys) {\n      const value = userObject[key];\n      if (typeof value == \"function\") {\n        paths.push(constructPath(path, key));\n      } else if (typeof value == \"object\") {\n        parseFunctionsInObject(\n          value as Record<string, unknown>,\n          paths,\n          constructPath(path, key),\n        );\n      }\n    }\n  }\n\n  return paths;\n};\n\nconst isLargeCollection = (val: any) => {\n  if (!Array.isArray(val)) return false;\n  const rowSize = !isObject(val[0]) ? 1 : Object.keys(val[0]).length;\n\n  const size = val.length * rowSize;\n\n  return size > LARGE_COLLECTION_SIZE;\n};\n\nconst getReducedDataTree = (\n  dataTree: DataTree,\n  constrainedDiffPaths: string[],\n): DataTree => {\n  const withErrors = Object.keys(dataTree).reduce((acc: any, key: string) => {\n    const widgetValue = dataTree[key] as WidgetEntity;\n    acc[key] = {\n      __evaluation__: {\n        errors: widgetValue.__evaluation__?.errors,\n      },\n    };\n    return acc;\n  }, {});\n\n  return constrainedDiffPaths.reduce((acc: DataTree, key: string) => {\n    set(acc, key, get(dataTree, key));\n    return acc;\n  }, withErrors);\n};\nconst generateDiffUpdates = (\n  oldDataTree: DataTree,\n  dataTree: DataTree,\n  constrainedDiffPaths: string[],\n): Diff<DataTree, DataTree>[] => {\n  const attachDirectly: Diff<DataTree, DataTree>[] = [];\n  const attachLater: Diff<DataTree, DataTree>[] = [];\n\n  // we are reducing the data tree to only the paths that are being diffed\n  const oldData = getReducedDataTree(oldDataTree, constrainedDiffPaths);\n  const newData = getReducedDataTree(dataTree, constrainedDiffPaths);\n  const updates =\n    diff(oldData, newData, (path, key) => {\n      if (!path.length || key === \"__evaluation__\") return false;\n\n      const segmentedPath = [...path, key];\n\n      const rhs = get(dataTree, segmentedPath) as DataTree;\n\n      const lhs = get(oldDataTree, segmentedPath) as DataTree;\n\n      //when a moment value changes we do not want the inner moment object updates, we just want the ISO result of it\n      // which we get during the serialisation process we perform at latter steps\n      if (isMoment(rhs)) {\n        attachDirectly.push({\n          kind: \"E\",\n          lhs,\n          rhs: rhs as any,\n          path: segmentedPath,\n        });\n        // ignore trying to diff moment objects\n        return true;\n      }\n      if (rhs === undefined) {\n        //if an undefined value is being set it should be a delete\n        if (lhs !== undefined) {\n          attachDirectly.push({ kind: \"D\", lhs, path: segmentedPath });\n        }\n        return true;\n      }\n\n      const isLhsLarge = isLargeCollection(lhs);\n      const isRhsLarge = isLargeCollection(rhs);\n      if (!isLhsLarge && !isRhsLarge) {\n        //perform diff on this node\n        return false;\n      }\n\n      //if either of values are large just directly attach it don't have to generate very granular updates\n\n      if ((!isLhsLarge && isRhsLarge) || (isLhsLarge && !isRhsLarge)) {\n        attachDirectly.push({ kind: \"N\", path: segmentedPath, rhs });\n        return true;\n      }\n\n      //if the values are different attach the update directly\n      !equal(lhs, rhs) &&\n        attachDirectly.push({ kind: \"N\", path: segmentedPath, rhs });\n\n      //ignore diff on this node\n      return true;\n    }) || [];\n\n  const largeDataSetUpdates = [...attachDirectly, ...attachLater];\n  return [...updates, ...largeDataSetUpdates];\n};\n\nconst correctUndefinedUpdatesToDeletesOrNew = (\n  updates: Diff<DataTree, DataTree>[],\n) =>\n  updates.reduce(\n    (acc, update) => {\n      const { kind, lhs, path, rhs } = update as any;\n      if (kind === \"E\") {\n        if (lhs === undefined && rhs !== undefined) {\n          acc.push({ kind: \"N\", path, rhs });\n        }\n        if (lhs !== undefined && rhs === undefined) {\n          acc.push({ path, lhs, kind: \"D\" });\n        }\n        if (lhs !== undefined && rhs !== undefined) {\n          acc.push(update);\n        }\n        return acc;\n      }\n      acc.push(update);\n      return acc;\n    },\n    [] as Diff<DataTree, DataTree>[],\n  );\n\n// whenever an element in a collection is set to undefined, we need to send the entire collection as an update\nconst generateRootWidgetUpdates = (\n  updates: Diff<DataTree, DataTree>[],\n  newDataTree: DataTree,\n  oldDataTree: DataTree,\n): Diff<DataTree, DataTree>[] =>\n  updates\n    .filter(\n      (v) =>\n        v.kind === \"D\" &&\n        v.path &&\n        typeof v.path[v.path.length - 1] === \"number\",\n    )\n    .map(\n      ({ path }: any) => {\n        const pathCopy = [...path];\n        pathCopy.pop();\n        return {\n          kind: \"E\",\n          path: pathCopy,\n          lhs: get(oldDataTree, pathCopy) as DataTree,\n          rhs: get(newDataTree, pathCopy) as DataTree,\n        }; //push the parent path\n      },\n      [] as Diff<DataTree, DataTree>[],\n    );\n\n// when a root collection is updated, we need to scrub out updates that are inside the root collection\nconst getScrubbedOutUpdatesWhenRootCollectionIsUpdated = (\n  updates: Diff<DataTree, DataTree>[],\n  rootCollectionUpdates: Diff<DataTree, DataTree>[],\n) => {\n  const rootCollectionPaths = rootCollectionUpdates\n    .filter((update) => update?.path?.length)\n    .map((update) => (update.path as string[]).join(\".\"));\n  return (\n    updates\n      .map((update: any) => ({ update, condensedPath: update.path.join(\".\") }))\n      .filter(\n        ({ condensedPath }) =>\n          !rootCollectionPaths.some((p) => condensedPath.startsWith(p)),\n      )\n      // remove the condensedPath from the update\n      .map(({ update }) => update)\n  );\n};\n\nexport const generateOptimisedUpdates = (\n  oldDataTree: DataTree,\n  dataTree: DataTree,\n  // these are the paths that the diff is limited to, this is a performance optimisation and through this we don't have to diff the entire data tree\n  constrainedDiffPaths: string[],\n): Diff<DataTree, DataTree>[] => {\n  const updates = generateDiffUpdates(\n    oldDataTree,\n    dataTree,\n    constrainedDiffPaths,\n  );\n  const correctedUpdates = correctUndefinedUpdatesToDeletesOrNew(updates);\n\n  const rootCollectionUpdates = generateRootWidgetUpdates(\n    correctedUpdates,\n    dataTree,\n    oldDataTree,\n  );\n  const scrubedOutUpdates = getScrubbedOutUpdatesWhenRootCollectionIsUpdated(\n    correctedUpdates,\n    rootCollectionUpdates,\n  );\n  return [...scrubedOutUpdates, ...rootCollectionUpdates];\n};\n\nexport const generateSerialisedUpdates = (\n  prevState: DataTree,\n  currentState: DataTree,\n  constrainedDiffPaths: string[],\n  mergeAdditionalUpdates?: any,\n): {\n  serialisedUpdates: string;\n  error?: { type: string; message: string };\n} => {\n  const updates = generateOptimisedUpdates(\n    prevState,\n    currentState,\n    constrainedDiffPaths,\n  );\n\n  //remove lhs from diff to reduce the size of diff upload,\n  //it is not necessary to send lhs and we can make the payload to transfer to the main thread smaller for quicker transfer\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  let removedLhs = updates.map(({ lhs, ...rest }: any) => rest);\n  removedLhs = [...removedLhs, ...(mergeAdditionalUpdates || [])];\n\n  try {\n    // serialise bigInt values and convert the updates to a string over here to minismise the cost of transfer\n    // to the main thread. In the main thread parse this object there.\n    return { serialisedUpdates: serialiseToBigInt(removedLhs) };\n  } catch (error) {\n    return {\n      serialisedUpdates: \"[]\",\n      error: {\n        type: EvalErrorTypes.SERIALIZATION_ERROR,\n        message: (error as Error).message,\n      },\n    };\n  }\n};\n\nexport const generateOptimisedUpdatesAndSetPrevState = (\n  dataTree: DataTree,\n  dataTreeEvaluator: any,\n  constrainedDiffPaths: string[],\n  mergeAdditionalUpdates?: any,\n) => {\n  const { error, serialisedUpdates } = generateSerialisedUpdates(\n    dataTreeEvaluator?.getPrevState() || {},\n    dataTree,\n    constrainedDiffPaths,\n    mergeAdditionalUpdates,\n  );\n\n  if (error && dataTreeEvaluator?.errors) {\n    dataTreeEvaluator.errors.push(error);\n  }\n  dataTreeEvaluator?.setPrevState(dataTree);\n  return serialisedUpdates;\n};\n","import {\n  getEntityNameAndPropertyPath,\n  isWidget,\n  overrideWidgetProperties,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport type { EvalMetaUpdates } from \"@appsmith/workers/common/DataTreeEvaluator/types\";\nimport { evalTreeWithChanges } from \"./evalTreeWithChanges\";\nimport { dataTreeEvaluator } from \"./handlers/evalTree\";\nimport { get, set } from \"lodash\";\nimport { validate } from \"./validations\";\nimport type {\n  DataTreeEntityConfig,\n  WidgetEntity,\n} from \"@appsmith/entities/DataTree/types\";\nimport type {\n  ConfigTree,\n  DataTree,\n  DataTreeEntity,\n} from \"entities/DataTree/dataTreeTypes\";\nimport { getFnWithGuards, isAsyncGuard } from \"./fns/utils/fnGuard\";\nimport { shouldAddSetter } from \"./evaluate\";\n\nclass Setters {\n  /** stores the setter method accessor as key and true as value\n   *\n   * example - ```{ \"Table1.setVisibility\": true, \"Table1.setData\": true }```\n   */\n  private setterMethodLookup: Record<string, true> = {};\n  /** stores the setter property accessor as key and setter method name as value\n   *\n   * example - ```{ \"Table1.tableData\": \"Table1.setData\" }```\n   */\n  private setterAccessorMap: Record<string, string> = {};\n\n  private async applySetterMethod(\n    path: string,\n    value: unknown,\n    setterMethodName: string,\n  ) {\n    const { entityName, propertyPath } = getEntityNameAndPropertyPath(path);\n\n    if (!dataTreeEvaluator) return;\n\n    const evalTree = dataTreeEvaluator.getEvalTree();\n    const configTree = dataTreeEvaluator.getConfigTree();\n\n    const entity = evalTree[entityName];\n    const entityConfig = configTree[entityName];\n\n    const updatedProperties: string[][] = [];\n    const overriddenProperties: string[] = [];\n    const evalMetaUpdates: EvalMetaUpdates = [];\n\n    let parsedValue = value;\n\n    if (value === undefined) {\n      const error = new Error(\n        `The value passed to ${entityName}.${setterMethodName}() evaluates to undefined.`,\n      );\n      error.name = entityName + \".\" + setterMethodName + \" failed\";\n      throw error;\n    }\n\n    const { validationPaths } = entityConfig;\n\n    if (validationPaths) {\n      const validationConfig = validationPaths[propertyPath] || {};\n\n      const config = {\n        ...validationConfig,\n        params: { ...(validationConfig.params || {}) },\n      };\n      config.params.strict = true;\n\n      const { isValid, messages, parsed } = validate(\n        config,\n        value,\n        entity as Record<string, unknown>,\n        propertyPath,\n      );\n      parsedValue = parsed;\n\n      if (!isValid) {\n        const message = messages && messages[0] ? messages[0].message : \"\";\n        const error = new Error(\n          `${entityName + \".\" + setterMethodName}: ${message}`,\n        );\n        error.name = entityName + \".\" + setterMethodName + \" failed\";\n        throw error;\n      }\n    }\n\n    if (isWidget(entity)) {\n      overrideWidgetProperties({\n        entity: entity as WidgetEntity,\n        propertyPath,\n        value: parsedValue,\n        currentTree: evalTree,\n        configTree,\n        evalMetaUpdates,\n        fullPropertyPath: path,\n        isNewWidget: false,\n        shouldUpdateGlobalContext: true,\n        overriddenProperties,\n      });\n\n      overriddenProperties.forEach((propPath) => {\n        updatedProperties.push([entityName, propPath]);\n      });\n    }\n\n    set(evalTree, path, parsedValue);\n    set(self, path, parsedValue);\n\n    /**\n     * Making the update to dataTree async as there could be queue microtask updates that need to execute before this update.\n     * Issue:- https://github.com/appsmithorg/appsmith/issues/25364\n     */\n    return new Promise((resolve) => {\n      resolve(parsedValue);\n    }).then((res) => {\n      updatedProperties.push([entityName, propertyPath]);\n      evalTreeWithChanges(updatedProperties, evalMetaUpdates);\n      return res;\n    });\n  }\n  /** Generates a new setter method */\n  private createSetter(\n    path: string,\n    setterMethodName: string,\n    entityName: string,\n  ) {\n    /** register the setter method in the lookup */\n    set(this.setterMethodLookup, [entityName, setterMethodName], true);\n\n    const fn = async (value: unknown) => {\n      if (!dataTreeEvaluator) return;\n      return this.applySetterMethod(path, value, setterMethodName);\n    };\n\n    return getFnWithGuards(fn, setterMethodName, [isAsyncGuard]);\n  }\n\n  clear() {\n    this.setterMethodLookup = {};\n  }\n\n  has(entityName: string, propertyName: string) {\n    return get(this.setterMethodLookup, [entityName, propertyName], false);\n  }\n\n  getMap() {\n    return this.setterMethodLookup;\n  }\n\n  getSetterAccessorMap() {\n    return this.setterAccessorMap;\n  }\n\n  getEntitySettersFromConfig(\n    entityConfig: DataTreeEntityConfig,\n    entityName: string,\n    entity: DataTreeEntity,\n  ) {\n    const setterMethodMap: Record<string, any> = {};\n    if (!entityConfig) return setterMethodMap;\n\n    if (entityConfig.__setters) {\n      for (const setterMethodName of Object.keys(entityConfig.__setters)) {\n        const pathToSet = entityConfig.__setters[setterMethodName].path;\n\n        if (!shouldAddSetter(entityConfig.__setters[setterMethodName], entity))\n          continue;\n\n        this.setterAccessorMap[pathToSet] = `${entityName}.${setterMethodName}`;\n\n        setterMethodMap[setterMethodName] = this.createSetter(\n          pathToSet,\n          setterMethodName,\n          entityName,\n        );\n      }\n    }\n\n    return setterMethodMap;\n  }\n\n  init(configTree: ConfigTree, dataTree: DataTree) {\n    const configTreeEntries = Object.entries(configTree);\n    for (const [entityName, entityConfig] of configTreeEntries) {\n      const entity = dataTree[entityName];\n\n      this.getEntitySettersFromConfig(entityConfig, entityName, entity);\n    }\n  }\n}\n\nconst setters = new Setters();\nexport default setters;\n","/* eslint-disable @typescript-eslint/no-unused-vars */\n\nimport type { ValidationResponse, Validator } from \"constants/WidgetValidation\";\nimport { ValidationTypes } from \"constants/WidgetValidation\";\nimport _, {\n  compact,\n  get,\n  isArray,\n  isObject,\n  isPlainObject,\n  isRegExp,\n  isString,\n  toString,\n  uniq,\n} from \"lodash\";\n\nimport moment from \"moment\";\nimport type { ValidationConfig } from \"constants/PropertyControlConstants\";\n\nimport getIsSafeURL from \"utils/validation/getIsSafeURL\";\nimport * as log from \"loglevel\";\nimport {\n  countOccurrences,\n  findDuplicateIndex,\n  stringifyFnsInObject,\n} from \"./helpers\";\n\nexport const UNDEFINED_VALIDATION = \"UNDEFINED_VALIDATION\";\nexport const VALIDATION_ERROR_COUNT_THRESHOLD = 10;\nconst MAX_ALLOWED_LINE_BREAKS = 1000; // Rendering performance deteriorates beyond this number.\nconst LINE_BREAKS_ERROR_MESSAGE = `Warning: New lines in the text exceed ${MAX_ALLOWED_LINE_BREAKS}. The text displayed will not contain any new lines.`;\n\nconst flat = (array: Record<string, any>[], uniqueParam: string) => {\n  let result: { value: string }[] = [];\n  array.forEach((a) => {\n    result.push({ value: a[uniqueParam] });\n    if (Array.isArray(a.children)) {\n      result = result.concat(flat(a.children, uniqueParam));\n    }\n  });\n  return result;\n};\n\nfunction getPropertyEntry(\n  obj: Record<string, unknown>,\n  name: string,\n  ignoreCase = false,\n) {\n  if (!ignoreCase) {\n    return name;\n  } else {\n    const keys = Object.getOwnPropertyNames(obj);\n    return keys.find((key) => key.toLowerCase() === name.toLowerCase()) || name;\n  }\n}\n\nfunction validatePlainObject(\n  config: ValidationConfig,\n  value: Record<string, unknown>,\n  props: Record<string, unknown>,\n  propertyPath: string,\n) {\n  if (config.params?.allowedKeys) {\n    let _valid = true;\n    const _messages: Error[] = [];\n    config.params.allowedKeys.forEach((entry) => {\n      const ignoreCase = !!entry.params?.ignoreCase;\n      const entryName = getPropertyEntry(value, entry.name, ignoreCase);\n\n      if (value.hasOwnProperty(entryName)) {\n        const { isValid, messages, parsed } = validate(\n          entry,\n          value[entryName],\n          props,\n          propertyPath,\n        );\n        if (!isValid) {\n          value[entryName] = parsed;\n          _valid = isValid;\n          messages &&\n            messages.map((message) => {\n              _messages.push({\n                name: message.name,\n                message: `Value of key: ${entryName} is invalid: ${message.message}`,\n              });\n            });\n        }\n      } else if (entry.params?.required || entry.params?.requiredKey) {\n        _valid = false;\n        _messages.push({\n          name: \"ValidationError\",\n          message: `Missing required key: ${entryName}`,\n        });\n      }\n    });\n    if (_valid) {\n      return {\n        isValid: true,\n        parsed: value,\n      };\n    }\n    return {\n      isValid: false,\n      parsed: config.params?.default || value,\n      messages: _messages,\n    };\n  }\n  return {\n    isValid: true,\n    parsed: value,\n  };\n}\n\nfunction validateArray(\n  config: ValidationConfig,\n  value: unknown[],\n  props: Record<string, unknown>,\n  propertyPath: string,\n) {\n  let _isValid = true; // Let's first assume that this is valid\n  const _messages: Error[] = []; // Initialise messages array\n\n  // Values allowed in the array, converted into a set of unique values\n  // or an empty set\n  const allowedValues = new Set(config.params?.allowedValues || []);\n\n  // Keys whose values are supposed to be unique across all values in all objects in the array\n  let uniqueKeys: Array<string> = [];\n  const allowedKeyConfigs = config.params?.children?.params?.allowedKeys;\n\n  if (\n    config.params?.children?.type === ValidationTypes.OBJECT &&\n    Array.isArray(allowedKeyConfigs) &&\n    allowedKeyConfigs.length\n  ) {\n    uniqueKeys = compact(\n      allowedKeyConfigs.map((allowedKeyConfig) => {\n        // TODO(abhinav): This is concerning, we now have two ways,\n        // in which we can define unique keys in an array of objects\n        // We need to disable one option.\n\n        // If this key is supposed to be unique across all objects in the value array\n        // We include it in the uniqueKeys list\n        if (allowedKeyConfig.params?.unique) return allowedKeyConfig.name;\n      }),\n    );\n  }\n\n  // Concatenate unique keys from config.params?.unique\n  uniqueKeys = Array.isArray(config.params?.unique)\n    ? uniqueKeys.concat(config.params?.unique as Array<string>)\n    : uniqueKeys;\n\n  // Validation configuration for children\n  const childrenValidationConfig = config.params?.children;\n\n  // Should we validate against disallowed values in the value array?\n  const shouldVerifyAllowedValues = !!allowedValues.size; // allowedValues is a set\n\n  // Do we have validation config for array children?\n  const shouldValidateChildren = !!childrenValidationConfig;\n\n  // Should array values be unique? This should applies only to primitive values in array children\n  // If we have to validate children with their own validation config, this should be false (Needs verification)\n  // If this option is true, shouldArrayValuesHaveUniqueValuesForKeys will become false\n  const shouldArrayHaveUniqueEntries = config.params?.unique === true;\n\n  // Should we validate for unique values for properties in the array entries?\n  const shouldArrayValuesHaveUniqueValuesForKeys =\n    !!uniqueKeys.length && !shouldArrayHaveUniqueEntries;\n\n  // Verify if all values are unique\n  if (shouldArrayHaveUniqueEntries) {\n    // Find the index of a duplicate value in array\n    const duplicateIndex = findDuplicateIndex(value);\n    if (duplicateIndex !== -1) {\n      // Bail out early\n      // Because, we don't want to re-iterate, if this validation fails\n      return {\n        isValid: false,\n        parsed: config.params?.default || [],\n        messages: [\n          {\n            name: \"ValidationError\",\n            message: `Array must be unique. Duplicate values found at index: ${duplicateIndex}`,\n          },\n        ],\n      };\n    }\n  }\n\n  if (shouldArrayValuesHaveUniqueValuesForKeys) {\n    // Loop\n    // Get only unique entries from the value array\n    const uniqueEntries = _.uniqWith(\n      value as Array<Record<string, unknown>>,\n      (a: Record<string, unknown>, b: Record<string, unknown>) => {\n        // If any of the keys are the same, we fail the uniqueness test\n        return uniqueKeys.some((key) => a[key] === b[key]);\n      },\n    );\n\n    if (uniqueEntries.length !== value.length) {\n      // Bail out early\n      // Because, we don't want to re-iterate, if this validation fails\n      return {\n        isValid: false,\n        parsed: config.params?.default || [],\n        messages: [\n          {\n            name: \"ValidationError\",\n            message: `Duplicate values found for the following properties, in the array entries, that must be unique -- ${uniqueKeys.join(\n              \",\",\n            )}.`,\n          },\n        ],\n      };\n    }\n  }\n\n  // Loop\n  value.every((entry, index) => {\n    // Validate for allowed values\n    if (shouldVerifyAllowedValues && !allowedValues.has(entry)) {\n      _messages.push({\n        name: \"ValidationError\",\n        message: `Value is not allowed in this array: ${entry}`,\n      });\n      _isValid = false;\n    }\n\n    // validate using validation config\n    if (shouldValidateChildren && childrenValidationConfig) {\n      // Validate this entry\n      const childValidationResult = validate(\n        childrenValidationConfig,\n        entry,\n        props,\n        `${propertyPath}[${index}]`,\n      );\n\n      // If invalid, append to messages\n      if (!childValidationResult.isValid) {\n        _isValid = false;\n        childValidationResult.messages?.forEach((message) =>\n          _messages.push({\n            name: message.name,\n            message: `Invalid entry at index: ${index}. ${message.message}`,\n          }),\n        );\n      }\n    }\n\n    // Bail out, if the error count threshold has been overcome\n    // This way, debugger will not have to render too many errors\n    if (_messages.length >= VALIDATION_ERROR_COUNT_THRESHOLD && !_isValid) {\n      return false;\n    }\n    return true;\n  });\n\n  return {\n    isValid: _isValid,\n    parsed: _isValid ? value : config.params?.default || [],\n    messages: _messages,\n  };\n}\n\nfunction validateExcessLineBreaks(value: any): boolean {\n  /**\n   * Check if the value exceeds a threshold number of line breaks;\n   * beyond which the rendering performance starts deteriorating.\n   */\n  const str: string = isObject(value) ? JSON.stringify(value, null, 2) : value;\n  const lineBreakCount: number = countOccurrences(\n    str,\n    \"\\n\",\n    false,\n    MAX_ALLOWED_LINE_BREAKS,\n  );\n  return lineBreakCount > MAX_ALLOWED_LINE_BREAKS;\n}\n\nfunction validateExcessLength(text: string, maxLength: number): boolean {\n  /**\n   * Check if text is too long and without any line breaks.\n   */\n  const lineBreakCount = countOccurrences(text, \"\\n\", false, 0);\n  return lineBreakCount === 0 && text.length > maxLength;\n}\n\n/**\n * Iterate through an object,\n * Check for length of string values\n * and trim them in case they are too long.\n */\nfunction validateObjectValues(obj: any): any {\n  if (!obj) return;\n  Object.keys(obj).forEach((key) => {\n    if (typeof obj[key] === \"string\" && obj[key].length > 100000) {\n      obj[key] = obj[key].substring(0, 100000);\n    } else if (isObject(obj[key])) {\n      obj[key] = validateObjectValues(obj[key]);\n    } else if (isArray(obj[key])) {\n      obj[key] = obj[key].map((item: any) => validateObjectValues(item));\n    }\n  });\n  return obj;\n}\n\n//TODO: parameter props may not be in use\nexport const validate = (\n  config: ValidationConfig,\n  value: unknown,\n  props: Record<string, unknown>,\n  propertyPath = \"\",\n): ValidationResponse => {\n  const validateFn = VALIDATORS[config.type];\n  const staticValue = {\n    isValid: true,\n    parsed: value,\n  };\n  if (!validateFn) return staticValue;\n\n  return validateFn(config, value, props, propertyPath) || staticValue;\n};\n\nexport const WIDGET_TYPE_VALIDATION_ERROR =\n  \"This value does not evaluate to type\"; // TODO: Lot's of changes in validations.ts file\n\nexport function getExpectedType(config?: ValidationConfig): string | undefined {\n  if (!config) return UNDEFINED_VALIDATION; // basic fallback\n  switch (config.type) {\n    case ValidationTypes.FUNCTION:\n      return config.params?.expected?.type || \"unknown\";\n    case ValidationTypes.TEXT:\n      let result = \"string\";\n      if (config.params?.allowedValues) {\n        const allowed = config.params.allowedValues.join(\" | \");\n        result = result + ` ( ${allowed} )`;\n      }\n      if (config.params?.regex) {\n        result = config.params?.regex.source;\n      }\n      if (config.params?.expected?.type) result = config.params?.expected.type;\n      return result;\n    case ValidationTypes.REGEX:\n      return \"regExp\";\n    case ValidationTypes.DATE_ISO_STRING:\n      return \"ISO 8601 date string\";\n    case ValidationTypes.BOOLEAN:\n      return \"boolean\";\n    case ValidationTypes.NUMBER:\n      let validationType = \"number\";\n      if (config.params?.min) {\n        validationType = `${validationType} Min: ${config.params?.min}`;\n      }\n      if (config.params?.max) {\n        validationType = `${validationType} Max: ${config.params?.max}`;\n      }\n      if (config.params?.required) {\n        validationType = `${validationType} Required`;\n      }\n\n      return validationType;\n    case ValidationTypes.OBJECT:\n    case ValidationTypes.OBJECT_WITH_FUNCTION:\n      let objectType = \"Object\";\n      if (config.params?.allowedKeys) {\n        objectType = \"{\";\n        config.params?.allowedKeys.forEach((allowedKeyConfig) => {\n          const _expected = getExpectedType(allowedKeyConfig);\n          objectType = `${objectType} \"${allowedKeyConfig.name}\": \"${_expected}\",`;\n        });\n        objectType = `${objectType.substring(0, objectType.length - 1)} }`;\n        return objectType;\n      }\n      return objectType;\n    case ValidationTypes.ARRAY:\n    case ValidationTypes.NESTED_OBJECT_ARRAY:\n      if (config.params?.allowedValues) {\n        const allowed = config.params?.allowedValues.join(\"' | '\");\n        return `Array<'${allowed}'>`;\n      }\n      if (config.params?.children) {\n        const children = getExpectedType(config.params.children);\n        return `Array<${children}>`;\n      }\n      return \"Array\";\n    case ValidationTypes.OBJECT_ARRAY:\n      return `Array<Object>`;\n    case ValidationTypes.IMAGE_URL:\n      return `base64 encoded image | data uri | image url`;\n    case ValidationTypes.SAFE_URL:\n      return \"URL\";\n  }\n}\n\nexport const VALIDATORS: Record<ValidationTypes, Validator> = {\n  [ValidationTypes.TEXT]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n  ): ValidationResponse => {\n    if (value === undefined || value === null || value === \"\") {\n      if (config.params && config.params.required) {\n        return {\n          isValid: false,\n          parsed: config.params?.default || \"\",\n          messages: [\n            {\n              name: \"TypeError\",\n              message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(\n                config,\n              )}`,\n            },\n          ],\n        };\n      }\n\n      return {\n        isValid: true,\n        parsed: config.params?.default || \"\",\n      };\n    }\n    let parsed = value;\n\n    if (isObject(value)) {\n      if (\n        config.params &&\n        config.params.limitLineBreaks &&\n        validateExcessLineBreaks(value)\n      ) {\n        return {\n          isValid: false,\n          parsed: JSON.stringify(validateObjectValues(value)), // Parse without line breaks\n          messages: [\n            {\n              name: \"ValidationError\",\n              message: LINE_BREAKS_ERROR_MESSAGE,\n            },\n          ],\n        };\n      }\n      return {\n        isValid: false,\n        parsed: JSON.stringify(validateObjectValues(value), null, 2),\n        messages: [\n          {\n            name: \"TypeError\",\n            message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(\n              config,\n            )}`,\n          },\n        ],\n      };\n    }\n\n    const isValid = isString(parsed);\n    const stringValidationError = {\n      isValid: false,\n      parsed: config.params?.default || \"\",\n      messages: [\n        {\n          name: \"TypeError\",\n          message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(config)}`,\n        },\n      ],\n    };\n    if (!isValid) {\n      try {\n        if (!config.params?.strict) parsed = toString(parsed);\n        else return stringValidationError;\n      } catch (e) {\n        return stringValidationError;\n      }\n    }\n    if (\n      config.params &&\n      config.params.limitLineBreaks &&\n      validateExcessLineBreaks(value)\n    ) {\n      return {\n        isValid: false,\n        parsed: JSON.stringify(value), // Parse without line breaks\n        messages: [\n          {\n            name: \"ValidationError\",\n            message: LINE_BREAKS_ERROR_MESSAGE,\n          },\n        ],\n      };\n    }\n    if (config.params?.allowedValues) {\n      if (!config.params?.allowedValues.includes((parsed as string).trim())) {\n        return {\n          parsed: config.params?.default || \"\",\n          messages: [\n            {\n              name: \"ValidationError\",\n              message: `Disallowed value: ${parsed}`,\n            },\n          ],\n          isValid: false,\n        };\n      }\n    }\n\n    if (validateExcessLength(parsed as string, 200000)) {\n      return {\n        parsed: (parsed as string)?.substring(0, 200000),\n        isValid: false,\n        messages: [\n          {\n            name: \"ValidationError\",\n            message:\n              \"Excessive text length without a line break. Rendering a substring to avoid app crash.\",\n          },\n        ],\n      };\n    }\n\n    if (\n      config.params?.regex &&\n      isRegExp(config.params?.regex) &&\n      !config.params?.regex.test(parsed as string)\n    ) {\n      return {\n        parsed: config.params?.default || \"\",\n        messages: [\n          {\n            name: \"TypeError\",\n            message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(\n              config,\n            )}`,\n          },\n        ],\n        isValid: false,\n      };\n    }\n\n    return {\n      isValid: true,\n      parsed,\n    };\n  },\n  // TODO(abhinav): The original validation does not make sense fix this.\n  [ValidationTypes.REGEX]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n    propertyPath: string,\n  ): ValidationResponse => {\n    const { isValid, messages, parsed } = VALIDATORS[ValidationTypes.TEXT](\n      config,\n      value,\n      props,\n      propertyPath,\n    );\n\n    if (!isValid) {\n      return {\n        isValid: false,\n        parsed: new RegExp(parsed),\n        messages: [\n          {\n            name: \"TypeError\",\n            message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(\n              config,\n            )}`,\n          },\n        ],\n      };\n    }\n\n    return { isValid, parsed, messages };\n  },\n  [ValidationTypes.NUMBER]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n  ): ValidationResponse => {\n    if (value === undefined || value === null || value === \"\") {\n      if (config.params?.required) {\n        return {\n          isValid: false,\n          parsed: config.params?.default || 0,\n          messages: [\n            {\n              name: \"ValidationError\",\n              message: \"This value is required\",\n            },\n          ],\n        };\n      }\n\n      if (value === \"\") {\n        return {\n          isValid: true,\n          parsed: config.params?.default || 0,\n        };\n      }\n\n      return {\n        isValid: true,\n        parsed: value,\n      };\n    }\n    if (!Number.isFinite(value) && !isString(value)) {\n      return {\n        isValid: false,\n        parsed: config.params?.default || 0,\n        messages: [\n          {\n            name: \"TypeError\",\n            message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(\n              config,\n            )}`,\n          },\n        ],\n      };\n    }\n\n    // check for min and max limits\n    let parsed: number = value as number;\n    if (isString(value)) {\n      if (/^-?\\d+\\.?\\d*$/.test(value)) {\n        parsed = Number(value);\n      } else {\n        return {\n          isValid: false,\n          parsed: value || config.params?.default || 0,\n          messages: [\n            {\n              name: \"TypeError\",\n              message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(\n                config,\n              )}`,\n            },\n          ],\n        };\n      }\n    }\n\n    if (\n      config.params?.min !== undefined &&\n      Number.isFinite(config.params.min)\n    ) {\n      if (parsed < Number(config.params.min)) {\n        return {\n          isValid: false,\n          parsed:\n            // passThroughOnZero is introduced to resolve a bug and to not break existing apps\n            // Refer: https://github.com/appsmithorg/appsmith/issues/17472#issuecomment-1281818238\n            config.params.passThroughOnZero === false\n              ? parsed || config.params.min || 0\n              : parsed ?? config.params.min ?? 0,\n          messages: [\n            {\n              name: \"RangeError\",\n              message: `Minimum allowed value: ${config.params.min}`,\n            },\n          ],\n        };\n      }\n    }\n\n    if (\n      config.params?.max !== undefined &&\n      Number.isFinite(config.params.max)\n    ) {\n      if (parsed > Number(config.params.max)) {\n        return {\n          isValid: false,\n          parsed: config.params.max || parsed || 0,\n          messages: [\n            {\n              name: \"RangeError\",\n              message: `Maximum allowed value: ${config.params.max}`,\n            },\n          ],\n        };\n      }\n    }\n    if (config.params?.natural && (parsed < 0 || !Number.isInteger(parsed))) {\n      return {\n        isValid: false,\n        parsed: config.params.default || parsed || 0,\n        messages: [\n          {\n            name: \"ValidationError\",\n            message: `Value should be a positive integer`,\n          },\n        ],\n      };\n    }\n\n    return {\n      isValid: true,\n      parsed,\n    };\n  },\n  [ValidationTypes.BOOLEAN]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n  ): ValidationResponse => {\n    if (value === undefined || value === null || value === \"\") {\n      if (config.params && config.params.required) {\n        return {\n          isValid: false,\n          parsed: !!config.params?.default,\n          messages: [\n            {\n              name: \"TypeError\",\n              message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(\n                config,\n              )}`,\n            },\n          ],\n        };\n      }\n\n      if (value === \"\") {\n        return {\n          isValid: true,\n          parsed: config.params?.default || false,\n        };\n      }\n\n      return { isValid: true, parsed: config.params?.default || value };\n    }\n    const isABoolean = value === true || value === false;\n    const isStringTrueFalse = value === \"true\" || value === \"false\";\n    // if strictCheck is true then stringTrueFalse are considered invalid value.\n    const strictCheck = config.params && config.params.strict;\n    const isValid = strictCheck ? isABoolean : isABoolean || isStringTrueFalse;\n\n    let parsed = value;\n    if (isStringTrueFalse && !strictCheck) parsed = value !== \"false\";\n\n    if (!isValid) {\n      return {\n        isValid: false,\n        parsed: config.params?.default || false,\n        messages: [\n          {\n            name: \"TypeError\",\n            message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(\n              config,\n            )}`,\n          },\n        ],\n      };\n    }\n\n    return { isValid, parsed };\n  },\n  [ValidationTypes.OBJECT]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n    propertyPath: string,\n  ): ValidationResponse => {\n    if (\n      value === undefined ||\n      value === null ||\n      (isString(value) && value.trim().length === 0)\n    ) {\n      if (config.params && config.params.required) {\n        return {\n          isValid: false,\n          parsed: config.params?.default || {},\n          messages: [\n            {\n              name: \"TypeError\",\n              message: `${WIDGET_TYPE_VALIDATION_ERROR}: ${getExpectedType(\n                config,\n              )}`,\n            },\n          ],\n        };\n      }\n      return {\n        isValid: true,\n        parsed: config.params?.default || value,\n      };\n    }\n\n    if (isPlainObject(value)) {\n      return validatePlainObject(\n        config,\n        value as Record<string, unknown>,\n        props,\n        propertyPath,\n      );\n    }\n\n    try {\n      const result = { parsed: JSON.parse(value as string), isValid: true };\n      if (isPlainObject(result.parsed)) {\n        return validatePlainObject(config, result.parsed, props, propertyPath);\n      }\n      return {\n        isValid: false,\n        parsed: config.params?.default || {},\n        messages: [\n          {\n            name: \"TypeError\",\n            message: `${WIDGET_TYPE_VALIDATION_ERROR}: ${getExpectedType(\n              config,\n            )}`,\n          },\n        ],\n      };\n    } catch (e) {\n      return {\n        isValid: false,\n        parsed: config.params?.default || {},\n        messages: [\n          {\n            name: \"TypeError\",\n            message: `${WIDGET_TYPE_VALIDATION_ERROR}: ${getExpectedType(\n              config,\n            )}`,\n          },\n        ],\n      };\n    }\n  },\n  [ValidationTypes.ARRAY]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n    propertyPath: string,\n  ): ValidationResponse => {\n    const invalidResponse = {\n      isValid: false,\n      parsed: config.params?.default || [],\n      messages: [\n        {\n          name: \"TypeError\",\n          message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(config)}`,\n        },\n      ],\n    };\n    if (value === undefined || value === null || value === \"\") {\n      if (\n        config.params &&\n        config.params.required &&\n        !isArray(config.params.default)\n      ) {\n        invalidResponse.messages = [\n          {\n            name: \"ValidationError\",\n            message:\n              \"This property is required for the widget to function correctly\",\n          },\n        ];\n        return invalidResponse;\n      }\n      if (value === \"\") {\n        return {\n          isValid: true,\n          parsed: config.params?.default || [],\n        };\n      }\n      if (config.params && isArray(config.params.default)) {\n        return {\n          isValid: true,\n          parsed: config.params?.default,\n        };\n      }\n\n      return {\n        isValid: true,\n        parsed: value,\n      };\n    }\n\n    if (isString(value)) {\n      try {\n        const _value = JSON.parse(value);\n        if (Array.isArray(_value)) {\n          const result = validateArray(config, _value, props, propertyPath);\n          return result;\n        }\n      } catch (e) {\n        return invalidResponse;\n      }\n    }\n\n    if (Array.isArray(value)) {\n      return validateArray(config, value, props, propertyPath);\n    }\n\n    return invalidResponse;\n  },\n  [ValidationTypes.OBJECT_ARRAY]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n  ): ValidationResponse => {\n    const invalidResponse = {\n      isValid: false,\n      parsed: config.params?.default || [{}],\n      messages: [\n        {\n          name: \"TypeError\",\n          message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(config)}`,\n        },\n      ],\n    };\n    if (value === undefined || value === null || value === \"\") {\n      if (config.params?.required) return invalidResponse;\n\n      if (value === \"\") {\n        return {\n          isValid: true,\n          parsed: config.params?.default || [{}],\n        };\n      }\n\n      return { isValid: true, parsed: value };\n    }\n    if (!isString(value) && !Array.isArray(value)) {\n      return invalidResponse;\n    }\n\n    let parsed = value;\n\n    if (isString(value)) {\n      try {\n        parsed = JSON.parse(value);\n      } catch (e) {\n        return invalidResponse;\n      }\n    }\n\n    if (Array.isArray(parsed)) {\n      if (parsed.length === 0) {\n        if (config.params?.required) {\n          return invalidResponse;\n        } else {\n          return {\n            isValid: true,\n            parsed: config.params?.default || [{}],\n          };\n        }\n      }\n\n      for (const [index, parsedEntry] of parsed.entries()) {\n        if (!isPlainObject(parsedEntry)) {\n          return {\n            ...invalidResponse,\n            messages: [\n              {\n                name: \"ValidationError\",\n                message: `Invalid object at index ${index}`,\n              },\n            ],\n          };\n        }\n      }\n      return { isValid: true, parsed };\n    }\n    return invalidResponse;\n  },\n\n  [ValidationTypes.NESTED_OBJECT_ARRAY]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n    propertyPath: string,\n  ): ValidationResponse => {\n    let response: ValidationResponse = {\n      isValid: false,\n      parsed: config.params?.default || [],\n      messages: [\n        {\n          name: \"TypeError\",\n          message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(config)}`,\n        },\n      ],\n    };\n    response = VALIDATORS.ARRAY(config, value, props, propertyPath);\n\n    if (!response.isValid) {\n      return response;\n    }\n    // Check if all values and children values are unique\n    if (config.params?.unique && response.parsed.length) {\n      if (isArray(config.params?.unique)) {\n        for (const param of config.params?.unique) {\n          const flattenedArray = flat(response.parsed, param);\n          const shouldBeUnique = flattenedArray.map((entry) =>\n            get(entry, param, \"\"),\n          );\n          if (uniq(shouldBeUnique).length !== flattenedArray.length) {\n            response = {\n              ...response,\n              isValid: false,\n              messages: [\n                {\n                  name: \"ValidationError\",\n                  message: `path:${param} must be unique. Duplicate values found`,\n                },\n              ],\n            };\n          }\n        }\n      }\n    }\n    return response;\n  },\n  [ValidationTypes.DATE_ISO_STRING]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n  ): ValidationResponse => {\n    let isValid = false;\n    let parsed = value;\n    let message = { name: \"\", message: \"\" };\n\n    if (_.isNil(value) || value === \"\") {\n      parsed = config.params?.default;\n\n      if (config.params?.required) {\n        isValid = false;\n        message = {\n          name: \"TypeError\",\n          message: `Value does not match: ${getExpectedType(config)}`,\n        };\n      } else {\n        isValid = true;\n      }\n    } else if (typeof value === \"object\" && moment(value).isValid()) {\n      //Date and moment object\n      isValid = true;\n      parsed = moment(value).toISOString(true);\n    } else if (isString(value)) {\n      //Date string\n      if (\n        value === moment(value).toISOString() ||\n        value === moment(value).toISOString(true)\n      ) {\n        return {\n          isValid: true,\n          parsed: value,\n        };\n      } else if (moment(value).isValid()) {\n        isValid = true;\n        parsed = moment(value).toISOString(true);\n      } else {\n        isValid = false;\n        message = {\n          name: \"TypeError\",\n          message: `Value does not match: ${getExpectedType(config)}`,\n        };\n        parsed = config.params?.default;\n      }\n    } else {\n      isValid = false;\n      message = {\n        name: \"TypeError\",\n        message: `Value does not match: ${getExpectedType(config)}`,\n      };\n    }\n\n    const result: ValidationResponse = {\n      isValid,\n      parsed,\n    };\n\n    if (message) {\n      result.messages = [message];\n    }\n\n    return result;\n  },\n  [ValidationTypes.FUNCTION]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n    propertyPath: string,\n  ): ValidationResponse => {\n    const invalidResponse = {\n      isValid: false,\n      parsed: undefined,\n      messages: [\n        {\n          name: \"ValidationError\",\n          message: \"Failed to validate\",\n        },\n      ],\n    };\n    if (config.params?.fnString && isString(config.params?.fnString)) {\n      try {\n        const fnBody = `const fn = ${config.params?.fnString};\n        return fn(value, props, _, moment, propertyPath, config);`;\n\n        const result = new Function(\n          \"value\",\n          \"props\",\n          \"_\",\n          \"moment\",\n          \"propertyPath\",\n          \"config\",\n          fnBody,\n        )(value, props, self._, self.moment, propertyPath, config);\n\n        return result;\n      } catch (e) {\n        log.error(\"Validation function error: \", { e });\n      }\n    }\n    return invalidResponse;\n  },\n  [ValidationTypes.IMAGE_URL]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n  ): ValidationResponse => {\n    const invalidResponse = {\n      isValid: false,\n      parsed: config.params?.default || \"\",\n      messages: [\n        {\n          name: \"TypeError\",\n          message: `${WIDGET_TYPE_VALIDATION_ERROR}: ${getExpectedType(\n            config,\n          )}`,\n        },\n      ],\n    };\n    const base64Regex =\n      /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\n    const base64ImageRegex = /^data:image\\/.*;base64/;\n    const imageUrlRegex =\n      /(http(s?)?:\\/\\/(localhost|([/|.|\\w|\\s|-])*\\.(?:jpeg|jpg|gif|png)??(?:&?[^=&]*=[^=&]*)*))/;\n    if (\n      value === undefined ||\n      value === null ||\n      (isString(value) && value.trim().length === 0)\n    ) {\n      if (config.params && config.params.required) return invalidResponse;\n      return { isValid: true, parsed: value };\n    }\n    if (isString(value)) {\n      if (imageUrlRegex.test(value.trim())) {\n        return { isValid: true, parsed: value.trim() };\n      }\n      if (base64ImageRegex.test(value)) {\n        return {\n          isValid: true,\n          parsed: value,\n        };\n      }\n      if (base64Regex.test(value) && btoa(atob(value)) === value) {\n        return { isValid: true, parsed: `data:image/png;base64,${value}` };\n      }\n    }\n    return invalidResponse;\n  },\n  [ValidationTypes.SAFE_URL]: (\n    config: ValidationConfig,\n    value: unknown,\n  ): ValidationResponse => {\n    const invalidResponse = {\n      isValid: false,\n      parsed: config?.params?.default || \"\",\n      messages: [\n        {\n          name: \"TypeError\",\n          message: `${WIDGET_TYPE_VALIDATION_ERROR}: ${getExpectedType(\n            config,\n          )}`,\n        },\n      ],\n    };\n\n    if (typeof value === \"string\" && getIsSafeURL(value)) {\n      return {\n        isValid: true,\n        parsed: value,\n      };\n    } else {\n      return invalidResponse;\n    }\n  },\n\n  /**\n   *\n   * ARRAY_OF_TYPE_OR_TYPE can be used in scenarios where we wanted to validate\n   * using ValidationTypes.ARRAY or ValidationTypes.* at the same time.\n   *\n   * This is needed in case of properties inside\n   * 1. Table widget where we use COMPUTE_VALUE\n   * 2. Menu button widget where we use MENU_BUTTON_DYNAMIC_ITEMS\n   *\n   * For more info: https://github.com/appsmithorg/appsmith/pull/9396\n   */\n  [ValidationTypes.ARRAY_OF_TYPE_OR_TYPE]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n    propertyPath: string,\n  ): ValidationResponse => {\n    if (!config.params?.type)\n      return {\n        isValid: false,\n        parsed: undefined,\n        messages: [\n          {\n            name: \"ValidationError\",\n            message: \"Invalid validation\",\n          },\n        ],\n      };\n\n    // Validate when JS mode is disabled\n    const result = VALIDATORS[config.params.type as ValidationTypes](\n      config.params as ValidationConfig,\n      value,\n      props,\n      propertyPath,\n    );\n    if (result.isValid) return result;\n\n    // Validate when JS mode is enabled\n    const resultValue = [];\n    if (_.isArray(value)) {\n      for (const item of value) {\n        const result = VALIDATORS[config.params.type](\n          config.params as ValidationConfig,\n          item,\n          props,\n          propertyPath,\n        );\n        if (!result.isValid) return result;\n        resultValue.push(result.parsed);\n      }\n    } else {\n      return {\n        isValid: false,\n        parsed: config.params?.params?.default,\n        messages: result.messages,\n      };\n    }\n\n    return {\n      isValid: true,\n      parsed: resultValue,\n    };\n  },\n  [ValidationTypes.OBJECT_WITH_FUNCTION]: (\n    config: ValidationConfig,\n    value: any,\n    props: Record<string, unknown>,\n    propertyPath: string,\n  ): ValidationResponse => {\n    const invalidResponse = {\n      isValid: true,\n      parsed: {},\n      messages: [\n        {\n          name: \"TypeError\",\n          message: `${WIDGET_TYPE_VALIDATION_ERROR} ${getExpectedType(config)}`,\n        },\n      ],\n    };\n\n    const { isValid, messages, parsed } = VALIDATORS[ValidationTypes.OBJECT](\n      config,\n      value,\n      props,\n      propertyPath,\n    );\n\n    if (!isValid) {\n      return { isValid, messages, parsed }; // return the expected type\n    } else {\n      return { isValid, messages, parsed: stringifyFnsInObject(parsed) };\n    }\n  },\n\n  [ValidationTypes.UNION]: (\n    config: ValidationConfig,\n    value: unknown,\n    props: Record<string, unknown>,\n    propertyPath: string,\n  ): ValidationResponse => {\n    if (config.params?.types && config.params?.types.length > 0) {\n      for (const childConfig of config.params.types) {\n        const result = VALIDATORS[childConfig.type](\n          childConfig,\n          value,\n          props,\n          propertyPath,\n        );\n\n        if (result.isValid) {\n          return result;\n        }\n      }\n\n      return {\n        isValid: false,\n        parsed: config.params.defaultValue,\n        messages: [\n          {\n            name: \"ValidationError\",\n            message: config.params.defaultErrorMessage || \"\",\n          },\n        ],\n      };\n    } else {\n      return {\n        isValid: false,\n        parsed: undefined,\n        messages: [\n          {\n            name: \"ValidationError\",\n            message: \"Invalid validation configuration\",\n          },\n        ],\n      };\n    }\n  },\n};\n","import {\n  getEntityNameAndPropertyPath,\n  isJSAction,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport {\n  EXECUTION_PARAM_REFERENCE_REGEX,\n  THIS_DOT_PARAMS_KEY,\n} from \"constants/AppsmithActionConstants/ActionConstants\";\nimport type { ConfigTree, DataTree } from \"entities/DataTree/dataTreeTypes\";\nimport type DependencyMap from \"entities/DependencyMap\";\nimport type { TJSPropertiesState } from \"workers/Evaluation/JSObject/jsPropertiesState\";\nimport type { DataTreeEntity } from \"entities/DataTree/dataTreeTypes\";\nimport type {\n  DataTreeEntityConfig,\n  DataTreeEntityObject,\n  JSActionEntity,\n} from \"@appsmith/entities/DataTree/types\";\nimport { isObject } from \"lodash\";\nimport type { AffectedJSObjects } from \"sagas/EvaluationsSagaUtils\";\n\nexport function getFixedTimeDifference(endTime: number, startTime: number) {\n  return (endTime - startTime).toFixed(2) + \" ms\";\n}\nexport function isDataField(fullPath: string, configTree: ConfigTree) {\n  const { entityName, propertyPath } = getEntityNameAndPropertyPath(fullPath);\n  const entityConfig = configTree[entityName];\n  if (entityConfig && \"triggerPaths\" in entityConfig) {\n    return !(propertyPath in entityConfig.triggerPaths);\n  }\n  return false;\n}\n\nexport function replaceThisDotParams(code: string) {\n  return code.replace(EXECUTION_PARAM_REFERENCE_REGEX, THIS_DOT_PARAMS_KEY);\n}\n\nexport function getAllAsyncJSFunctions(\n  unevalTree: DataTree,\n  jsPropertiesState: TJSPropertiesState,\n  dependencyMap: DependencyMap,\n  allAsyncNodes: string[],\n) {\n  const allAsyncJSFunctions: string[] = [];\n  for (const [entityName, entity] of Object.entries(unevalTree)) {\n    if (!isJSAction(entity)) continue;\n    const jsEntityState = jsPropertiesState[entityName];\n    if (!jsEntityState) continue;\n    for (const [propertyName, propertyState] of Object.entries(jsEntityState)) {\n      if (!(\"isMarkedAsync\" in propertyState)) continue;\n      if (propertyState.isMarkedAsync) {\n        allAsyncJSFunctions.push(`${entityName}.${propertyName}`);\n        continue;\n      } else {\n        const reacheableAsyncNodes = dependencyMap.getAllReachableNodes(\n          `${entityName}.${propertyName}`,\n          allAsyncNodes,\n        );\n        reacheableAsyncNodes.length &&\n          allAsyncJSFunctions.push(`${entityName}.${propertyName}`);\n      }\n    }\n  }\n  return allAsyncJSFunctions;\n}\n\nexport function isValidEntity(\n  entity: DataTreeEntity,\n): entity is DataTreeEntityObject {\n  if (!isObject(entity)) {\n    return false;\n  }\n  return true;\n}\n\nexport function getValidEntityType(\n  entity: DataTreeEntity,\n  entityConfig: DataTreeEntityConfig,\n) {\n  let entityType;\n  if (isValidEntity(entity)) {\n    entityType =\n      (!!entityConfig && entityConfig.ENTITY_TYPE) || entity.ENTITY_TYPE;\n  }\n  return !!entityType ? entityType : \"noop\";\n}\n\n// in this function we are filtering out only the JSObjects that are affected by the changes\n// through this we limit the number of JSObjects that are diffed\nexport function getOnlyAffectedJSObjects(\n  jsDataTree: Record<string, JSActionEntity>,\n  affectedJSObjects: AffectedJSObjects,\n) {\n  const { ids, isAllAffected } = affectedJSObjects;\n  if (isAllAffected) {\n    return jsDataTree;\n  }\n  if (!ids || ids.length === 0) {\n    return {};\n  }\n  const idsSet = new Set(ids);\n  return Object.keys(jsDataTree).reduce(\n    (acc, key) => {\n      const { actionId } = jsDataTree[key];\n      //only matching action id will be included in the reduced jsDataTree\n      if (idsSet.has(actionId)) {\n        acc[key] = jsDataTree[key];\n      }\n      return acc;\n    },\n    {} as Record<string, JSActionEntity>,\n  );\n}\n","import type { ValidationConfig } from \"constants/PropertyControlConstants\";\nimport { Severity } from \"entities/AppsmithConsole\";\nimport type {\n  WidgetEntity,\n  WidgetEntityConfig,\n} from \"@appsmith/entities/DataTree/types\";\nimport type { ConfigTree } from \"entities/DataTree/dataTreeTypes\";\nimport type { EvaluationError } from \"utils/DynamicBindingUtils\";\nimport {\n  isPathDynamicTrigger,\n  PropertyEvaluationErrorType,\n} from \"utils/DynamicBindingUtils\";\nimport {\n  addErrorToEntityProperty,\n  getEntityNameAndPropertyPath,\n  resetValidationErrorsForEntityProperty,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\nimport { validate } from \"workers/Evaluation/validations\";\nimport type { EvalProps } from \".\";\nimport type { ValidationResponse } from \"constants/WidgetValidation\";\n\nexport function validateAndParseWidgetProperty({\n  configTree,\n  evalPropertyValue,\n  evalProps,\n  fullPropertyPath,\n  unEvalPropertyValue,\n  widget,\n}: {\n  fullPropertyPath: string;\n  widget: WidgetEntity;\n  configTree: ConfigTree;\n  evalPropertyValue: unknown;\n  unEvalPropertyValue: string;\n  evalProps: EvalProps;\n}): unknown {\n  const { propertyPath } = getEntityNameAndPropertyPath(fullPropertyPath);\n\n  if (isPathDynamicTrigger(widget, propertyPath)) {\n    // TODO find a way to validate triggers\n    return unEvalPropertyValue;\n  }\n  const widgetConfig = configTree[widget.widgetName] as WidgetEntityConfig;\n  const validation = widgetConfig.validationPaths[propertyPath];\n\n  const { isValid, messages, parsed } = validateWidgetProperty(\n    validation,\n    evalPropertyValue,\n    widget,\n    propertyPath,\n  );\n\n  // remove already present validation errors\n  resetValidationErrorsForEntityProperty({\n    evalProps,\n    fullPropertyPath,\n  });\n\n  if (!isValid) {\n    const evalErrors: EvaluationError[] =\n      messages?.map((message) => {\n        return {\n          raw: unEvalPropertyValue,\n          errorMessage: message || {},\n          errorType: PropertyEvaluationErrorType.VALIDATION,\n          severity: Severity.ERROR,\n        };\n      }) ?? [];\n    // Add validation errors\n    addErrorToEntityProperty({\n      errors: evalErrors,\n      evalProps,\n      fullPropertyPath,\n      configTree,\n    });\n  }\n\n  return parsed;\n}\n\nexport function validateWidgetProperty(\n  config: ValidationConfig,\n  value: unknown,\n  props: Record<string, unknown>,\n  propertyPath: string,\n) {\n  if (!config) {\n    return {\n      isValid: true,\n      parsed: value,\n    };\n  }\n  return validate(config, value, props, propertyPath);\n}\n\nexport function validateActionProperty(\n  config: ValidationConfig,\n  value: unknown,\n): ValidationResponse {\n  if (!config) {\n    return {\n      isValid: true,\n      parsed: value,\n    };\n  }\n  return validate(config, value, {}, \"\");\n}\n","import { find, toPath, union } from \"lodash\";\nimport type { EvalError } from \"utils/DynamicBindingUtils\";\nimport { EvalErrorTypes } from \"utils/DynamicBindingUtils\";\nimport { extractIdentifierInfoFromCode } from \"@shared/ast\";\nimport {\n  convertPathToString,\n  getEntityNameAndPropertyPath,\n  isJSActionConfig,\n  isWidget,\n} from \"@appsmith/workers/Evaluation/evaluationUtils\";\n\nimport type { WidgetEntityConfig } from \"@appsmith/entities/DataTree/types\";\nimport type {\n  ConfigTree,\n  DataTreeEntity,\n} from \"entities/DataTree/dataTreeTypes\";\nimport {\n  DEDICATED_WORKER_GLOBAL_SCOPE_IDENTIFIERS,\n  JAVASCRIPT_KEYWORDS,\n} from \"constants/WidgetValidation\";\nimport { libraryReservedIdentifiers } from \"workers/common/JSLibrary\";\n\n/** This function extracts validReferences and invalidReferences from a binding {{}}\n * @param script\n * @param allPaths\n * @returns validReferences - Valid references from bindings\n * invalidReferences- References which are currently invalid\n * @example - For binding {{unknownEntity.name + Api1.name}}, it returns\n * {\n * validReferences:[Api1.name],\n * invalidReferences: [unknownEntity.name]\n * }\n */\nexport const extractInfoFromBinding = (\n  script: string,\n  allKeys: Record<string, true>,\n) => {\n  const { references } = extractIdentifierInfoFromCode(\n    script,\n    self.evaluationVersion,\n    invalidEntityIdentifiers,\n  );\n  return getPrunedReferences(references, allKeys);\n};\n\nexport const getPrunedReferences = (\n  references: string[],\n  allKeys: Record<string, true>,\n) => {\n  const prunedReferences: Set<string> = new Set<string>();\n\n  references.forEach((reference: string) => {\n    // If the identifier exists directly, add it and return\n    if (allKeys.hasOwnProperty(reference)) {\n      prunedReferences.add(reference);\n      return;\n    }\n    const subpaths = toPath(reference);\n    let current = \"\";\n    // We want to keep going till we reach top level, but not add top level\n    // Eg: Input1.text should not depend on entire Table1 unless it explicitly asked for that.\n    // This is mainly to avoid a lot of unnecessary evals, if we feel this is wrong\n    // we can remove the length requirement, and it will still work\n    while (subpaths.length > 1) {\n      current = convertPathToString(subpaths);\n      // We've found the dep, add it and return\n      if (allKeys.hasOwnProperty(current)) {\n        prunedReferences.add(current);\n        return;\n      }\n      subpaths.pop();\n    }\n    // If no valid reference is derived, add reference as is\n    prunedReferences.add(reference);\n  });\n  return Array.from(prunedReferences);\n};\n\ninterface BindingsInfo {\n  references: string[];\n  errors: EvalError[];\n}\nexport const extractInfoFromBindings = (\n  bindings: string[],\n  allKeys: Record<string, true>,\n) => {\n  return bindings.reduce(\n    (bindingsInfo: BindingsInfo, binding) => {\n      try {\n        const references = extractInfoFromBinding(binding, allKeys);\n        return {\n          ...bindingsInfo,\n          references: union(bindingsInfo.references, references),\n        };\n      } catch (error) {\n        const newEvalError: EvalError = {\n          type: EvalErrorTypes.EXTRACT_DEPENDENCY_ERROR,\n          message: (error as Error).message,\n          context: {\n            script: binding,\n          },\n        };\n        return {\n          ...bindingsInfo,\n          errors: union(bindingsInfo.errors, [newEvalError]),\n        };\n      }\n    },\n    { references: [], errors: [] },\n  );\n};\n\n/**This function returns a unique array containing a merge of both arrays\n * @param currentArr\n * @param updateArr\n * @returns A unique array containing a merge of both arrays\n */\nexport const mergeArrays = <T>(currentArr: T[], updateArr: T[]): T[] => {\n  if (!currentArr) return updateArr;\n  return union(currentArr, updateArr);\n};\n\n/**\n * Identifiers which can not be valid names of entities and are not dynamic in nature.\n * therefore should be removed from the list of references extracted from code.\n * NB: DATA_TREE_KEYWORDS in app/client/src/constants/WidgetValidation.ts isn't included, although they are not valid entity names,\n * they can refer to potentially dynamic entities.\n * Eg. \"appsmith\"\n */\nexport const invalidEntityIdentifiers: Record<string, unknown> = {\n  ...JAVASCRIPT_KEYWORDS,\n  ...DEDICATED_WORKER_GLOBAL_SCOPE_IDENTIFIERS,\n  ...libraryReservedIdentifiers,\n};\n\nexport function isADynamicTriggerPath(\n  entity: DataTreeEntity,\n  propertyPath: string,\n  entityConfig: WidgetEntityConfig,\n) {\n  if (isWidget(entity)) {\n    const dynamicTriggerPathlist = entityConfig?.dynamicTriggerPathList;\n    const isTriggerPath = find(dynamicTriggerPathlist, { key: propertyPath });\n    if (isTriggerPath) {\n      return true;\n    }\n    return false;\n  }\n}\n\nexport function isJSFunction(configTree: ConfigTree, fullPath: string) {\n  const { entityName, propertyPath } = getEntityNameAndPropertyPath(fullPath);\n  const entityConfig = configTree[entityName];\n  return (\n    isJSActionConfig(entityConfig) &&\n    propertyPath &&\n    propertyPath in entityConfig.meta\n  );\n}\nexport function convertArrayToObject(arr: string[]) {\n  return arr.reduce(\n    (acc, item) => {\n      return { ...acc, [item]: true } as const;\n    },\n    {} as Record<string, true>,\n  );\n}\n","import lodashPackageJson from \"lodash/package.json\";\nimport momentPackageJson from \"moment-timezone/package.json\";\n\nexport interface JSLibrary {\n  version?: string;\n  docsURL: string;\n  name: string;\n  accessor: string[];\n  url?: string;\n  id?: string;\n}\n\nexport const defaultLibraries: JSLibrary[] = [\n  {\n    accessor: [\"_\"],\n    version: lodashPackageJson.version,\n    docsURL: `https://lodash.com/docs/${lodashPackageJson.version}`,\n    name: \"lodash\",\n  },\n  {\n    accessor: [\"moment\"],\n    version: momentPackageJson.version,\n    docsURL: `https://momentjs.com/docs/`,\n    name: \"moment\",\n  },\n  {\n    accessor: [\"forge\"],\n    version: \"1.3.0\",\n    docsURL: \"https://github.com/digitalbazaar/forge\",\n    name: \"forge\",\n  },\n];\n\nexport const JSLibraries = [...defaultLibraries];\n\nconst JSLibraryAccessorModifier = () => {\n  let jsLibraryAccessorSet = new Set(\n    JSLibraries.flatMap((lib) => lib.accessor),\n  );\n\n  return {\n    regenerateSet: () => {\n      jsLibraryAccessorSet = new Set(\n        JSLibraries.flatMap((lib) => lib.accessor),\n      );\n\n      return;\n    },\n    getSet: () => {\n      return jsLibraryAccessorSet;\n    },\n  };\n};\n\nexport const JSLibraryAccessor = JSLibraryAccessorModifier();\n\nexport const libraryReservedIdentifiers = defaultLibraries.reduce(\n  (acc, lib) => {\n    lib.accessor.forEach((a) => (acc[a] = true));\n    return acc;\n  },\n  {} as Record<string, boolean>,\n);\n","// 🚧 NOTE: this file exists only for the worker thread, as the worker thread needs to pass\n// the full Lodash library around. *Do not* import it in the main thread code, as that will\n// result in bundling the full Lodash. If you’re trying to pass a Lodash reference into some\n// function in the main thread, consider if you can instead:\n//\n// - import and call Lodash directly:\n//\n//   Before:\n//     // a.js\n//     export function mapArray(_) { return _.map(someArray, someFunction); }\n//     // b.js\n//     import { mapArray } from './a';\n//     import _ from 'lodash';\n//     mapArray(_);\n//\n//   After:\n//     // a.js\n//     import _ from 'lodash';\n//     export function mapArray() { return _.map(someArray, someFunction); }\n//     // b.js\n//     import { mapArray } from './a';\n//     mapArray();\n//\n// - pass only the function you need about:\n//\n//   Before:\n//     // a.js\n//     export function mapArray(_) { return _.map(someArray, someFunction); }\n//     // b.js\n//     import { mapArray } from './a';\n//     import _ from 'lodash';\n//     mapArray(_);\n//\n//   After:\n//     // a.js\n//     export function mapArray(_) { return _.map(someArray, someFunction); }\n//     // b.js\n//     import { mapArray } from './a';\n//     import _ from 'lodash';\n//     mapArray({ map: _.map });\nif (\n  typeof window !== \"undefined\" &&\n  // Jest mocks the `window` object when running worker tests\n  process.env.NODE_ENV !== \"test\"\n) {\n  throw new Error(\"lodash-wrapper.js must only be used in a worker thread\");\n}\n\n/////////////////////////////////////////////////////////////////////////\n//\n// We use babel-plugin-lodash to only import the lodash functions we use.\n// Unfortunately, the plugin doesn’t work with the following pattern:\n//   import _ from 'lodash';\n//   const something = _;\n// When it encounters code like above, it will replace _ with `undefined`,\n// which will break the app (https://github.com/lodash/babel-plugin-lodash/issues/235).\n//\n// Given that we *need* to use the full lodash in ./resetJSLibraries.js,\n// we use this workaround where we’re importing Lodash using CommonJS require().\n// It works because babel-plugin-lodash doesn’t support CommonJS require().\nmodule.exports = require(\"lodash\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = function() {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [4701,6994,2570,6926,4749,2091], function() { return __webpack_require__(32674); })\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + ({\"4701\":\"svg-icons\",\"8177\":\"remix-icons\",\"9222\":\"blueprint-icons\"}[chunkId] || chunkId) + \".\" + {\"2091\":\"0a86dc81\",\"2570\":\"9d010338\",\"4701\":\"d88bfe91\",\"4749\":\"ab5afdbd\",\"6926\":\"52bd5fa2\",\"6994\":\"3c16b70d\",\"8177\":\"ee68420e\",\"9222\":\"c4499702\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 1101;","__webpack_require__.p = \"/form/\";","(function () {\n  if (typeof __webpack_require__ !== 'undefined') {\n    var oldGetScript = __webpack_require__.u;\n    var oldLoadScript = __webpack_require__.e;\n    var queryMap = {};\n    var countMap = {};\n    var getRetryDelay = function () {\n      return 3000;\n    };\n    __webpack_require__.u = function (chunkId) {\n      var result = oldGetScript(chunkId);\n      return (\n        result +\n        (queryMap.hasOwnProperty(chunkId) ? '?' + queryMap[chunkId] : '')\n      );\n    };\n    __webpack_require__.e = function (chunkId) {\n      var result = oldLoadScript(chunkId);\n      return result.catch(function (error) {\n        var retries = countMap.hasOwnProperty(chunkId) ? countMap[chunkId] : 2;\n        if (retries < 1) {\n          var realSrc = oldGetScript(chunkId);\n          error.message =\n            'Loading chunk ' +\n            chunkId +\n            ' failed after 2 retries.\\n(' +\n            realSrc +\n            ')';\n          error.request = realSrc;\n          window.location.href = '/404.html';\n          throw error;\n        }\n        return new Promise(function (resolve) {\n          var retryAttempt = 2 - retries + 1;\n          setTimeout(function () {\n            var retryAttemptString = '&retry-attempt=' + retryAttempt;\n            var cacheBust = 'cache-bust=true' + retryAttemptString;\n            queryMap[chunkId] = cacheBust;\n            countMap[chunkId] = retries - 1;\n            resolve(__webpack_require__.e(chunkId));\n          }, getRetryDelay(retryAttempt));\n        });\n      });\n    };\n  }\n})();\n","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t1101: 1,\n\t2359: 1\n};\n\n// importScripts chunk loading\nvar installChunk = function(data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = function(chunkId, promises) {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkappsmith\"] = self[\"webpackChunkappsmith\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","__webpack_require__.nc = undefined;","var next = __webpack_require__.x;\n__webpack_require__.x = function() {\n\treturn Promise.all([4701,6994,2570,6926,4749,2091].map(__webpack_require__.e, __webpack_require__)).then(next);\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["ECMA_VERSION","SourceType","NodeTypes","isIdentifierNode","node","type","isMemberExpressionNode","isVariableDeclarator","isFunctionDeclaration","isFunctionExpression","isArrowFunctionExpression","isObjectExpression","isLiteralNode","isExportDefaultDeclarationNode","isPropertyAFunctionNode","isArrayAccessorNode","computed","property","_isFinite","value","wrapCode","code","concat","getFunctionalParamNamesFromNode","Array","from","getFunctionalParamsFromNode","map","functionalParam","paramName","getAST","options","parse","_objectSpread","ecmaVersion","extractIdentifierInfoFromCode","evaluationVersion","invalidIdentifiers","ast","end","start","sanitizedScript","sanitizeScript","wrappedCode","_ancestorWalk","ancestorWalk","functionalParams","references","variableDeclarations","filter","reference","topLevelIdentifier","_toPath","has","_has","variables","e","SyntaxError","needValue","arguments","length","undefined","Set","params","forEach","paramNode","add","name","defaultValue","isAssignmentPatternNode","left","constructFinalMemberExpIdentifier","child","propertyAccessor","getPropertyAccessor","object","nestedChild","propertyNode","_isString","isTypeOfFunction","identifierList","ancestor","Identifier","ancestors","candidateTopLevelNode","depth","parent","optional","parentNode","push","memberExpIdentifier","VariableDeclarator","id","FunctionDeclaration","_toConsumableArray","FunctionExpression","ArrowFunctionExpression","getMemberExpressionObjectFromProperty","propertyName","memberExpressionObjects","locations","simple","MemberExpression","_ref2","propName","_isNil","getStringValue","memberExpressionObjectString","generate","isJSFunctionProperty","t","parseJSObject","comments","token","sourceType","onComment","onToken","ranges","attachComments","parsedObject","success","parsedObjectProperties","JSObjectProperties","ExportDefaultDeclaration","declaration","properties","propertyKey","key","rawContent","extractContentByPosition","line","loc","ch","column","to","position","startLine","startColumn","endLine","endColumn","keyStartLine","keyEndLine","keyStartColumn","keyEndColumn","isMarkedAsync","async","beginsWithLineBreakRegex","js","trimmedJS","replace","unescapeJS","content","eachLine","split","returnedString","i","slice","inputValue","JSON","stringify","newWebWorkerSpanData","spanName","attributes","startTime","Date","now","endTime","profileFn","allSpans","fn","span","res","addEndTimeForWebWorkerSpanData","createMessage","format","_len","args","_key","apply","customJSLibraryMessages","ADD_JS_LIBRARY","REC_LIBRARY","INSTALLATION_SUCCESSFUL","accessor","INSTALLATION_FAILED","INSTALLED_ALREADY","UNINSTALL_FAILED","UNINSTALL_SUCCESS","LEARN_MORE_DESC","UNSUPPORTED_LIB","UNSUPPORTED_LIB_DESC","LEARN_MORE","REPORT_ISSUE","AUTOCOMPLETE_FAILED","CLIENT_LOAD_FAILED","url","LIB_OVERRIDE_ERROR","DEFS_FAILED_ERROR","IMPORT_URL_ERROR","NAME_COLLISION_ERROR","accessors","HTTP_PROTOCOL_INPUT_PLACEHOLDER","getEntityForEvalContextMap","_defineProperty","ENTITY_TYPE","entityName","entity","getJSActionForEvalContext","getEntityForEvalContext","getterMethod","addDataTreeToContext","configTree","dataTree","EVAL_CONTEXT","isTriggerBased","_args$removeEntityFun","removeEntityFunctions","dataTreeEntries","Object","entries","entityFunctionCollection","setters","_i","_dataTreeEntries","_dataTreeEntries$_i","_slicedToArray","_step","_iterator","_createForOfIteratorHelper","getEntityFunctions","s","n","done","entityFn","qualifier","func","fullPath","path","set","err","f","entityConfig","entityMethodMap","_isEmpty","assign","removeEntityFunctionsFromEvalContext","addEntityFunctionsToEvalContext","evalContext","_i2","_Object$entries","_Object$entries$_i","funcObj","addPlatformFunctionsToEvalContext","context","_step2","_iterator2","getPlatformFunctions","fnDef","addFn","bind","getAllSetterFunctions","entitiesSetterFunctions","_i3","_dataTreeEntries2","_dataTreeEntries2$_i","_i4","_Object$keys","keys","methodName","getEntitySetterFunctions","entitySetterFunctions","_i5","_Object$keys2","getAllAsyncFunctions","allAsyncFunctions","_i6","_dataTreeEntries3","_step3","_dataTreeEntries3$_i","_iterator3","setterMethods","_step4","_iterator4","_loop","_Object$entries2$_i","_Object$entries2","_i7","klona","APPSMITH_GLOBAL_FUNCTIONS","APPSMITH_NAMESPACED_FUNCTIONS","APPSMITH_INTEGRATIONS","AppsmithFunctionsWithFields","EE_APPSMITH_NAMESPACED_FUNCTIONS","values","extractEvalConfigFromFormConfig","formConfig","paths","parentPath","bindingsFound","config","_get","bindingPaths","expressions","match","DATA_BIND_REGEX_GLOBAL","isArray","completePath","exp","expression","output","extractExpressionObject","EXECUTION_PARAM_KEY","EXECUTION_PARAM_REFERENCE_REGEX","THIS_DOT_PARAMS_KEY","PluginType","apiActionSettingsConfig","queryActionSettingsConfig","saasActionSettingsConfig","apiActionEditorConfig","apiActionDependencyConfig","apiActionDatasourceFormButtonConfig","DATA_BIND_REGEX","QUOTED_BINDING_REGEX","CE_ENTITY_TYPE","MODULE_INPUT","MODULE_INSTANCE","setOverridingProperty","_ref","overridingPropertyPaths","propertyOverrideDependency","overridingPropertyKey","OverridingPropertyType","updatedOverridingProperty","defaultPropertyName","DEFAULT","isWidgetActionOrJsObject","isWidget","isAction","isJSAction","EVAL_WORKER_SYNC_ACTION","EVAL_WORKER_ASYNC_ACTION","EVAL_WORKER_ACTIONS","MAIN_THREAD_ACTION","IMMEDIATE_PARENT_REGEX","DataTreeDiffEvent","CrashingError","_Error","_classCallCheck","_inherits","_createClass","_wrapNativeSuper","Error","convertPathToString","arrPath","string","segment","val","Number","isInteger","test","getEntityNameAndPropertyPath","indexOfFirstDot","indexOf","propertyPath","substring","translateCollectionDiffs","data","event","dataTreeDiffs","diff","idx","payload","isTrueObject","diffKey","translateDiffEventToDataTreeDiffEvent","difference","unEvalDataTree","result","NOOP","isJsAction","kind","NEW","DELETE","rhsChange","rhs","isDynamicValue","lhsChange","lhs","EDIT","dataTreeDeleteDiffs","item","index","addDependantsOfNestedPropertyPaths","parentPaths","inverseMap","withNestedPaths","dependantNodes","dependantNodePath","isChildPropertyPath","isAppsmithEntity","isAnyJSAction","serialiseToBigInt","_","v","toString","removeFunctions","_isFunction","_isObject","removeFunctionsAndSerialzeBigInt","getImmediateParentsOfPropertyPaths","propertyPaths","parents","matches","getAllPaths","records","curKey","tempKey","trimDependantChangePaths","changePaths","dependencyMap","trimmedPaths","foundADependant","dependants","dependantPath","getSafeToRenderDataTree","tree","widgetTypeConfigMap","reduce","entityKey","safeToRenderEntity","validationPaths","validation","parsed","validateWidgetProperty","_set","derivedProperties","addErrorToEntityProperty","_ref3","errors","evalProps","_getEntityNameAndProp2","fullPropertyPath","isPrivateEntityPath","getAllPrivateWidgetsInDataTree","logBlackList","errorPath","EVAL_ERROR_PATH","existingErrors","resetValidationErrorsForEntityProperty","_ref4","_getEntityNameAndProp3","existingErrorsExceptValidation","error","errorType","PropertyEvaluationErrorType","prototype","call","isDynamicLeaf","unEvalTree","_toPath2","_toPath3","_toArray","propPathEls","hasOwnProperty","relativePropertyPath","reactivePaths","triggerPaths","addWidgetPropertyDependencies","_ref5","widgetConfig","widgetName","dependencies","_ref6","_ref7","overriddenPropertyKey","overridingPropertyKeyMap","existingDependenciesSet","META","privateWidgets","overrideWidgetProperties","currentTree","evalMetaUpdates","isNewWidget","overriddenProperties","safeTree","shouldUpdateGlobalContext","configEntity","clonedValue","pathsNotToOverride","widgetPathsNotToOverride","overriddenPropertyPath","overriddenPropertyPathArray","includes","self","metaPropertyPath","widgetId","propertyOverridingKeyMap","clonedDefaultValue","overwriteParsedValue","newValue","isATriggerPath","isPathDynamicTrigger","isNewEntity","updates","_find","overriddenPropertyPaths","isMetaPropDirty","overriddenMetaPaths","isWidgetDefaultPropertyPath","widget","isMetaWidgetTemplate","siblingMetaWidgets","getStaleMetaStateIds","metaWidgets","_difference","convertJSFunctionsToString","jscollections","collections","collectionName","jsCollection","jsFunctions","meta","funcName","String","isAPathDynamicBindingPath","isPathADynamicBinding","isNotEntity","convertMicroDiffToDeepDiff","microDiffDifferences","oldValue","platformFns","entityFns","navigateTo","showAlert","showModal","closeModal","download","postWindowMessage","copyToClipboard","resetWidget","storeValue","removeValue","clearStore","isRunNClearFnQualifierEntity","actionEntity","getFnWithGuards","run","isAsyncGuard","clear","getGeoLocation","watchGeoLocation","stopWatchGeoLocation","props","Severity","_nodes","_classPrivateFieldLooseKey","_dependencies","_dependenciesInverse","_invalidDependencies","_invalidDependenciesInverse","DependencyMap","_this","defineProperty","writable","addDependency","_classPrivateFieldLooseBase","validDependencies","invalidDependencies","_classPrivateFieldLoo","_classPrivateFieldLoo2","dependency","get","previousNodeDependencies","newNodeDependencies","removedNodeDependencies","_classPrivateFieldLoo3","removedDependency","delete","previousNodeInvalidDependencies","newNodeInvalidDependencies","removedNodeInvalidDependencies","_classPrivateFieldLoo4","removedInvalidDependency","removeDependency","didUpdateDependencies","directDependenciesOfNode","getDirectDependencies","_classPrivateFieldLoo5","directDependency","addNodes","nodes","_step5","strict","nodesToAdd","sort","desc","didUpdateGraph","_iterator5","newNode","nodesThatAlreadyDependedOnThis","_step6","_iterator6","_loop2","_step6$value","invalidNode","dependant","_classPrivateFieldLoo6","_step7","_iterator7","_classPrivateFieldLoo7","_classPrivateFieldLoo8","_classPrivateFieldLoo9","iNode","removeNodes","_step8","_iterator8","_classPrivateFieldLoo10","_classPrivateFieldLoo11","_classPrivateFieldLoo12","isRelated","source","targets","visited","queue","shift","_step9","_iterator9","this","Map","fromEntries","_step10","deps","_iterator10","_step10$value","_step11","_iterator11","_step11$value","_step12","_iterator12","_step12$value","_step13","_iterator13","_step13$value","reachableNodes","_step14","_iterator14","UPDATES","TOASTS","FOCUSES","WIDGETS","setPropertyUpdate","replay","existingPathValue","addToArray","obj","getPathsFromDiff","diffs","join","pathArrayToString","stringPath","isNaN","parseInt","getDynamicStringSegments","dynamicString","stringSegments","indexOfDoubleParanStart","firstString","rest","sum","char","prevChar","getDynamicBindings","jsSnippets","sanitisedString","trim","EvalErrorTypes","getEntityDynamicBindingPathList","dynamicBindingPathList","dynamicTriggerPathList","unsafeFunctionForEval","parentPropertyPath","childPropertyPath","startsWith","EVALUATION_PATH","EVAL_VALUE_PATH","getNestedEvalPath","pathType","isPopulated","_getEntityNameAndProp","nestedPath","getEvalErrorPath","getEvalValuePath","PropertyEvaluationErrorCategory","VALIDATION","PARSE","LINT","getEntityType","getEntityId","actionId","getEntityName","MessageType","sendMessage","message","postMessage","PatchType","JSObjectCollection","resolvedFunctions","unEvalState","unEvalValue","prevUnEvalState","variableValue","newVarState","variableState","clearCachedVariablesForEvaluationContext","JSObjectName","jsObject","cachedJSVariablesByEntityName","varState","getVariableState","newJSObject","_variables$_i","_variables","varName","variable","enumerable","configurable","TriggerEmitter","BatchKey","method","GET","SET","ExecutionMetaData","enableJSVarUpdateTracking","getUpdatedLocalUnEvalTreeAfterJSUpdates","jsUpdates","localUnEvalTree","jsEntity","parsedBody","updateJSCollectionInUnEvalTree","removeFunctionsAndVariableJSCollection","validJSBodyRegex","RegExp","saveResolvedFunctionsAndJSUpdates","dataTreeEvalRef","jsPropertiesState","correctFormat","_isUndefined","body","isEmptyBody","actions","parseStartTime","performance","_parseJSObject","parseEndTime","JSObjectASTParseTime","getFixedTimeDifference","logs","parsedElement","enableJSFnPostProcessors","evaluateSync","functionString","parsedFunction","_unused","parsedKey","parseJSActions","oldUnEvalTree","differences","action","getJSEntities","jsCollections","updateEvalTreeWithJSCollectionState","evalTree","_jsCollectionEntries","_jsCollectionEntries$","jsObjectName","updateEvalTreeValueFromContext","currentEvalContext","dataTreeEvaluator","fullPathArray","_fullPathArray","variableName","JsPropertiesState","jsObjectProperty","modifiedUnEvalTree","functionsList","jsEntityConfig","varList","oldConfig","EvaluationSubstitutionType","confirmBeforeExecute","oldActionName","find","_unset","newVar","existedVarVal","newVarList","varListItem","modifiedDataTree","_loop3","actionName","isJSObjectFunction","isJSObjectVariable","isPromise","Boolean","then","DataStore","store","dataTreeDiff","deletedPath","deletedPathString","deleteActionData","DOM_APIS","acc","UNDEFINED_ACTION_IN_SYNC_EVAL_ERROR","errorModifier","ErrorModifier","asyncFunctionsNameMap","asyncJSFunctionsNames","isViewMode","appMode","APP_MODE","allAsyncEntityFunctions","allAsyncJSFunctions","getAllAsyncJSFunctions","metaData","modifiers","userScript","errorMessage","getErrorMessage","errorCategory","rootcause","_errorModifier2","asynFns","asyncFunc","_error$kind","category","isActionInvokedInDataField","updatedErrors","isDataField","reachableAsyncJSFunctions","getAllReachableNodes","setAsyncInvocationErrorsRootcause","FoundPromiseInSyncEvalError","_callSuper","ActionCalledInSyncFieldError","_Error2","_this2","replaceAll","_possibleConstructorReturn","getErrorMessageWithType","UNDEFINED_TYPE_ERROR_REGEX","ActionInDataFieldErrorModifier","asyncFunctionFullPath","functionNameWithWhiteSpace","TypeErrorModifier","matchedString","undefinedProperty","allMemberExpressionObjects","possibleCauses","objectString","topLevelEntity","at","possibleCausesArr","PrimitiveErrorModifier","log","Sentry","convertAllDataTypesToString","evalTreeWithChanges","updatedValuePaths","metaUpdates","setupUpdateTreeResponse","setterAndLocalStorageUpdatePaths","uniqueOrderUpdatePaths","evaluateAndPushResponse","additionalPathsAddedAsUpdates","response","evaluateAndGenerateResponse","messageType","defaultResponse","evaluationOrder","unEvalUpdates","isCreateFirstTree","staleMetaIds","removedPaths","isNewWidgetAdded","undefinedEvalValuesMap","jsVarsCreatedEvent","generateOptimisedUpdatesAndSetPrevState","workerResponse","unevalTree","evalOrder","updateResponse","evalAndValidateSubTree","oldConfigTree","makeEntityConfigsAsObjProperties","getOldUnevalTree","additionalUpdates","getNewDataTreeUpdates","affectedNodePaths","allUnevalUpdates","update","getAffectedNodesInTheDataTree","EvaluationScriptType","ScriptTemplate","EvaluationScripts","EXPRESSION","ANONYMOUS_FUNCTION","ASYNC_ANONYMOUS_FUNCTION","TRIGGERS","OBJECT_PROPERTY","topLevelWorkerAPIs","ignoreGlobalObjectKeys","resetWorkerGlobalScope","jsLibraryAccessorSet","JSLibraryAccessor","libraryReservedIdentifiers","createEvaluationContext","_args$configTree","evalArguments","ARGUMENTS","THIS_CONTEXT","thisContext","globalContext","overrideContext","entitiesClonedSoFar","overrideEvalContext","getUserScriptToEvaluate","unescapedJS","script","scriptType","evalArgumentsExist","getScriptType","buffer","getScriptToEval","setEvalContext","isJSCollection","triggers","indirectEval","Promise","_errorModifier$run","severity","raw","originalBinding","evaluateAsync","_x","_x2","_x3","_x4","_x5","_evaluateAsync","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","wrap","_context2","prev","next","abrupt","_callee","_getUserScriptToEvalu2","_errorModifier$run2","_context","sent","t0","stop","shouldAddSetter","setter","isDisabledExpression","disabled","Function","isDisabledFn","request","callbackData","dynamicTrigger","eventType","triggerMeta","_dataTreeEvaluator$se","onPageLoad","isAllAffected","ids","defaultLibImplementations","lodash","moment","forge","resetJSLibraries","JSLibraries","defaultLibraries","defaultLibraryAccessors","lib","invalidEntityIdentifiers","library","ignoredKeys","makeTernDefs","defs","cachedDefs","visitedReferences","iteration_count","baseObjPrototype","getPrototypeOf","src","target","getTernDocType","getOwnPropertyNames","LibraryInstallError","ImportError","TernDefinitionError","removeDataTreeFromContext","tempDataTreeStore","_dataTreeEntityNames","addTempStoredDataTreeToContext","_dataTreeEntityNames2","_installLibrary","takenAccessors","takenNamesMap","libStore","envKeysBeforeInstallation","unsetLibraryKeys","module","keysAfterInstallation","uniqueName","uniqAccessor","_accessors","_accessors2","_acc","a","k","importScripts","generateUniqueAccessor","import","flattenModule","t1","t2","t3","_loadLibraries","libs","keysBefore","keysAfter","defaultAccessors","flattenedModule","finish","urlOrName","_name","urlPathParts","URL","pathname","pop","validVar","default","libModule","create","ReplayEditor","_ReplayEntity","entityType","isUndo","getChanges","isEmpty","modifiedProperty","ReplayEntity","_internalSetTimeout","setTimeout","_internalClearTimeout","clearTimeout","cb","delay","timerId","_originalFetch","fetch","_fetch","_args","Request","credentials","initLocalStorage","localStorage","getItem","appsmith","setItem","removeItem","overrideWebAPIs","ctx","userLogs","setInterval","clearInterval","WorkerEnv","featureFlags","flags","cloudHosting","syncHandlerMap","_syncHandlerMap","bindings","executionParams","cleanValues","entityId","replayMap","CANVAS","replayResult","clearLogs","replayObject","noop","$isDataField","documentMock","dom","window","document","setupDOM","setFeatureFlags","setCloudHosting","clearCache","version","currentEvalState","setFormEvaluationSaga","updateActionData","asyncHandlerMap","transmissionErrorHandlerMap","evalTreeTransmissionErrorHandler","_asyncRequestMessageListener","_e$data2","messageId","messageHandler","transmissionErrorHandler","WorkerMessenger","addEventListener","_e$data","responseData","preventDefault","console","reason","UserLog","isEnabled","emitter","getSource","_triggerMeta$source","_triggerMeta$source2","_triggerMeta$source3","triggerPropertyName","_this$emitter","parseLogs","emit","_console","debug","info","table","warn","saveLog","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","replaceFunctionWithNamesFromObjects","uuid4","timestamp","stack","sanitizeData","_internalSetInterval","_internalClearInterval","intervalIdMap","clearAllIntervals","intervalId","runningIntervalId","callback","_internalIntervalId","customIntervalId","fnName","fnGuards","guard","ConditionType","FormDataPaths","finalEvalObj","evalConfigPaths","MATCH_ACTION_CONFIG_PROPERTY","matchExact","r","str","generateInitialEvalState","configPropertyPath","staticDependencyPathList","conditionals","conditionTypes","dependencyPaths","configProperty","identifier","allConditionTypes","HIDE","SHOW","_formConfig$condition","_formConfig$condition2","visible","_merge","showOrHideDependencies","show","hide","ENABLE","DISABLE","_formConfig$condition3","_formConfig$condition4","enabled","enableOrDisableDependencies","enable","disable","FETCH_DYNAMIC_VALUES","_formConfig$condition5","_formConfig$condition6","dynamicDependencyPathList","fetchDynamicValuesDependencies","fetchDynamicValues","condition","dynamicValues","allowedToFetch","isLoading","hasStarted","hasFetchFailed","evaluatedConfig","generateEvalFormConfigPaths","_uniq","evaluateFormConfig","updateEvaluatedConfig","evaluateFormConfigObject","children","schema","parentKey","configToBeChecked","placeholderText","placeHolderText","_isArray","evaluateDynamicValuesConfig","actionConfiguration","configArray","evaluatedValue","eval","evaluateFormConfigElements","datasourceConfiguration","evaluatedVal","evaluate","actionDiffPath","hasRouteChanged","conditionBlock","conditionType","_currentEvalState$key","_currentEvalState$key2","_currentEvalState$key3","_currentEvalState$key4","_currentEvalState$key5","_currentEvalState$key6","_currentEvalState$key7","isActionDiffADependency","EVALUATE_FORM_CONFIG","getFormEvaluation","formId","currentFormIdEvalState","conditionToBeEvaluated","dynamicConditionsToBeFetched","_value$staticDependen","COMMAND","ReduxActionTypes","editorConfig","settingConfig","formData","positionProps","ReplayCanvas","processDiffForWidgets","processDiffForTheme","widgetProperty","toast","createToast","widgets","diffWidget","dslWidget","isCreated","filterBindingSegmentsAndRemoveQuotes","binding","subSegments","subSegmentValues","bindingStrippedQuotes","original","firstGroup","subBindings","subValues","substituteDynamicBindingWithValues","evaluationSubstitutionType","finalValue","b","templateSubstituteDynamicValues","_filterBindingSegment","finalBinding","getType","Types","smartSubstituteDynamicValues","_filterBindingSegment2","parameters","parameterSubstituteDynamicValues","getDependencies","allKeys","actionConfig","actionDependencyMap","pathDeps","propertyPathDependencies","dependentPath","dynamicPathDependencies","getDependencyFromEntityPath","existingDeps","newDependencies","_union","getActionDependencies","jsActionConfig","jsActionReactivePaths","jsActionDependencyMap","reactivePath","reactivePathDependencies","newDeps","getJSDependencies","widgetEntity","widgetInternalDependencies","_dependencies$fullPro","targetPaths","p","getWidgetDependencies","getPathDependencies","_actionInternalDepend","actionPathDependencies","actionInternalDependencyMap","actionPathInternalDependencies","dep","getActionPropertyPathDependencies","_jsInternalDependency","_jsInternalDependency2","jsInternalDependencyMap","jsPathInternalDependencies","getJSPropertyPathDependencies","widgetPathInternalDependencies","getWidgetPropertyPathDependencies","getEntityDependencies","getEntityPathDependencies","unevalPropValue","jsSnippet","DependencyMapUtils","dependencyTree","rawDependencies","_step$value","size","sortedDependencies","toposort","reverse","edge","cyclicNodes","cyclicNode","_step2$value","makeParentsDependOnChild","immediateParent","existingImmediateParentDeps","updateTreeWithData","dataStore","functionName","prevJSUpdates","DataTreeEvaluator","widgetConfigMap","allActionValidationConfig","inverseDependencies","unParsedEvalTree","prevState","hasCyclicalDependency","state","webworkerTelemetry","setConfigTree","totalFirstTreeSetupStartTime","firstCloneStartTime","firstCloneEndTime","parseJSActionsStartTime","parsedCollections","parseJSActionsEndTime","localUnEvalTreeJSCollection","stringifiedLocalUnEvalTreeJSCollection","unEvalTreeWithStrigifiedJSFunctions","allKeysGenerationStartTime","allKeysGenerationEndTime","createDependencyMapStartTime","_profileFn","allAppsmithInternalFunctions","convertArrayToObject","setterFunctions","entityDependencies","_dataTreeEvalRef$erro","pathDependencies","_extractInfoFromBindi","extractInfoFromBindings","makeParentsDependOnChildren","createDependencyMap","createDependencyMapEndTime","sortDependenciesStartTime","sortDependencies","sortDependenciesEndTime","secondCloneStartTime","secondCloneEndTime","totalFirstTreeSetupEndTime","timeTakenForSetupFirstTree","total","clone","option","getUnParsedEvalTree","validationPathsMap","_validationPathsMap$_","_validationPathsMap","validationConfig","_validateWidgetProper","isValid","messages","_messages$map","evalErrors","evaluationStartTime","unEvalTreeClone","klonaJSON","_this$evaluateTree","evaluateTree","evaluatedTree","validatedTree","evaluationEndTime","setEvalTree","timeTakenForEvalAndValidateFirstTree","evaluation","getEvalTree","unEvalJSCollection","affectedJSObjects","totalUpdateTreeSetupStartTime","diffCheckTimeStartTime","updateLocalUnEvalTree","oldUnEvalTreeJSCollections","jsDifferences","microDiff","getOnlyAffectedJSObjects","jsTranslatedDiffs","_flatten","stringifiedOldUnEvalTreeJSCollections","oldUnEvalTreeWithStringifiedJSFunctions","localUnEvalTreeWithStringifiedJSFunctions","translatedDiffs","diffEvent","diffCheckTimeStopTime","updateDependencyStartTime","_profileFn2","diffCalcStart","dependenciesOfRemovedPaths","didUpdateDependencyMap","dataTreeEvalErrors","_dataTreeDiff$payload","getValidEntityType","allAddedPaths","entityPathDependencies","_extractInfoFromBindi3","extractDependencyErrors","entityDependencyMap","_extractInfoFromBindi2","allDeletedPaths","pathsThatDependOnDeletedPath","getDependents","_Object$keys3","fullpath","_extractInfoFromBindi4","diffCalcEnd","updateChangedDependenciesStart","updateChangedDependenciesStop","diffCalcDeps","toFixed","updateChangedDependencies","updateDependencyMap","updateDependencyEndTime","updateEvalTreeWithChanges","findDifferenceTime","updateDependencyMapTime","pathsChangedSet","setupUpdateTreeOutput","setupTree","pathsToSkipFromEval","subTreeSortOrder","unEvalPropValue","evalPropValue","extraParams","_this3","_extraParams$dependen","_extraParams$findDiff","_extraParams$pathsToS","_extraParams$removedP","_extraParams$totalUpd","_extraParams$translat","_extraParams$updateDe","calculateSortOrderStartTime","calculateSubTreeSortOrder","calculateSortOrderEndTime","getEvaluationOrder","updatedDependencies","removedPath","cloneStartTime","cloneEndTime","totalUpdateTreeSetupEndTime","timeTakenForSetupUpdateTree","findDifferences","unevalUpdates","metaWidgetIds","_this$evaluateTree2","isFirstTree","contextTree","newEvalTree","timeTakenForEvalAndValidateSubTree","changes","subSortOrderArray","finalSortOrder","computeSortOrder","visitedNodes","getEvaluationSortOrder","uniqueKeysInSortOrder","sortOrderPropertyPaths","completeSortOrder","finalSortOrderArray","lastIndexOf","sortOrder","iterator","newNodes","toBeEvaluatedNode","dataStoreClone","getConfigTree","unEvalPropertyValue","isADynamicBindingPath","evalPropertyValue","requiresEval","contextData","replaceThisDotParams","getDynamicValue","updateUndefinedEvalValuesMap","parsedValue","validateAndParseWidgetProperty","getParsedValueForWidgetProperty","_this$allActionValida","_this$allActionValida2","validateActionProperty","prevEvaluatedValue","prevUnEvalValue","skipVariableValueAssignment","_isEqual","evalValue","valueForSafeTree","pluginType","logToSentry","some","logError","dynamicBinding","callBackData","_this4","_getDynamicBindings","toBeSentForEval","_this4$evaluateDynami","evaluateDynamicBoundValue","_evaluateTriggers","isDynamic","_getDynamicBindings2","isJSObject","evalResponse","overwriteObj","_messages$map2","_validateActionProper","text","d","applyChange","entityDynamicBindingPaths","entityDynamicBindingPathList","relativePath","changePathsWithNestedDependants","trimmedChangedPaths","getCompleteSortOrder","_this5","evaluatedExecutionParams","generateOverrideContext","replacedBinding","getVariableObject","prevJSObjects","prevJSObjectVar","_jsObjectBody$parsedB","_prevJSObjects$_i","_prevJSObjects","varKeyMap","getJSVariableCreatedEvents","jsVarDiff","jsObjectVar","deepDiff","getVariableDiff","jsVarsCreated","_diff$path","_diff$path2","canvasWidgetsMeta","metaWidgetsCache","canvasWidgets","_dataTreeEvaluator9","forceEvaluation","shouldReplay","shouldRespondWithLogs","theme","__unevalTree__","widgetsMeta","isNewTree","__spanAttributes","_replayMap$CANVAS","setAllActionValidationConfig","setupFirstTreeResponse","description","_dataTreeEvaluator3","setupFirstTree","dataTreeResponse","_dataTreeEvaluator4","evalAndValidateFirstTree","_replayMap$CANVAS2","_dataTreeEvaluator5","setupUpdateTree","_dataTreeEvaluator6","_dataTreeEvaluator","_dataTreeEvaluator2","_replayMap$CANVAS3","_replayMap$CANVAS4","_replayMap$CANVAS5","clearErrors","_dataTreeEvaluator7","sanitizeDataTree","evalTreeResponse","_dataTreeEvaluator8","setPrevState","completeEvalOrder","sanitizedData","handleActionsDataUpdate","actionsToUpdate","actionToUpdate","dataPath","dataPathRef","updatedProperties","updatePaths","segmentedPath","findDuplicateIndex","arr","_uniqSet","currSetSize","countOccurrences","subString","allowOverlapping","maxLimit","pos","step","stringifyFnsInObject","userObject","parseFunctionsInObject","fnStrings","_paths","fnValue","parsedFnString","constructPath","existingPath","suffix","arrayValue","_keys","isLargeCollection","rowSize","getReducedDataTree","constrainedDiffPaths","withErrors","_widgetValue$__evalua","widgetValue","__evaluation__","generateOptimisedUpdates","oldDataTree","attachDirectly","oldData","newData","isMoment","isLhsLarge","isRhsLarge","equal","largeDataSetUpdates","generateDiffUpdates","correctedUpdates","correctUndefinedUpdatesToDeletesOrNew","rootCollectionUpdates","newDataTree","pathCopy","generateRootWidgetUpdates","scrubedOutUpdates","rootCollectionPaths","_update$path","condensedPath","getScrubbedOutUpdatesWhenRootCollectionIsUpdated","mergeAdditionalUpdates","_generateSerialisedUp","currentState","removedLhs","_objectWithoutProperties","_excluded","serialisedUpdates","generateSerialisedUpdates","getPrevState","Setters","setterMethodLookup","setterAccessorMap","_applySetterMethod","setterMethodName","_validate","_error","validate","propPath","resolve","applySetterMethod","setterMethodMap","__setters","pathToSet","createSetter","_configTreeEntries","_configTreeEntries$_i","getEntitySettersFromConfig","_VALIDATORS","MAX_ALLOWED_LINE_BREAKS","LINE_BREAKS_ERROR_MESSAGE","flat","array","uniqueParam","validatePlainObject","_config$params","allowedKeys","_config$params2","_valid","_messages","entry","_entry$params","_entry$params2","_entry$params3","ignoreCase","entryName","toLowerCase","getPropertyEntry","required","requiredKey","validateArray","_config$params3","_config$params4","_config$params4$child","_config$params4$child2","_config$params5","_config$params5$child","_config$params6","_config$params7","_config$params8","_config$params9","_config$params12","_isValid","allowedValues","uniqueKeys","allowedKeyConfigs","ValidationTypes","_compact","allowedKeyConfig","_allowedKeyConfig$par","unique","_config$params11","childrenValidationConfig","shouldVerifyAllowedValues","shouldValidateChildren","shouldArrayHaveUniqueEntries","shouldArrayValuesHaveUniqueValuesForKeys","_config$params10","duplicateIndex","_uniqWith","every","_childValidationResul","childValidationResult","validateExcessLineBreaks","validateObjectValues","validateFn","VALIDATORS","staticValue","WIDGET_TYPE_VALIDATION_ERROR","getExpectedType","_config$params13","_config$params13$expe","_config$params14","_config$params15","_config$params17","_config$params17$expe","_config$params18","_config$params19","_config$params21","_config$params23","_config$params24","_config$params26","_config$params28","expected","_config$params16","allowed","regex","_config$params20","_config$params22","validationType","min","max","_config$params25","objectType","_expected","_config$params27","_config$params31","_config$params33","_config$params36","_config$params37","_config$params38","_config$params30","_config$params29","limitLineBreaks","_config$params34","_config$params35","_parsed","maxLength","_config$params39","stringValidationError","_config$params32","_toString","_isRegExp","_VALIDATORS$Validatio","_config$params45","_config$params46","_config$params47","_config$params40","_config$params41","_config$params42","_config$params43","isFinite","_parsed2","_config$params44","passThroughOnZero","natural","_config$params50","_config$params48","_config$params49","_config$params51","isABoolean","isStringTrueFalse","strictCheck","_config$params53","_config$params52","_isPlainObject","_config$params54","_config$params55","_config$params56","_config$params57","_config$params58","invalidResponse","_value","_config$params59","_config$params60","_config$params61","_config$params62","_config$params63","parsedEntry","_config$params64","_config$params65","_config$params66","ARRAY","_config$params67","param","flattenedArray","shouldBeUnique","_config$params68","_config$params69","toISOString","_config$params70","_config$params71","_config$params72","fnString","_config$params73","fnBody","_config$params74","btoa","atob","_config$params75","getIsSafeURL","_config$params76","_config$params77","_config$params77$para","resultValue","_VALIDATORS$Validatio2","_config$params78","_config$params79","types","childConfig","defaultErrorMessage","allAsyncNodes","jsEntityState","propertyState","isValidEntity","jsDataTree","idsSet","getPrunedReferences","prunedReferences","subpaths","current","bindingsInfo","extractInfoFromBinding","newEvalError","JAVASCRIPT_KEYWORDS","DEDICATED_WORKER_GLOBAL_SCOPE_IDENTIFIERS","lodashPackageJson","docsURL","momentPackageJson","flatMap","regenerateSet","getSet","JSLibraryAccessorModifier","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","m","x","__webpack_exports__","O","amdO","deferred","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","splice","getter","__esModule","leafPrototypes","getProto","__proto__","mode","ns","def","definition","o","chunkId","all","promises","u","miniCssF","g","globalThis","hmd","prop","Symbol","toStringTag","nmd","oldGetScript","oldLoadScript","queryMap","countMap","catch","retries","realSrc","location","href","retryAttempt","cacheBust","installedChunks","chunkLoadingGlobal","parentChunkLoadingFunction","moreModules","runtime","nc"],"sourceRoot":""}