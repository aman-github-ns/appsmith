"use strict";(self.webpackChunkappsmith=self.webpackChunkappsmith||[]).push([[6259],{94284:function(e,n,t){t.r(n),t.d(n,{Workspace:function(){return rn},default:function(){return an}});var r=t(50390),i=t(70971),a=t(77906),s=t(83973),o=t(62559);var l,d,c,u=function(){return(0,o.jsx)(s.Z,{children:(0,o.jsx)("p",{children:"This page is under construction"})})},p=t(29439),h=t(30168),v=t(3143),m=t.n(v),g=t(86907),x=t(95765),f=t(62608),b=t(16543),j=t(43389),w=t(71179),k=t(42957),Z=t(8631),y=t(56626),E=t(83011),P=t(69451),C=t(26844),N=f.ZP.div(l||(l=(0,h.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 24px;\n  flex-wrap: ",";\n  min-height: 36px;\n"])),(function(e){return e.isMobile?"wrap":"nowrap"})),M=f.ZP.div(d||(d=(0,h.Z)(["\n  width: 100%;\n"]))),S=f.ZP.div(c||(c=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n\n  .actions-icon {\n    margin-left: 12px;\n  }\n"])));function I(e){var n=(0,r.useState)(!1),t=(0,p.Z)(n,2),i=t[0],a=t[1],s=(0,r.useState)(!1),l=(0,p.Z)(s,2),d=l[0],c=l[1],u=e.buttonText,h=e.onSearch,v=e.pageMenuItems,m=e.searchPlaceholder,g=e.showMoreOptions,x=e.showSearchNButton,f=void 0===x||x,w=e.title,I=(0,b.useMediaQuery)({maxWidth:767});return(0,o.jsxs)(N,{isMobile:I,children:[(0,o.jsx)(P.Pz,{margin:"0px",children:(0,o.jsx)(k.u,{content:w,isDisabled:!!(w&&w.length<32),children:(0,o.jsx)(j.bF,{"data-testid":"t--page-title",kind:"heading-m",renderAs:"h2",children:w})})}),(0,o.jsxs)(N,{isMobile:I,children:[(0,o.jsx)(M,{children:h&&f&&(0,o.jsx)(Z.M,{UNSAFE_width:I?"100%":"376px",className:"search-input","data-testid":"t--search-input",onChange:function(e){null===h||void 0===h||h(e.toLocaleUpperCase())},placeholder:m,size:"md"})}),(0,o.jsxs)(S,{children:[u&&f&&(0,o.jsx)(y.z,{"data-testid":"t--page-header-input",onClick:e.onButtonClick,size:"md",children:u}),g&&(0,o.jsxs)(E.v2,{onOpenChange:function(e){d&&(c(e),i&&a(!1))},open:d,children:[(0,o.jsx)(E.bF,{children:(0,o.jsx)(y.z,{className:"actions-icon","data-testid":"t--page-header-actions",isIconButton:!0,kind:"tertiary",onClick:function(){return c(!d)},size:"md",startIcon:"more-2-fill"})}),(0,o.jsx)(E.Dv,{align:"end",children:v&&v.map((function(e){return(0,o.jsx)(E.sN,{className:"".concat(e.className," ").concat("delete"===e.label?"error-menuitem":""),"data-testid":"t--".concat(e.className),onClick:function(n){!function(e,n){var t;if("delete"===n.label)c(!0),a(!0),i&&(null===n||void 0===n||null===(t=n.onSelect)||void 0===t||t.call(n,e,"delete"));else if("rename"===n.label)c(!1);else{var r;a(!1),c(!1),null===n||void 0===n||null===(r=n.onSelect)||void 0===r||r.call(n,e,"other")}}(n,e)},startIcon:e.icon,children:i&&"delete"===e.label?(0,C.tnH)(C.iZ_):e.text},e.text)}))})]})]})]})]})}var z,W=t(90435),A=t(84131),O=t(1413),T=t(69198),R=t(25260),B=t.n(R),H=t(22552),U=f.ZP.mark(z||(z=(0,h.Z)(["\n  color: var(--ads-highlight-text-default-text-color);\n  background-color: var(--ads-highlight-text-default-background-color);\n"])));function L(e){var n=e.highlight,t=void 0===n?"":n,i=e.text,a=void 0===i?"":i,s=(0,H._)(e,["highlight","text"]);if(!t.trim())return r.createElement("span",Object.assign({"data-testid":"t--no-highlight"},s),a);var o=new RegExp("(".concat(B()(t),")"),"gi"),l=a.split(o);return r.createElement("span",Object.assign({className:"search-highlight"},s),l.filter(String).map((function(e,n){return o.test(e)?r.createElement(U,{"data-testid":"t--highlighted-text",key:n},e):r.createElement("span",{"data-testid":"t--non-highlighted-text",key:n},e)})))}var _=t(90768),G=t(49473),F=t(31205),V=t(94870),D=t(22994),Q=t(32003);var q,J,X,K,Y,$,ee,ne,te=function(e){var n=e.isDeletingUser,t=e.isOpen,r=e.onClose,i=e.onConfirm,a=e.userToBeDeleted,s=a.entityType,l=a.name,d=a.username;return(0,o.jsx)(Q.u_,{onOpenChange:function(e){e||r()},open:t,children:(0,o.jsxs)(Q.hz,{className:"t--member-delete-confirmation-modal",style:{width:"600px"},children:[(0,o.jsx)(Q.xB,{children:(0,C.Y5Q)()}),(0,o.jsx)(Q.fe,{children:(0,o.jsx)(F.x,{kind:"body-m",children:(0,C.Vrc)(l||d,s)})}),(0,o.jsxs)(Q.mz,{children:[(0,o.jsx)(y.z,{kind:"secondary",onClick:r,size:"md",children:"Cancel"}),(0,o.jsx)(y.z,{"data-testid":"t--workspace-leave-button",isLoading:n,kind:"error",onClick:i,size:"md",children:"Remove"})]})]})})},re=t(64250),ie=t(72577),ae=t(76104),se=t(19944),oe=t(26520),le=t(81165),de=t(63634),ce=t(86335),ue=t(83979),pe=t(91331),he=f.ZP.div(q||(q=(0,h.Z)(["\n  &.members-wrapper {\n    overflow: scroll;\n    height: 100%;\n    ","\n    table {\n      table-layout: fixed;\n\n      thead {\n        tr {\n          border-bottom: 1px solid var(--ads-v2-color-border);\n          th {\n            font-size: 14px;\n            font-weight: 500;\n            line-height: 1.5;\n            color: var(--ads-v2-color-fg);\n            padding: 8px 20px;\n\n            &:last-child {\n              width: 120px;\n            }\n\n            svg {\n              margin: auto 8px;\n              display: initial;\n            }\n          }\n        }\n      }\n\n      tbody {\n        tr {\n          td {\n            word-break: break-word;\n            padding: 0 var(--ads-spaces-9);\n            border-bottom: none;\n            height: 40px;\n\n            &:first-child {\n              text-align: left;\n            }\n\n            .ads-v2-select {\n              width: fit-content;\n              > .rc-select-selector {\n                border: none;\n\n                > .rc-select-selection-item {\n                  padding-left: 0;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"])),(function(e){return e.isMobile?"width: 100%; margin: auto":null})),ve=f.ZP.div(J||(J=(0,h.Z)(["\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  margin: auto;\n"]))),me=(0,f.ZP)(re.Zb)(X||(X=(0,h.Z)(["\n  display: flex;\n  flex-direction: column;\n  box-shadow: none;\n  background-color: var(--ads-v2-color-bg-subtle);\n  border: 1px solid var(--ads-v2-color-border);\n  border-radius: var(--ads-v2-border-radius);\n  padding: ",";\n  width: 100%;\n  height: 201px;\n  margin: auto;\n  margin-bottom: ","px;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n\n  .approve-btn {\n    padding: ",";\n  }\n  .delete-btn {\n    position: absolute;\n  }\n"])),(function(e){return"".concat(e.theme.spaces[15],"px ").concat(4*e.theme.spaces[7],"px;")}),(function(e){return e.theme.spaces[7]-1}),(function(e){return"".concat(e.theme.spaces[1],"px ").concat(e.theme.spaces[3],"px")})),ge=f.ZP.div(K||(K=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n\n  .user-icons {\n    margin-right: 8px;\n    flex-shrink: 0;\n  }\n\n  .user-group-icons {\n    width: 24px;\n    margin-right: 8px;\n    flex-shrink: 0;\n  }\n"]))),xe=(0,f.ZP)(y.z)(Y||(Y=(0,h.Z)(["\n  position: absolute !important;\n  top: ","px;\n  right: ","px;\n"])),(function(e){return e.theme.spaces[9]}),(function(e){return e.theme.spaces[7]})),fe=(0,f.ZP)(F.x)($||($=(0,h.Z)(["\n  color: var(--ads-v2-color-fg);\n"]))),be=f.ZP.div(ee||(ee=(0,h.Z)(["\n  display: flex;\n  height: 100%;\n  align-items: center;\n\n  ","\n\n  .ads-v2-icon {\n    margin: 0 4px 0 0;\n    position: relative;\n    left: -4px;\n  }\n"])),(function(e){return e.isSubRow?"padding-left: 12px;":""})),je=(0,f.ZP)(F.x)(ne||(ne=(0,h.Z)(["\n  padding: var(--ads-v2-spaces-2) var(--ads-v2-spaces-3) var(--ads-v2-spaces-2)\n    0;\n"])));var we,ke,Ze,ye,Ee,Pe,Ce,Ne=function(e){var n=e.match.params.workspaceId,t=e.searchValue,a=void 0===t?"":t,s=(0,x.I0)(),l=(0,i.k6)(),d=(0,le.j)(de.$t.CUSTOM_ROLES),c=(0,x.v9)(d);(0,r.useEffect)((function(){s((0,G.Ch)(n)),s((0,G.dZ)(n)),s((0,G.oP)(n))}),[s,n]);var u=(0,r.useState)(!1),h=(0,p.Z)(u,2),v=h[0],m=h[1],f=(0,r.useState)(!1),j=(0,p.Z)(f,2),w=j[0],k=j[1],Z=function(){return m(!1)},E=(0,r.useState)(null),P=(0,p.Z)(E,2),N=P[0],M=P[1],S=function(e,n,t){M({name:e,username:n,workspaceId:t}),m(!0)},I=(0,x.v9)(pe.RH),z=I.deletingUserInfo,A=I.isFetchingAllUsers,R=I.roleChangingUserInfo,B=(0,x.v9)(g.FF).isFetchingAllRoles,H=(0,x.v9)(g.xJ),U=(0,x.v9)(pe.X1),Q=(0,x.v9)(T.ts),q=(0,x.v9)(g.cW).find((function(e){return e.id===n})),J=(0,W.rq)((null===q||void 0===q?void 0:q.userPermissions)||[],W.BX.INVITE_USER_TO_WORKSPACE),X=(0,W.rq)(null===q||void 0===q?void 0:q.userPermissions,W.BX.MANAGE_WORKSPACE),K=(0,ce.y)(ue.Yx.license_gac_enabled);(0,r.useEffect)((function(){if(N&&v){var e=U.find((function(e){return e.username===N.username}));e?k(e.isDeleting):(M(null),Z(),k(!1))}}),[U]),(0,r.useEffect)((function(){!q||J&&X||l.replace(ae.M)}),[q,J,X]);var Y=(0,r.useMemo)((function(){return U.map((function(e){var n,t,r,i;return(0,O.Z)((0,O.Z)({},e),{},{isCurrentUser:e.username===(null===Q||void 0===Q?void 0:Q.username),permissionGroupId:(null===(n=e.roles)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.id)||"",permissionGroupName:(null===(r=e.roles)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.name)||""})}))}),[U,Q]),$=(0,r.useState)([]),ee=(0,p.Z)($,2),ne=ee[0],re=ee[1];(0,r.useEffect)((function(){if(a){var e=Y.filter((function(e){var n,t;return(null===e||void 0===e||null===(n=e.username)||void 0===n?void 0:n.toLowerCase().includes(null===a||void 0===a?void 0:a.toLowerCase()))||(null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(null===a||void 0===a?void 0:a.toLowerCase()))}));re(e)}else re(Y)}),[a,Y]);var we=[{Header:(0,C.tnH)((function(){return(0,C.Hl8)(null===ne||void 0===ne?void 0:ne.length,!K)})),accessor:"users",Cell:function(e){var n=e.cell.row.original;return(0,o.jsx)(ge,{children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(V.q,{className:"user-icons",firstLetter:(0,se.Qm)(n.username),image:n.photoId?"/api/".concat(ie.no,"/").concat(n.photoId):void 0,label:n.username,size:"sm"}),(0,o.jsx)(L,{highlight:a,text:n.username})]})})}},{Header:"Resource",accessor:"resource",Cell:function(e){var n,t;return(0,o.jsx)(be,{children:(0,o.jsx)("div",{className:"resource-name",children:(null===(n=e.cell.row.original.roles)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.entityType)||"Workspace"})})}},{Header:"Role",accessor:"permissionGroupName",Cell:function(e){var t,r=e.cell.row.original,i=(0,x.v9)(g.xJ),a=i?i.map((function(e){var n;return{key:e.id,value:null===(n=e.name)||void 0===n?void 0:n.split(" - ")[0],description:e.description}})):[],l=a.find((function(n){var t,r;return(null===(t=n.value)||void 0===t?void 0:t.split(" - ")[0])===(null===(r=e.cell.value)||void 0===r?void 0:r.split(" - ")[0])}));return r.username===(null===Q||void 0===Q?void 0:Q.username)?(0,o.jsx)(je,{renderAs:"p",children:null===(t=e.cell.value)||void 0===t?void 0:t.split(" - ")[0]}):(0,o.jsxs)(D.P,{className:"t--user-status",dropdownMatchSelectWidth:!1,dropdownStyle:{width:"400px"},isLoading:R&&R.username===r.username,listHeight:400,onSelect:function(e,t){s((0,G.Jx)(n,t.key,r.username))},size:"md",value:l,children:[a.map((function(e){return(0,o.jsx)(D.W,{label:e.value,value:e.key,children:(0,o.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,o.jsx)(F.x,{color:"var(--ads-v2-color-fg-emphasis)",kind:e.description&&"heading-xs",children:e.value}),e.description&&(0,o.jsx)(F.x,{kind:"body-s",children:e.description})]})},e.key)})),c&&(0,o.jsx)(D.W,{disabled:!0,children:(0,o.jsx)(oe.oW,{})})]})}},{Header:"Actions",accessor:"actions",Cell:function(e){return(0,o.jsx)(y.z,{className:"t--deleteUser","data-testid":"t--deleteUser",isIconButton:!0,isLoading:z&&z.username===e.cell.row.original.username,kind:"error",onClick:function(){S(e.cell.row.original.username,e.cell.row.original.username,n)},size:"sm",startIcon:"delete-bin-line"})}}],ke=(0,b.useMediaQuery)({maxWidth:767}),Ze=H?H.map((function(e){var n;return{key:e.id,value:null===(n=e.name)||void 0===n?void 0:n.split(" - ")[0],description:e.description}})):[];return(0,o.jsx)(he,{className:"members-wrapper","data-testid":"t--members-wrapper",isMobile:ke,children:(0,o.jsxs)(o.Fragment,{children:[!ke&&(0,o.jsx)(_.Z,{columns:we,data:ne,"data-testid":"listing-table",isLoading:A&&B,noDataComponent:(0,o.jsx)(fe,{kind:"heading-s",children:(0,C.tnH)(C.L78)})}),ke&&(0,o.jsx)(ve,{children:ne.map((function(e,t){var r,i=Ze.find((function(n){return n.value===e.permissionGroupName.split(" - ")[0]}))||Ze[0],l=e.username===(null===Q||void 0===Q?void 0:Q.username);return(0,o.jsxs)(me,{children:[(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(V.q,{className:"avatar",firstLetter:(0,se.Qm)(e.username),image:e.photoId?"/api/".concat(ie.no,"/").concat(e.photoId):void 0,label:e.username,size:"sm"}),(0,o.jsx)(L,{highlight:a,text:e.username}),(0,o.jsx)(F.x,{className:"user-email",color:"var(--ads-v2-color-fg-muted)",renderAs:"p",children:e.username})]}),l&&(0,o.jsx)(F.x,{className:"user-role",renderAs:"p",children:null===(r=e.permissionGroupName)||void 0===r?void 0:r.split(" - ")[0]}),!l&&!i&&(0,o.jsx)(F.x,{className:"user-role",renderAs:"p",children:"No Access"}),!l&&(0,o.jsxs)(D.P,{className:"t--user-status",isLoading:R&&R.username===e.username,onSelect:function(t,r){!function(e,t){s((0,G.Jx)(n,e,t))}(r.key,e.username)},size:"md",value:i,children:[Ze.map((function(e){return(0,o.jsx)(D.W,{label:e.value,value:e.key,children:(0,o.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,o.jsx)(F.x,{color:"var(--ads-v2-color-fg-emphasis)",kind:e.description&&"heading-xs",children:e.value}),(0,o.jsx)(F.x,{kind:"body-s",children:e.description})]})},e.key)})),c&&(0,o.jsx)(D.W,{disabled:!0,children:(0,o.jsx)(oe.oW,{})})]}),(0,o.jsx)(xe,{className:"t--deleteUser","data-testid":"t--deleteUser",isIconButton:!0,kind:"error",onClick:function(){S(e.username,e.username,n)},size:"sm",startIcon:"delete-bin-line"})]},t)}))}),N&&(0,o.jsx)(te,{isDeletingUser:w,isOpen:v,onClose:Z,onConfirm:function(e){if(!N&&!e)return null;s((0,G.e9)((null===N||void 0===N?void 0:N.workspaceId)||(null===e||void 0===e?void 0:e.workspaceId),(null===N||void 0===N?void 0:N.username)||(null===e||void 0===e?void 0:e.username)))},userToBeDeleted:N})]})})},Me=t(5642),Se=t(73049),Ie=t(5017),ze=t(44922),We=f.ZP.div(we||(we=(0,h.Z)(["\n  overflow: auto;\n  height: 100%;\n  width: 100%;\n"]))),Ae=f.ZP.div(ke||(ke=(0,h.Z)(["\n  width: 320px;\n  /* padding: 20px 0px; */\n  /* margin: 0 auto; */\n  .upload-form-container {\n    .button-wrapper {\n      svg {\n        width: 40px;\n        height: 40px;\n        path {\n          fill: var(--ads-v2-color-fg);\n        }\n      }\n    }\n  }\n  .drag-drop-text {\n    color: var(--ads-v2-color-fg);\n    + form a {\n      --button-padding: var(--ads-v2-spaces-3) var(--ads-v2-spaces-4);\n      background-color: var(--ads-v2-color-bg);\n      border: 1px solid var(--ads-v2-color-border);\n      width: 100%;\n      height: 100%;\n      padding: var(--button-padding);\n      border-radius: var(--ads-v2-border-radius);\n      text-transform: capitalize;\n      &:hover {\n        background-color: var(--ads-v2-color-bg-subtle);\n        color: var(--ads-v2-color-fg);\n        border-color: var(--ads-v2-color-border);\n      }\n    }\n  }\n  .remove-button {\n    a {\n      border-radius: var(--ads-v2-border-radius);\n      text-transform: capitalize !important;\n    }\n  }\n"]))),Oe=f.ZP.div(Ze||(Ze=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 4px;\n  span {\n    color: var(--ads-v2-color-fg);\n  }\n"]))),Te=f.ZP.div(ye||(ye=(0,h.Z)(["\n  width: 100%;\n  display: flex;\n  margin-bottom: 15px;\n"]))),Re=f.ZP.div(Ee||(Ee=(0,h.Z)(["\n  height: 38px;\n  width: 320px;\n  border-radius: var(--ads-v2-border-radius);\n"]))),Be=f.ZP.div(Pe||(Pe=(0,h.Z)(["\n  height: 190px;\n  width: 333px;\n  border-radius: var(--ads-v2-border-radius);\n"]))),He=f.ZP.div(Ce||(Ce=(0,h.Z)(["\n  width: 100%;\n"])));function Ue(){var e=(0,i.UO)().workspaceId,n=(0,x.I0)(),t=(0,x.v9)(g.cW).filter((function(n){return n.id===e}))[0];function r(e){n((0,G.OX)(e))}var a=1e3,s=m()((function(n){r({id:e,name:n})}),a),l=m()((function(n){r({id:e,website:n})}),a),d=m()((function(n){r({id:e,email:n})}),a),c=(0,x.v9)(pe.RH).isFetchingCurrentWorkspace,u=(0,x.v9)(g.md),p=(0,x.v9)(pe.ZO),h=(0,b.useMediaQuery)({maxWidth:767}),v=(0,b.useMediaQuery)({query:"(orientation: portrait)"});return(0,o.jsx)(We,{children:(0,o.jsxs)(Ae,{isMobile:h,isPortrait:v,children:[(0,o.jsx)(Te,{children:(0,o.jsxs)(He,{children:[p&&(0,o.jsx)(Re,{className:ze.Ms1}),!p&&(0,o.jsx)(Me.I,{"data-testid":"t--workspace-name-input",defaultValue:t&&t.name,isRequired:!0,label:"Workspace name",labelPosition:"top",onChange:s,placeholder:"Workspace name",renderAs:"input",size:"md",type:"text"})]})}),(0,o.jsx)(Te,{children:(0,o.jsxs)(He,{className:"t--workspace-settings-filepicker",children:[(0,o.jsx)(Oe,{children:(0,o.jsx)(Se.ZP,{type:Se.yG.P1,children:"Upload logo"})}),c&&(0,o.jsx)(Be,{className:ze.Ms1}),!c&&(0,o.jsx)(Ie.ZP,{fileType:Ie.Tv.IMAGE,fileUploader:function(r,i,a){n((0,G.rf)({id:e,logo:r,progress:function(e){if(e.total){var n=Math.round(e.loaded/e.total*100);100===n&&a(t.logoUrl||""),i(n)}}}))},logoUploadError:u.message,onFileRemoved:function(){n((0,G.BZ)(e))},url:t&&t.logoUrl})]})}),(0,o.jsx)(Te,{children:(0,o.jsxs)(He,{children:[p&&(0,o.jsx)(Re,{className:ze.Ms1}),!p&&(0,o.jsx)(Me.I,{"data-testid":"t--workspace-website-input",defaultValue:t&&t.website||"",label:"Website",labelPosition:"top",onChange:l,placeholder:"Your website",renderAs:"input",size:"md",type:"text"})]})}),(0,o.jsx)(Te,{children:(0,o.jsxs)(He,{children:[p&&(0,o.jsx)(Re,{className:ze.Ms1}),!p&&(0,o.jsx)(Me.I,{"data-testid":"t--workspace-email-input",defaultValue:t&&t.email||"",label:"Email",labelPosition:"top",onChange:d,placeholder:"Email",renderAs:"input",size:"md",type:"text"})]})})]})})}var Le,_e,Ge,Fe=t(8557),Ve=t(75597),De=t(59703),Qe=t(89675),qe=De.gy(i.AW),Je=f.ZP.div(Le||(Le=(0,h.Z)(["\n  padding-top: var(--ads-v2-spaces-4);\n\n  .ads-v2-tabs {\n    height: 100%;\n    overflow: hidden;\n\n    .tab-panel {\n      height: calc(100% - 46px);\n    }\n  }\n"]))),Xe=function(e){return e.GENERAL="general",e.MEMBERS="members",e}(Xe||{}),Ke=function(e){var n=e.addTabComponent,t=e.currentTab,a=e.eeTabRedirect,s=e.hasManageWorkspacePermissions,l=e.isMemberofTheWorkspace,d=e.searchValue,c=e.setTabArrLen,u=e.workspacePermissions,p=(0,i.$B)().path,h=(0,i.TH)(),v=(0,i.k6)(),m=(0,r.useMemo)((function(){return!!u&&(t===Xe.GENERAL&&!s||(t===Xe.MEMBERS&&!l||!!a))}),[u,l,s,t,a]);(0,r.useEffect)((function(){m&&v.replace(Qe.M)}),[m]);var g=(0,o.jsx)(qe,{component:Ue,location:h,path:"".concat(p,"/general")}),x=(0,o.jsx)(qe,{component:(0,r.useCallback)((function(e){return(0,o.jsx)(Ne,(0,O.Z)((0,O.Z)({},e),{},{searchValue:d}))}),[h,d]),location:h,path:"".concat(p,"/members")}),f=[s&&{key:"general",title:"General Settings",panelComponent:g},l&&{key:"members",title:"Members",panelComponent:x},n&&n()].filter(Boolean);return(0,r.useEffect)((function(){c(f.length)}),[f.length,c]),(0,o.jsx)(Je,{className:"tabs-wrapper","data-testid":"t--user-edit-tabs-wrapper",children:(0,o.jsxs)(Fe.mQ,{defaultValue:t,onValueChange:function(e){return(0,Ve.SJ)(e,h,v)},value:t,children:[(0,o.jsx)(Fe.dr,{children:f.map((function(e){return(0,o.jsx)(Fe.OK,{"data-testid":"t--tab-".concat(e.key),value:e.key,children:(0,o.jsx)("div",{className:"tab-item",children:e.title})},e.key)}))}),f.map((function(e){return(0,o.jsx)(Fe.x4,{className:"tab-panel",value:e.key,children:e.panelComponent},e.key)}))]})})},Ye=f.ZP.div(_e||(_e=(0,h.Z)(["\n  width: ",";\n  margin: var(--ads-v2-spaces-7) auto;\n  height: 100%;\n  padding-left: var(--ads-v2-spaces-7);\n  overflow: hidden;\n  padding-left: ",";\n  &::-webkit-scrollbar {\n    width: 0px;\n  }\n  .tabs-wrapper {\n    height: 100%;\n    ","\n  }\n"])),(function(e){return e.isMobile?"345px":"978px"}),(function(e){return e.isMobile?"0":"var(--ads-v2-spaces-7);"}),(function(e){return!e.isMobile&&"\n      padding: 106px 0 0;\n  "})),$e=(0,f.ZP)(j.M5)(Ge||(Ge=(0,h.Z)(["\n  /* padding-top: 24px; */\n  ","\n"])),(function(e){return!e.isMobile&&"\n  top: 72px;\n  position: fixed;\n  width: 954px;\n  "})),en=function(e){return e.GENERAL="general",e.MEMBERS="members",e}(en||{});function nn(){var e=(0,i.UO)().workspaceId,n=(0,x.v9)(g.cW).filter((function(n){return n.id===e}))[0],t=(0,i.TH)(),a=(0,x.I0)(),s=(0,r.useState)(!1),l=(0,p.Z)(s,2),d=l[0],c=l[1],u=(0,r.useState)(""),h=(0,p.Z)(u,2),v=h[0],f=h[1],k=(0,r.useState)(""),Z=(0,p.Z)(k,2),y=Z[0],E=Z[1],P=(0,r.useState)(0),N=(0,p.Z)(P,2),M=N[0],S=N[1],z=(0,ce.y)(ue.Yx.license_gac_enabled),O=t.pathname.split("/").pop(),T=(0,W.rq)((null===n||void 0===n?void 0:n.userPermissions)||[],W.BX.INVITE_USER_TO_WORKSPACE),R=(0,W.rq)(null===n||void 0===n?void 0:n.userPermissions,W.BX.MANAGE_WORKSPACE),B=T&&R;(0,r.useEffect)((function(){n?E("".concat(null===n||void 0===n?void 0:n.name)):a((0,G.pB)({fetchEntities:!0}))}),[a,n]);var H=[{icon:"book-line",className:"documentation-page-menu-item",onSelect:function(){},text:(0,C.tnH)(C.tQ)}],U=M>1&&O===en.MEMBERS,L=m()((function(e){e.trim().length>0?f(e):f("")}),300),_=(0,b.useMediaQuery)({maxWidth:767});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(Ye,{"data-testid":"t--settings-wrapper",isMobile:_,children:[(0,o.jsxs)($e,{isMobile:_,children:[(0,o.jsx)(j.xE,{}),(0,o.jsx)(I,{buttonText:"Add users",onButtonClick:function(){c(!0)},onSearch:L,pageMenuItems:H,searchPlaceholder:(0,C.tnH)(C.AyM,!z),showMoreOptions:!1,showSearchNButton:U,title:y})]}),(0,o.jsx)(Ke,{currentTab:O,hasManageWorkspacePermissions:R,isMemberofTheWorkspace:B,searchValue:v,setTabArrLen:S,workspacePermissions:null===n||void 0===n?void 0:n.userPermissions})]}),n&&(0,o.jsx)(A.Z,{Form:w.ZP,hideDefaultTrigger:!0,isOpen:d,onClose:function(){return c(!1)},placeholder:(0,C.tnH)(C.OEp,!z),workspace:n})]})}var tn=De.gy(i.AW);function rn(){var e=(0,i.$B)().path,n=(0,i.TH)();return(0,o.jsx)(a.ZP,{displayName:"Workspace Settings",children:(0,o.jsxs)(i.rs,{location:n,children:[(0,o.jsx)(tn,{component:nn,path:"".concat(e,"/:workspaceId/settings")}),(0,o.jsx)(tn,{component:u})]})})}var an=rn},90768:function(e,n,t){t.d(n,{Z:function(){return k}});var r,i,a,s,o=t(30168),l=t(32105),d=t(50390),c=t(62608),u=t(89323),p=t(69434),h=t(47734),v=t(8613),m=t(32384),g=(0,m.J)((function(){return t.e(4701).then(t.bind(t,16483))})),x=(0,m.J)((function(){return t.e(4701).then(t.bind(t,66774))})),f=c.ZP.div(r||(r=(0,o.Z)(["\n  table {\n    border-spacing: 0;\n    width: 100%;\n\n    thead {\n      position: sticky;\n      top: 0;\n      z-index: 1;\n\n      tr {\n        background-color: var(--ads-v2-color-bg-subtle);\n\n        th {\n          padding: var(--ads-spaces-5) var(--ads-spaces-9);\n          text-align: left;\n          color: var(--ads-v2-color-fg);\n          font-weight: ",";\n          font-size: ","px;\n          line-height: ","px;\n          letter-spacing: ","px;\n          border-bottom: 1px solid var(--ads-v2-color-border);\n\n          svg {\n            margin-left: var(--ads-spaces-2);\n            margin-bottom: calc(var(--ads-spaces-0) + 1px);\n            width: 6px;\n            height: 4px;\n            display: initial;\n          }\n\n          &:hover {\n            color: var(--ads-v2-color-fg-emphasis);\n            cursor: pointer;\n            svg {\n              path {\n                fill: var(var(--ads-v2-color-fg));\n              }\n            }\n          }\n        }\n      }\n    }\n\n    tbody {\n      tr {\n        td {\n          padding: var(--ads-spaces-4) var(--ads-spaces-9);\n          color: var(--ads-v2-color-fg);\n          font-size: ","px;\n          line-height: ","px;\n          letter-spacing: ","px;\n          font-weight: normal;\n          border-bottom: 1px solid var(--ads-v2-color-border);\n\n          &:first-child {\n            color: var(--ads-v2-color-fg);\n            font-weight: var(--ads-font-weight-normal);\n          }\n\n          &.no-border {\n            border: none;\n\n            .no-data-title {\n              color: var(--ads-v2-color-fg);\n            }\n          }\n        }\n\n        &:hover:not(.no-hover) {\n          background-color: var(--ads-v2-color-bg-subtle);\n          ."," {\n            path {\n              fill: var(--ads-v2-color-fg);\n            }\n          }\n          td {\n            color: var(--ads-v2-color-fg);\n\n            &:first-child {\n              color: var(--ads-v2-color-fg);\n            }\n            &.no-border {\n              background-color: var(--ads-v2-color-bg-muted);\n            }\n          }\n        }\n      }\n    }\n  }\n"])),p.cp.h6.fontWeight,p.cp.h6.fontSize,p.cp.h6.lineHeight,p.cp.h6.letterSpacing,p.cp.p1.fontSize,p.cp.p1.lineHeight,p.cp.p1.letterSpacing,u.P.ICON),b=(0,c.ZP)(g)(i||(i=(0,o.Z)(["\n  visibility: hidden;\n"]))),j=c.ZP.div(a||(a=(0,o.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 250px;\n"]))),w=c.ZP.div(s||(s=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  img {\n    width: 156px;\n    margin-top: 16px;\n  }\n  .no-data-title {\n    font-weight: 500;\n    font-size: 14px;\n    line-height: 16px;\n    letter-spacing: 0.04em;\n    color: #ffffff;\n    margin-top: 23px;\n  }\n"])));function k(e){var n=e.columns,t=e.data,r=e.isLoading,i=void 0!==r&&r,a=e.loaderComponent,s=e.noDataComponent,o=(0,l.useTable)({autoResetExpanded:!1,columns:n,data:t},l.useSortBy,l.useExpanded),c=o.getTableBodyProps,u=o.getTableProps,p=o.headerGroups,m=o.prepareRow,k=o.rows;return d.createElement(f,null,d.createElement("table",Object.assign({},u()),d.createElement("thead",null,p.map((function(e,n){return d.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{key:n}),e.headers.map((function(e,n){return d.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps({title:void 0})),{key:n}),e.render("Header"),e.isSorted?e.isSortedDesc?d.createElement(x,null):d.createElement(g,null):d.createElement(b,null))})))}))),d.createElement("tbody",Object.assign({},c()),i?d.createElement("tr",{className:"no-hover"},d.createElement("td",{className:"no-border",colSpan:null==n?void 0:n.length},d.createElement(j,null,a||d.createElement(h.Z,{size:v.Jh.XXL})))):k.length>0?k.map((function(e,n){return m(e),d.createElement("tr",Object.assign({},e.getRowProps(),{key:n}),e.cells.map((function(e,n){return d.createElement("td",Object.assign({},e.getCellProps(),{"data-colindex":n,key:n}),e.render("Cell"))})))})):d.createElement("tr",{className:"no-hover"},d.createElement("td",{className:"no-border",colSpan:null==n?void 0:n.length},d.createElement(j,null,s||d.createElement(w,null,d.createElement("div",{className:"no-data-title","data-testid":"t--no-data-title"},"No data found"))))))))}}}]);
//# sourceMappingURL=workspace.0b2ce38b.chunk.js.map