"use strict";(self.webpackChunkappsmith=self.webpackChunkappsmith||[]).push([[1189],{33825:function(n,e,t){t.r(e),t.d(e,{default:function(){return Bp}});var i,o=t(15671),r=t(43144),a=t(82963),s=t(78814),c=t(61120),l=t(60136),d=t(50390),u=t(19921),p=t(95765),h=t(70971),g=t(4942),f=t(1413),x=t(30168),v=t(62608),m=t(74165),b=t(15861),j=t(71883),y=(t(59690),t(92292)),w=t(29439),k=t(38342),Z=t.n(k),C=t(69434),I=t(74109),N=t(88104),P=t(19569),E=t(13319),S=t(64250),T=t(62559);var _,z,D=(0,S.No)(i=function(n){function e(){return(0,o.Z)(this,e),n=this,t=e,i=arguments,t=(0,c.Z)(t),(0,a.Z)(n,(0,s.Z)()?Reflect.construct(t,i||[],(0,c.Z)(n).constructor):t.apply(n,i));var n,t,i}return(0,l.Z)(e,n),(0,r.Z)(e,[{key:"hotKeysConfig",get:function(){var n=this;return[{combo:"up",onKeyDown:function(){n.props.handleUpKey()},allowInInput:!0,group:"Branches",label:"Move up the list"},{combo:"down",onKeyDown:this.props.handleDownKey,allowInInput:!0,group:"Branches",label:"Move down the list"},{combo:"return",onKeyDown:this.props.handleSubmitKey,allowInInput:!0,group:"Branches",label:"Submit"},{combo:"ESC",onKeyDown:this.props.handleEscKey,allowInInput:!0,group:"Branches",label:"ESC"}]}},{key:"renderHotkeys",value:function(){return(0,T.jsx)(S.SV,{children:this.hotKeysConfig.map((function(n,e){var t=n.allowInInput,i=n.combo,o=n.group,r=n.label,a=n.onKeyDown;return(0,T.jsx)(S.qm,{allowInInput:t,combo:i,global:!1,group:o,label:r,onKeyDown:a},e)}))})}},{key:"render",value:function(){return(0,T.jsx)("div",{style:{display:"flex",flex:1,flexDirection:"column",minHeight:0,overflow:"auto"},children:this.props.children})}}]),e}(d.Component))||i,A=D,O=t(26844),H=t(54138),R=t(86542),B=t(31205),L=t(42957),M=t(56626),W=t(8631),G=t(69432),F=t(77271),U=t(83256),K=v.ZP.div(_||(_=(0,x.Z)(["\n  padding: ",";\n  margin: ",";\n  color: var(--ads-v2-color-fg-emphasis);\n  cursor: pointer;\n  width: 100%;\n  height: 36px;\n  border-radius: var(--ads-v2-border-radius);\n  background-color: ",";\n  ","\n\n  display: flex;\n  align-items: center;\n\n  .branch-list-item-text {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: flex;\n    align-items: center;\n    gap: 4px;\n    flex: 1;\n  }\n"])),(function(n){return"".concat(n.theme.spaces[4],"px")}),(function(n){return"".concat(n.theme.spaces[1],"px 0")}),(function(n){return n.selected||n.active?"var(--ads-v2-color-bg-muted)":""}),(function(n){return!n.active&&"&:hover {\nbackground-color: var(--ads-v2-color-bg-subtle);\n}"})),q=t(4482),J=t(73049),X=v.ZP.div(z||(z=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  height: 100%;\n"])));function V(n){var e=n.branch,t=n.className,i=n.onClick,o=d.useRef(null),r=(0,p.v9)(N.S9),a=r.isSwitchingBranch,s=r.switchingToBranch;return(0,T.jsxs)(K,{active:!1,className:t,"data-testid":"t--branch-list-item",isDefault:!1,onClick:i,ref:null,selected:!1,children:[(0,T.jsx)(L.u,{content:e,isDisabled:!(0,q.Rj)(document.getElementById(e)),placement:"top",children:(0,T.jsx)(J.ZP,{id:e,ref:o,style:{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},type:J.yG.P1,children:e})}),(0,T.jsx)(X,{children:s===e&&a&&(0,T.jsx)(R.$,{size:"md"})})]})}var Y=t(56617);function Q(){return(0,T.jsx)(Y.V,{"data-testid":"t--default-tag",isClosable:!1,size:"sm",children:"Default"})}var $=t(18581),nn=t(83011);function en(n,e,t){var i=(null===e||void 0===e?void 0:e.branchName)||"",o=(null===e||void 0===e?void 0:e.defaultBranchName)||"master";return(0,T.jsx)(nn.sN,{className:"git-branch-more-menu-item danger t--branch-more-menu-delete error-menuitem","data-testid":"t--branch-more-menu-delete",onClick:function(e){e.stopPropagation(),o===n?$.A.show((0,O.tnH)(O.YUe,n),{kind:"error"}):i===n?$.A.show((0,O.tnH)(O.ize,n),{kind:"error"}):t((0,I.zS)({branchToDelete:n}))},startIcon:"delete",children:(0,O.tnH)(O.yY6)},"delete-branch-button")}function tn(n){var e=n.branchName,t=n.open,i=n.setOpen,o=(0,p.I0)(),r=[en(e,(0,p.v9)(y.N1),o)],a=function(){i(!1)};return(0,T.jsxs)(nn.v2,{"data-testid":"t--git-branch-more-menu",modal:!0,open:t,children:[(0,T.jsx)(nn.bF,{children:(0,T.jsx)(M.z,{className:"git-branch-more-menu",isIconButton:!0,kind:"tertiary",onClick:function(n){n.stopPropagation(),i(!0),F.ZP.logEvent("GS_BRANCH_MORE_MENU_OPEN",{source:"GS_OPEN_BRANCH_LIST_POPUP"})},size:"sm",startIcon:"comment-context-menu"})}),(0,T.jsx)(nn.Dv,{align:"end",onEscapeKeyDown:a,onPointerDownOutside:a,children:r})]})}var on,rn=t(32384),an=(0,rn.G)((0,b.Z)((0,m.Z)().mark((function n(){return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.e(8177).then(t.t.bind(t,18947,23)));case 1:case"end":return n.stop()}}),n)})))),sn=v.ZP.div(on||(on=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  height: 100%;\n"])));function cn(n){var e=n.active,t=n.branch,i=n.className,o=n.isDefault,r=n.isProtected,a=n.onClick,s=n.selected,c=n.shouldScrollIntoView,l=d.useRef(null),u=(0,U.XI)(l),h=(0,w.Z)(u,1)[0],g=d.useRef(null),f=d.useState(!1),x=(0,w.Z)(f,2),v=x[0],m=x[1],b=(0,p.v9)(N.S9),j=b.isSwitchingBranch,y=b.switchingToBranch;return(0,d.useEffect)((function(){l.current&&c&&(0,E.Z)(l.current,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})}),[c]),(0,T.jsxs)(K,{active:e,className:i,"data-testid":"t--branch-list-item",isDefault:o,onClick:a,ref:l,selected:s,children:[r&&(0,T.jsx)(an,{style:{marginRight:8,width:14,height:14,marginTop:1}}),(0,T.jsx)(L.u,{content:t,isDisabled:!(0,q.Rj)(document.getElementById(t)),placement:"top",children:(0,T.jsxs)("span",{className:"branch-list-item-text",ref:g,children:[(0,T.jsx)(B.x,{id:t,kind:"body-m",style:{width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t}),o&&(0,T.jsx)(Q,{})]})}),(0,T.jsxs)(sn,{children:[y===t&&j&&(0,T.jsx)(R.$,{size:"md"}),(h||v)&&(0,T.jsx)(tn,{branchName:t,open:v,setOpen:m})]})]})}var ln,dn,un,pn,hn,gn=t(81193),fn=v.ZP.div(ln||(ln=(0,x.Z)(["\n  flex: 1;\n  overflow: auto;\n  width: calc(300px + 5px);\n  margin-right: -5px;\n  position: relative;\n"]))),xn=v.ZP.div(dn||(dn=(0,x.Z)(["\n  height: 45vh;\n  display: flex;\n  flex-direction: column;\n\n  padding: ","px;\n  min-height: 0;\n"])),(function(n){return n.theme.spaces[5]})),vn=38,mn=18,bn=v.ZP.div(un||(un=(0,x.Z)(["\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  margin-right: 4px;\n\n  & div {\n    margin-left: ","px;\n    display: block;\n    word-break: break-all;\n  }\n\n  & .large-text {\n    ",";\n    color: var(--ads-v2-color-fg);\n  }\n\n  & .small-text {\n    ",";\n    color: var(--ads-v2-color-fg-muted);\n  }\n"])),(function(n){return n.theme.spaces[4]}),(0,C.z8)("p1"),(0,C.z8)("p3")),jn=v.ZP.div(pn||(pn=(0,x.Z)(["\n  align-self: center;\n  width: 12px;\n  visibility: ",";\n"])),(function(n){return n.isCreatingNewBranch?"visible":"hidden"}));function yn(n){var e=n.branch,t=n.className,i=n.currentBranch,o=n.hovered,r=n.isCreatingNewBranch,a=n.onClick,s=n.shouldScrollIntoView;(0,d.useEffect)((function(){c.current&&s&&(0,E.Z)(c.current,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})}),[s]);var c=d.useRef(null),l=(0,v.Fg)();return(0,T.jsxs)("div",{onClick:a,style:{alignItems:"flex-start",cursor:r?"not-allowed":"pointer",display:"flex",justifyContent:"space-between",background:o?"var(--ads-v2-color-bg-muted)":"unset",padding:Z()(l,"spaces[5]"),borderRadius:"var(--ads-v2-border-radius)"},children:[(0,T.jsxs)("div",{className:"flex",children:[(0,T.jsx)(H.J,{color:Z()(l,"colors.gitSyncModal.closeIcon"),name:"git-branch",size:"lg"}),(0,T.jsxs)(bn,{className:t,ref:c,children:[(0,T.jsx)("div",{className:"large-text",children:"Create branch: ".concat(e," ")}),(0,T.jsx)("div",{className:"small-text",children:"from '".concat(i,"'")})]})]}),(0,T.jsx)(jn,{isCreatingNewBranch:r,children:(0,T.jsx)(R.$,{"data-testid":"t--branch-creating-spinner",size:"sm"})})]})}function wn(){return(0,T.jsx)(K,{children:(0,T.jsx)("div",{style:{height:mn,width:"100%"},children:(0,T.jsx)(P.Z,{})})})}function kn(){return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(wn,{}),(0,T.jsx)(wn,{}),(0,T.jsx)(wn,{})]})}function Zn(n){var e=n.closePopup,t=n.fetchBranches,i=(0,O.tnH)(O.PLb),o=(0,v.Fg)();return(0,T.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,T.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,T.jsx)(B.x,{color:"var(--ads-v2-color-fg-emphasis-plus)",kind:"heading-s",children:i}),(0,T.jsx)("span",{style:{display:"inline-block",marginLeft:Z()(o,"spaces[1]")},children:(0,T.jsx)(L.u,{content:(0,O.tnH)(O.yGH),placement:"top",children:(0,T.jsx)(M.z,{className:"t--sync-branches",color:Z()(o,"colors.gitSyncModal.closeIcon"),isIconButton:!0,kind:"tertiary",onClick:t,size:"md",startIcon:"refresh"})})})]}),(0,T.jsx)(M.z,{className:"t--close-branch-list",color:Z()(o,"colors.gitSyncModal.closeIcon"),isIconButton:!0,kind:"tertiary",onClick:e,size:"md",startIcon:"close-modal"})]})}function Cn(n){var e=(0,p.I0)(),t=(0,p.v9)(N.Ns),i=(0,p.v9)(N.iG),o=(0,p.v9)(N.Wk),r=(0,p.v9)(N.JS),a=(0,p.v9)(N.tX),s=(0,p.v9)(N.r5),c=(0,p.v9)(N.y5),l=(0,d.useState)(""),u=(0,w.Z)(l,2),h=u[0],g=u[1],f=(0,d.useMemo)((function(){return!(!h||!i||i.find((function(n){return n===h})))}),[h,i]),x=(0,U.bO)(t,h),v=x.filter((function(n){return(0,G.Oq)(n)})),m=x.filter((function(n){return(0,G.jT)(n)})),b=(0,U.Cd)(o,x,f),j=b.activeHoverIndex,y=b.setActiveHoverIndex,k=(0,d.useState)(!1),Z=(0,w.Z)(k,2),C=Z[0],E=Z[1],S=function(){if(!C){F.ZP.logEvent("GS_CREATE_NEW_BRANCH",{source:"BRANCH_LIST_POPUP_FROM_BOTTOM_BAR"});var t=h;E(!0),e((0,I.Qs)({branch:t,onErrorCallback:function(){E(!1)},onSuccessCallback:function(){E(!1),"function"===typeof n.setIsPopupOpen&&n.setIsPopupOpen(!1)}}))}},_=function(n){F.ZP.logEvent("GS_SWITCH_BRANCH",{source:"BRANCH_LIST_POPUP_FROM_BOTTOM_BAR"}),e((0,I.mf)(n))},z=function(n,e){return(0,T.jsxs)("div",{"data-testid":"t--git-remote-branch-list-container",children:[(null===n||void 0===n?void 0:n.length)>0&&(0,T.jsx)(B.x,{color:"var(--ads-v2-color-fg-muted)","data-testid":"t--branch-list-header-local",kind:"heading-s",style:{fontWeight:600},children:(0,O.tnH)(O.aiK)}),n.map((function(n){return(0,T.jsx)(V,{branch:n,onClick:function(){return e(n)}},n)}))]})}(m,_),D=function(n,e,t,i,o,r){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];return(0,T.jsxs)("div",{"data-testid":"t--git-local-branch-list-container",children:[(null===n||void 0===n?void 0:n.length)>0&&(0,T.jsx)(B.x,{color:"var(--ads-v2-color-fg-muted)","data-testid":"t--branch-list-header-local",kind:"heading-s",style:{fontWeight:600},children:(0,O.tnH)(O.ak5)}),n.map((function(n,s){var c=(0,G.xu)(t,i,s);return(0,T.jsx)(cn,{active:e===n,branch:n,isDefault:n===o,isProtected:a.includes(n),onClick:function(){return r(n)},selected:c,shouldScrollIntoView:c},n)}))]})}(v,o,f,j,a,_,s),H=r||c;return(0,T.jsx)(A,{handleDownKey:function(){return y(j+1)},handleEscKey:function(){"function"===typeof n.setIsPopupOpen&&n.setIsPopupOpen(!1)},handleSubmitKey:function(){f?S():_(x[j])},handleUpKey:function(){return y(j-1)},children:(0,T.jsxs)(xn,{children:[(0,T.jsx)(Zn,{closePopup:function(){"function"===typeof n.setIsPopupOpen&&n.setIsPopupOpen(!1)},fetchBranches:function(){F.ZP.logEvent("GS_SYNC_BRANCHES",{source:"BRANCH_LIST_POPUP_FROM_BOTTOM_BAR"}),e((0,I.$B)({pruneBranches:!0})),e((0,I.cq)())}}),(0,T.jsx)(gn.T,{size:3}),(0,T.jsxs)("div",{style:{width:300},children:[H&&(0,T.jsx)("div",{style:{width:"100%",height:vn},children:(0,T.jsx)(P.Z,{})}),!H&&(0,T.jsx)(W.M,{autoFocus:!0,className:"branch-search t--branch-search-input",fill:!0,onChange:function(n){g((0,G.rf)(n))},placeholder:(0,O.tnH)(O.bBg),value:h})]}),(0,T.jsx)(gn.T,{size:3}),H&&(0,T.jsx)(kn,{}),!H&&(0,T.jsxs)(fn,{children:[(0,T.jsx)(gn.T,{size:5}),f&&(0,T.jsx)(yn,{branch:h,className:"t--create-new-branch-button",currentBranch:o,hovered:0===j,isCreatingNewBranch:C,onClick:S,shouldScrollIntoView:0===j}),D,(0,T.jsx)(gn.T,{size:5}),z]})]})})}var In=(0,rn.G)((0,b.Z)((0,m.Z)().mark((function n(){return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.e(8177).then(t.t.bind(t,18947,23)));case 1:case"end":return n.stop()}}),n)})))),Nn=(0,v.ZP)(M.z)(hn||(hn=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  margin: 0 ","px;\n  max-width: 122px;\n  min-width: unset !important;\n\n  :active {\n    border: 1px solid var(--ads-v2-color-border-muted);\n  }\n"])),(function(n){return n.theme.spaces[4]}));var Pn,En=function(){var n=(0,p.I0)(),e=(0,p.v9)(y.N1),t=(0,p.v9)(N.qC),i=null===e||void 0===e?void 0:e.branchName,o=(0,d.useRef)(null),r=(0,p.v9)(N.vp),a=(0,p.v9)(N.tm),s=(0,p.v9)(N.iy),c=(0,p.v9)(N.eA),l=s||c,u=function(e){n((0,I.Yz)(e))};return(0,T.jsx)(j.p,{content:(0,T.jsx)(Cn,{setIsPopupOpen:u}),"data-testid":"t--git-branch-button-popover",disabled:l,hasBackdrop:!0,isOpen:a,minimal:!0,modifiers:{offset:{enabled:!0,options:{offset:[7,10]}}},onInteraction:function(n){u(n),n&&F.ZP.logEvent("GS_OPEN_BRANCH_LIST_POPUP",{source:"BOTTOM_BAR_ACTIVE_BRANCH_NAME"})},placement:"top-start",children:(0,T.jsx)(L.u,{content:i||"",isDisabled:!(0,q.Rj)(o.current),placement:"topLeft",children:(0,T.jsxs)(Nn,{className:"t--branch-button","data-testid":"t--branch-button-currentBranch",isDisabled:l,kind:"secondary",children:[t?(0,T.jsx)(In,{style:{height:14,width:14,marginRight:4,marginTop:1}}):(0,T.jsx)(H.J,{name:"git-branch",style:{marginRight:4}}),(0,T.jsx)("span",{ref:o,style:{maxWidth:"82px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:i}),!(null!==r&&void 0!==r&&r.isClean)&&!t&&"*"]})})})},Sn=t(86125),Tn=t(97558),_n=t(16731),zn=t(86335),Dn=t(83979),An=t(14999),On=v.ZP.div(Pn||(Pn=(0,x.Z)(["\n  > div {\n    display: flex;\n    height: initial;\n    align-items: center;\n  }\n\n  > div > div {\n    margin-top: 0px;\n    width: 150px;\n    margin-right: 12px;\n  }\n\n  > div > p {\n    margin-top: 0;\n  }\n"])));function Hn(n){var e=n.completed,t=n.onHide,i=(0,d.useState)(0),o=(0,w.Z)(i,2),r=o[0],a=o[1];return(0,d.useEffect)((function(){if(e){if(a(100),t){var n=setTimeout((function(){t&&t()}),1e3);return function(){return clearTimeout(n)}}}else if(r<90){var i=setInterval((function(){a((function(n){return n+10}))}),4e3/9);return function(){return clearInterval(i)}}})),(0,T.jsx)(On,{children:(0,T.jsx)(An.Z,{active:!1,message:(0,O.tnH)(O.wMS),percentage:r,showOnlyMessage:!0})})}var Rn,Bn,Ln,Mn,Wn,Gn,Fn=t(53991),Un=t(26023),Kn=v.ZP.div(Rn||(Rn=(0,x.Z)(["\n  padding: 0 10px;\n"]))),qn=v.ZP.button(Bn||(Bn=(0,x.Z)(["\n  margin: 0 ","px;\n  display: block;\n  position: relative;\n  overflow: visible;\n  cursor: ",";\n  opacity: ",";\n\n  .count {\n    position: absolute;\n    height: ","px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    color: ",";\n    background-color: var(--ads-v2-color-bg-brand-secondary-emphasis-plus);\n    top: ","px;\n    left: ","px;\n    border-radius: ","px;\n    ",";\n    z-index: 1;\n    padding: ","px\n      ","px;\n  }\n"])),(function(n){return n.theme.spaces[1]}),(function(n){return n.disabled?"not-allowed":"pointer"}),(function(n){return n.disabled?.6:1}),(function(n){return n.theme.spaces[7]}),Sn.w.WHITE,(function(n){return-1*n.theme.spaces[3]}),(function(n){return n.theme.spaces[10]}),(function(n){return n.theme.spaces[3]}),(0,C.z8)("p3"),(function(n){return n.theme.spaces[1]}),(function(n){return n.theme.spaces[2]})),Jn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ";return n.charAt(0).toUpperCase()+n.toLowerCase().slice(1)};function Xn(n){var e=n.className,t=void 0===e?"":e,i=n.count,o=void 0===i?0:i,r=n.disabled,a=void 0!==r&&r,s=n.icon,c=n.loading,l=n.onClick,d=n.tooltipText,u=Jn(d);return(0,T.jsx)(qn,{className:t,disabled:a,onClick:l,children:c?(0,T.jsx)(Kn,{className:"t--loader-quick-git-action",children:(0,T.jsx)(_n.Z,{size:"md"})}):(0,T.jsx)(L.u,{content:u,children:(0,T.jsxs)("div",{children:[(0,T.jsx)(M.z,{isDisabled:a,isIconButton:!0,kind:"tertiary",size:"md",startIcon:s}),o>0&&(0,T.jsx)("span",{className:"count",children:o})]})})})}var Vn=function(n,e,t){var i=n||{},o=i.behindCount,r=i.isClean,a=(0,O.tnH)(O.aeO),s=0===o;return r||t?!r&&t&&o>0?(s=!1,a=(0,O.tnH)(O._Ps)):e?a=(0,O.tnH)(O.Wjn):o>0&&(a=(0,O.tnH)(O._Ps)):(s=!0,a=(0,O.tnH)(O.OoT)),{disabled:s,message:a}},Yn=function(n){var e=n.changesToCommit,t=n.commit,i=n.gitStatus,o=n.isFetchingGitStatus,r=n.isProtectedMode,a=n.merge,s=n.pull,c=n.pullDisabled,l=n.pullTooltipMessage,d=n.settings,u=n.showPullLoadingState;return[{className:"t--bottom-bar-commit",disabled:!o&&r,count:r?void 0:e,icon:"plus",loading:o,onClick:function(){return!o&&!r&&t()},tooltipText:(0,O.tnH)(O.zoU)},{className:"t--bottom-bar-pull",count:null===i||void 0===i?void 0:i.behindCount,icon:"down-arrow-2",onClick:function(){return!u&&!c&&s()},tooltipText:l,disabled:!u&&c,loading:u},{className:"t--bottom-bar-merge",disabled:r,icon:"fork",onClick:a,tooltipText:(0,O.tnH)(O.t7Z)},{className:"t--bottom-git-settings",icon:"settings-2-line",onClick:d,tooltipText:(0,O.tnH)(O.tDQ)}]},Qn=v.ZP.div(Ln||(Ln=(0,x.Z)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n"]))),$n=(0,v.ZP)(H.J)(Mn||(Mn=(0,x.Z)(["\n  cursor: default;\n  margin-right: ","px;\n"])),(function(n){return n.theme.spaces[3]})),ne=v.ZP.div(Wn||(Wn=(0,x.Z)(["\n  padding: 4px 16px;\n  height: 100%;\n"]))),ee=v.ZP.div(Gn||(Gn=(0,x.Z)(["\n  text-align: center;\n"])));function te(){var n=(0,p.I0)(),e=(0,Fn.nT)(),t=!e,i=(0,d.useMemo)((function(){return e?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{children:(0,O.tnH)(O.dbH)}),(0,T.jsx)("div",{children:(0,O.tnH)(O.u9D)})]}):(0,T.jsx)(ee,{children:(0,O.tnH)(O.w7F)})}),[e]);return(0,T.jsx)(ne,{children:(0,T.jsx)(L.u,{content:i,isDisabled:!t,children:(0,T.jsxs)(Qn,{style:{marginLeft:0,cursor:"pointer"},children:[(0,T.jsx)($n,{color:"var(--ads-v2-color-fg-muted)",name:"git-commit",size:"lg"}),(0,T.jsx)(M.z,{className:"t--connect-git-bottom-bar",isDisabled:!e,kind:"secondary",onClick:function(){F.ZP.logEvent("GS_CONNECT_GIT_CLICK",{source:"BOTTOM_BAR_GIT_CONNECT_BUTTON"}),n((0,I.mr)({isOpen:!0,tab:Tn.z.GIT_CONNECTION}))},size:"sm",children:(0,O.tnH)(O.Qlc)})]})})})}function ie(){var n,e=(0,p.v9)(N.X2),t=(0,p.I0)(),i=(0,p.v9)(N.vp),o=(0,p.v9)(N.n5),r=(0,p.v9)(N.qC),a=Vn(i,!!o,r),s=a.disabled,c=a.message,l=(0,p.v9)(N.HI),d=(0,p.v9)(N.ro),u=l||d,h=(0,p.v9)(N.pR),g=(0,zn.y)(Dn.Yx.release_git_autocommit_feature_enabled),x=(0,p.v9)(N.Mg),v=(0,p.v9)(N.eA),m=null===x||void 0===x||null===(n=x.autoCommitConfig)||void 0===n?void 0:n.enabled,b=Yn({commit:function(){t((0,I.mr)({isOpen:!0,tab:Tn.z.DEPLOY})),F.ZP.logEvent("GS_DEPLOY_GIT_MODAL_TRIGGERED",{source:"BOTTOM_BAR_GIT_COMMIT_BUTTON"})},settings:function(){t((0,I.YK)({open:!0,tab:Un.W.GENERAL})),F.ZP.logEvent("GS_SETTING_CLICK",{source:"BOTTOM_BAR_GIT_SETTING_BUTTON"})},pull:function(){F.ZP.logEvent("GS_PULL_GIT_CLICK",{source:"BOTTOM_BAR_GIT_PULL_BUTTON"}),t(r?(0,I.wq)({successToastMessage:(0,O.tnH)(O.rWQ)}):(0,I.bp)({triggeredFromBottomBar:!0}))},merge:function(){F.ZP.logEvent("GS_MERGE_GIT_MODAL_TRIGGERED",{source:"BOTTOM_BAR_GIT_MERGE_BUTTON"}),t((0,I.mr)({isOpen:!0,tab:Tn.z.MERGE,isDeploying:!0}))},gitStatus:i,isFetchingGitStatus:d,pullDisabled:s,pullTooltipMessage:c,showPullLoadingState:u,changesToCommit:h,isProtectedMode:r});return e?(0,T.jsxs)(Qn,{children:[(0,T.jsx)(En,{}),g&&m&&v?(0,T.jsx)(Hn,{completed:!v}):b.map((function(n){return(0,T.jsx)(Xn,(0,f.Z)({},n),n.tooltipText)}))]}):(0,T.jsx)(te,{})}var oe=t(25391),re=t(32369),ae=t(18848),se=t(47216),ce=t(16975),le=t(47929),de=t(59131),ue=t(52929),pe=t(73255);var he=function(){var n=(0,p.I0)(),e=(0,p.v9)(ae.cr),t=(0,p.v9)(ae.F4),i=(0,p.v9)(ae.BV),o=(0,d.useCallback)((function(e){n((0,re.dw)(e))}),[]),r=[{key:le.QO.ERROR_TAB,title:(0,O.tnH)(O.UBR),count:t,panelComponent:(0,T.jsx)(se.Z,{hasShortCut:!0})},{key:le.QO.LOGS_TAB,title:(0,O.tnH)(O.dLP),panelComponent:(0,T.jsx)(oe.ZP,{hasShortCut:!0})},{key:le.QO.INSPECT_TAB,title:(0,O.tnH)(O.M2N),panelComponent:(0,T.jsx)(ce.Z,{})}],a=!(e===le.QO.RESPONSE_TAB||e===le.QO.HEADER_TAB||e===le.QO.SCHEMA_TAB);return(0,T.jsx)(pe.j4,{behaviour:pe.dh.CLOSE,className:"t--debugger-tabs-container",displayMode:pe.in.OVERLAY,height:i,hidden:!a,onHideClick:function(){return n((0,re.cJ)(!1))},setHeight:o,children:(0,T.jsx)(de.Z,{expandedHeight:"".concat(ue.U,"px"),onSelect:function(e){e===le.QO.ERROR_TAB&&F.ZP.logEvent("OPEN_DEBUGGER",{source:"WIDGET_EDITOR"}),n((0,re.vz)(e))},selectedTabKey:e,tabs:r})})},ge=t(84787);function fe(){var n=(0,p.I0)(),e=(0,p.v9)(ae.qU);(0,d.useEffect)((function(){n((0,re.eb)(e.errors))}));var t=(0,ge.Z)(),i=0!==e.errors?"View details for ".concat(e.errors," ").concat(e.errors>1?"errors":"error"):"No errors";return(0,T.jsx)(L.u,{content:i,children:(0,T.jsx)(M.z,{className:"t--debugger-count",kind:e.errors>0?"error":"tertiary",onClick:t,size:"md",startIcon:e.errors?"close-circle":"close-circle-line",children:e.errors>99?"99+":e.errors})})}var xe,ve,me=function(){return(0,p.v9)(ae.hq)?(0,T.jsx)(he,{}):null},be=t(72674),je=t(75453),ye=t(56055),we=t(38637),ke=v.ZP.div(xe||(xe=(0,x.Z)(["\n  width: 100%;\n  height: ",";\n  display: flex;\n  position: fixed;\n  justify-content: space-between;\n  background-color: ",";\n  z-index: ",";\n  border-top: solid 1px var(--ads-v2-color-border);\n"])),(function(n){return n.theme.bottomBarHeight}),(function(n){return n.theme.colors.editorBottomBar.background}),we.S9.bottomBar),Ze=v.ZP.div(ve||(ve=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),Ce=t(81591),Ie=t(6864);function Ne(n){var e=n.viewMode,t=(0,p.v9)(Ce.aS)||"",i=(0,p.I0)();return(0,T.jsxs)(ke,{children:[(0,T.jsxs)(Ze,{children:[!e&&(0,T.jsx)(ye.ZP,{editorId:t,onChangeEnv:function(){i((0,Ie.Xb)())},startSwitchEnvMessage:O.kmg,viewMode:e}),!e&&(0,T.jsx)(ie,{})]}),!e&&(0,T.jsxs)(Ze,{children:[(0,T.jsx)(je.Z,{showTooltip:!0,children:(0,T.jsx)(M.z,{className:"t--upgrade",isIconButton:!0,kind:"tertiary",size:"md",startIcon:"upgrade"})}),(0,T.jsx)(fe,{}),(0,T.jsx)(be.Z,{})]})]})}var Pe,Ee=t(97715),Se=t.n(Ee),Te=v.ZP.div(Pe||(Pe=(0,x.Z)(["\n  display: flex;\n  height: calc(\n    100vh - "," -\n      "," -\n      ","\n  );\n  background-color: ",";\n"])),(function(n){return n.theme.smallHeaderHeight}),(function(n){return n.theme.bottomBarHeight}),(function(n){return n.isProtectedMode?"70px":"0px"}),(function(n){return n.theme.appBackground}));var _e,ze,De,Ae=function(n){var e=n.children,t=(0,p.v9)(Ce.ew),i=(0,p.v9)(N.qC);return(0,T.jsx)(Te,{className:Se()((0,g.Z)((0,g.Z)({},"relative w-full overflow-x-hidden",!0),"select-none",!t)),isProtectedMode:i,children:e})},Oe=t(26444),He=t(53454),Re=t(10468),Be=t(91331),Le=t(49473),Me=t(65808),We=v.ZP.div(_e||(_e=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  width: 50px;\n  text-align: center;\n  align-items: center;\n  padding: 8px 0;\n"]))),Ge=v.ZP.div(ze||(ze=(0,x.Z)(["\n  padding: 2px;\n  background-color: ",";\n  border-radius: 3px;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  position: relative;\n  &:hover {\n    background: ",";\n  }\n"])),(function(n){return n.selected?"var(--colors-raw-orange-100, #fbe6dc)":"white"}),(function(n){return n.selected?"var(--colors-raw-orange-100, #fbe6dc)":"var(--ads-v2-color-bg-subtle, #f1f5f9);"})),Fe=(0,v.ZP)(H.J)(De||(De=(0,x.Z)(["\n  position: absolute;\n  bottom: 3px;\n  right: -1px;\n  &.t--sidebar-","-condition-icon {\n    color: #ffe283;\n  }\n"])),Me.BB.DATA);var Ue,Ke=function(n){return(0,T.jsxs)(We,{children:[n.title===Me.BB.DATA,(0,T.jsx)(L.u,{content:n.tooltip,isDisabled:!!n.title&&!n.tooltip,placement:"right",children:(0,T.jsxs)(Ge,{className:"t--sidebar-".concat(n.title||n.tooltip),"data-selected":n.selected,onClick:n.onClick,selected:n.selected,children:[(0,T.jsx)(H.J,{name:n.icon,size:"lg"}),n.conditionIcon&&(0,T.jsx)(Fe,{className:"t--sidebar-".concat(n.title,"-condition-icon"),name:n.conditionIcon,size:"md"})]})}),n.title?(0,T.jsx)(B.x,{kind:"body-s",children:n.title}):null]})},qe=t(11989),Je=v.ZP.div(Ue||(Ue=(0,x.Z)(["\n  width: 50px;\n  border-right: 1px solid var(--ads-v2-color-border);\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  background-color: var(--ads-v2-color-bg);\n  position: relative;\n"])));var Xe=function(n){var e=n.appState,t=n.bottomButtons,i=n.onClick,o=n.topButtons,r=(0,p.v9)(qe.ft);return(0,T.jsxs)(Je,{className:"t--sidebar",id:"t--app-sidebar",children:[(0,T.jsx)("div",{children:o.map((function(n){return(0,T.jsx)(Ke,(0,f.Z)({icon:n.icon,onClick:function(){e!==n.state&&i(n.urlSuffix)},selected:e===n.state,title:n.title},(t=n.conditionType,o=n.conditionTooltip,t===Me.wc.DATSOURCE&&0===r.length?{conditionIcon:"warning",tooltip:o}:{})),n.state);var t,o}))}),(0,T.jsx)("div",{children:t.map((function(n){return(0,T.jsx)(Ke,{icon:n.icon,onClick:function(){e!==n.state&&i(n.urlSuffix)},selected:e===n.state,tooltip:n.title},n.state)}))})]})};var Ve,Ye=function(){var n=(0,p.I0)(),e=(0,Re.ZE)(),t=(0,p.v9)(Ce.zj),i=(0,p.v9)(Be.n_);(0,d.useEffect)((function(){n((0,Le.oP)(i))}),[i]);var o=(0,d.useCallback)((function(n){He.C.push((0,Oe.K3)({pageId:t,suffix:n}),{invokedBy:He.Z.AppSidebar})}),[t]);return(0,T.jsx)(Xe,{appState:e,bottomButtons:Me.C3,onClick:o,topButtons:Me.Or})},Qe=t(26008),$e=t(76104),nt=t(73646),et=t(89437),tt=v.ZP.div(Ve||(Ve=(0,x.Z)(["\n  background: var(--ads-v2-color-gray-50);\n  padding: var(--ads-v2-spaces-3) var(--ads-v2-spaces-4);\n  padding-right: var(--ads-v2-spaces-2);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 40px;\n  span {\n    line-height: 20px;\n  }\n"])));var it,ot,rt,at,st,ct,lt,dt=function(n){return(0,T.jsxs)(tt,{className:n.className,children:[(0,T.jsx)(B.x,{kind:"heading-xs",children:n.title}),n.rightIcon?n.rightIcon:null]})},ut=v.ZP.div(it||(it=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: ","px;\n  &:nth-child(2) {\n    height: 100%;\n  }\n"])),et.p),pt=function(n){var e=n.children,t=n.title;return(0,T.jsx)("div",{className:"h-full flex",children:(0,T.jsxs)(ut,{children:[(0,T.jsx)(dt,{title:t}),e]})})},ht=function(){return(0,T.jsx)(pt,{title:"App Settings",children:(0,T.jsx)(nt.ZP,{})})},gt=t(79530),ft=t.n(gt),xt=t(27642),vt=t(54951),mt=t(56900),bt=t(44170),jt=t(81179),yt=function(){var n=(0,p.v9)((function(n){var e;return null!==(e=(0,Be.Y_)(n).userPermissions)&&void 0!==e?e:[]})),e=(0,zn.y)(Dn.Yx.license_gac_enabled);return(0,jt.wk)(e,n)?(0,T.jsx)(bt.J2,{open:!1,children:(0,T.jsx)(bt.xo,{children:(0,T.jsx)(M.z,{className:"t--add-datasource-button",isIconButton:!0,kind:"tertiary",onClick:function(){return He.C.push((0,Oe.K3)({suffix:"datasources/NEW"}))},size:"sm",startIcon:"add-line"})})}):null},wt=t(49167),kt=t(79694),Zt=t(9010),Ct=v.ZP.div(ot||(ot=(0,x.Z)(["\n  width: 300px;\n"]))),It=v.ZP.div(rt||(rt=(0,x.Z)(["\n  padding: var(--ads-v2-spaces-3) 0;\n  height: calc(100vh - 120px);\n  overflow-y: scroll;\n"]))),Nt=v.ZP.img(at||(at=(0,x.Z)(["\n  height: 16px;\n  width: 16px;\n  align-self: flex-start;\n"]))),Pt=(0,v.ZP)(xt.a)(st||(st=(0,x.Z)(["\n  gap: 0;\n"]))),Et=function(n){var e=n.dsUsageSelector,t=void 0===e?qe.qZ:e,i=(0,wt.fg)(He.C.location.pathname),o=(0,p.v9)(qe.zj),r=(0,d.useState)(""),a=(0,w.Z)(r,2),s=a[0],c=a[1],l=(0,p.v9)(qe.ft),u=(0,p.v9)(qe.yP),g=(0,p.v9)(qe.uM),f=ft()(g,"id"),x=(0,p.v9)((function(n){return t(n,i)})),v=(0,d.useCallback)((function(n){He.C.push((0,Oe.yf)({datasourceId:n}))}),[]),m=(0,h.TH)();(0,d.useEffect)((function(){c((0,mt.G)(m.pathname))}),[m]);var b=(0,p.v9)((function(n){var e;return null!==(e=(0,Be.Y_)(n).userPermissions)&&void 0!==e?e:[]})),j=(0,zn.y)(Dn.Yx.license_gac_enabled),y=(0,jt.wk)(j,b);return(0,T.jsxs)(Ct,{children:[(0,T.jsx)(dt,{rightIcon:y&&0!==l.length?(0,T.jsx)(yt,{}):void 0,title:(0,O.tnH)(O.L_i)}),(0,T.jsxs)(It,{children:[0===l.length?(0,T.jsx)(kt.u,{buttonClassName:"t--add-datasource-button-blank-screen",buttonText:"Bring your data",description:(0,O.tnH)(O._W9),icon:"datasource-v3",onClick:y?function(){return He.C.push((0,Oe.RQ)({pageId:o,selectedTab:$e.Rb.NEW}))}:void 0}):null,(0,T.jsx)(vt.k,{flexDirection:"column",gap:"spaces-4",overflowY:"auto",px:"spaces-3",children:Object.entries(u).map((function(n){var e=(0,w.Z)(n,2),t=e[0],i=e[1];return(0,T.jsxs)(vt.k,{flexDirection:"column",children:[(0,T.jsx)(vt.k,{px:"spaces-3",py:"spaces-1",children:(0,T.jsx)(B.x,{className:"overflow-hidden overflow-ellipsis whitespace-nowrap",kind:"body-s",children:t})}),(0,T.jsx)(Pt,{items:i.map((function(n){return{className:"t--datasource",title:n.name,onClick:function(){return v(n.id)},description:Z()(x,n.id,""),descriptionType:"block",isSelected:s===n.id,startIcon:(0,T.jsx)(Nt,{src:(0,Zt.V)(f[n.pluginId].iconLocation)})}}))})]},t)}))})]})]})},St=t(8597),Tt=t(5642),_t=t(59551),zt=t(68533),Dt=t(94870),At=t(2970),Ot=t(37763),Ht=t(54286),Rt=t(41243),Bt=v.ZP.div(ct||(ct=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  max-height: calc(var(--popover-max-height) - 69px);\n\n  .search-body {\n    display: flex;\n    padding-right: 4px;\n    padding-left: 2px;\n    flex-direction: column;\n    .search-area {\n      margin-bottom: 16px;\n      .left-icon {\n        margin-left: 14px;\n        .cs-icon {\n          margin-right: 0;\n        }\n      }\n      .bp3-form-group {\n        margin: 0;\n        .remixicon-icon {\n          cursor: initial;\n        }\n      }\n      display: flex;\n      flex-direction: column;\n      .search-bar {\n        margin-bottom: 8px;\n      }\n    }\n    .search-CTA {\n      margin-bottom: 16px;\n      display: flex;\n      flex-direction: column;\n      a {\n        display: inline-block;\n        > span {\n          font-size: inherit;\n        }\n      }\n    }\n    .search-results {\n      .library-card {\n        gap: 8px;\n        padding: 8px 0;\n        display: flex;\n        flex-direction: column;\n        gap: 0.5rem;\n        border-bottom: 1px solid var(--ads-v2-color-border);\n        .description {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          font-size: 12px;\n          line-clamp: 2;\n          font-weight: 400;\n          -webkit-box-orient: vertical;\n        }\n        img {\n          cursor: initial;\n        }\n      }\n      .library-card.no-border {\n        border-bottom: none;\n      }\n    }\n    .divider {\n      margin: 0 0 16px 0;\n    }\n    .library-name {\n      /* font-family: var(--font-family); */\n      color: var(--ads-v2-color-fg-emphasis-plus);\n      font-size: var(--ads-v2-font-size-6);\n      font-weight: var(--ads-v2-h4-font-weight);\n      letter-spacing: var(--ads-v2-h4-letter-spacing);\n    }\n  }\n"]))),Lt=v.ZP.div(lt||(lt=(0,x.Z)(["\n  border-top: ",";\n  display: flex;\n  flex-direction: column;\n  background: var(--ads-v2-color-bg-muted);\n  text-overflow: ellipsis;\n  padding: 8px 8px 12px;\n  border-radius: var(--ads-v2-border-radius);\n  .install-url {\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    word-break: break-all;\n  }\n  .error-card.show {\n    display: flex;\n  }\n  .error-card {\n    display: none;\n    padding: 10px;\n    flex-direction: row;\n    background: #ffe9e9;\n    .unsupported {\n      line-height: 17px;\n      .header {\n        font-size: 13px;\n        font-weight: 600;\n        color: #393939;\n      }\n      .body {\n        font-size: 12px;\n        font-weight: 400;\n      }\n    }\n  }\n"])),(function(n){return n.addBorder?"1px solid var(--appsmith-color-black-300)":"none"}));function Mt(n){var e=n.action,t=n.isInstalled,i=void 0!==t&&t,o=n.status,r=(0,d.useMemo)((function(){return e?{onClick:e}:{}}),[e]);return o===At.a.Success||i?(0,T.jsx)(L.u,{content:"Successfully installed",trigger:"hover",children:(0,T.jsx)(H.J,{className:"installed",color:"var(--ads-v2-color-fg-success)",name:"oval-check-fill",size:"md"})}):o===At.a.Failed?(0,T.jsx)(L.u,{content:"Download failed, please try again.",trigger:"hover",children:(0,T.jsx)(H.J,{className:"failed",name:"warning-line",size:"md"})}):o===At.a.Queued?(0,T.jsx)(R.$,{className:"queued"}):(0,T.jsx)(L.u,{content:"Install",trigger:"hover",children:(0,T.jsx)(M.z,(0,f.Z)((0,f.Z)({className:"t--download",isIconButton:!0,kind:"tertiary"},r),{},{size:"sm",startIcon:"download"}))})}function Wt(n){var e=n.isFirst,t=n.isLast,i=n.status,o=n.url;return(0,T.jsx)(Lt,{addBorder:!e,className:Se()({"mb-2":t,hidden:i!==At.a.Failed}),children:(0,T.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,T.jsxs)("div",{className:"flex justify-between items-center gap-2 fw-500 text-sm",children:[(0,T.jsx)("div",{className:"install-url text-sm font-medium",children:o}),(0,T.jsx)("div",{className:"shrink-0",children:(0,T.jsx)(Mt,{status:i})})]}),i===At.a.Failed&&(0,T.jsx)(St.U,{kind:"error",links:[{children:(0,O.tnH)(O.PFz.REPORT_ISSUE),to:Ft.reportIssue,target:"_blank"},{children:(0,O.tnH)(O.PFz.LEARN_MORE),to:Ft.learnMore,target:"_blank"}],children:(0,T.jsx)(Vt,{})})]})})}function Gt(){var n=(0,p.v9)(qe.Af),e=Object.keys(n).filter((function(n){return!Ot.Z.find((function(e){return e.url===n}))}));return 0===e.length?null:(0,T.jsx)("div",{children:e.reverse().map((function(t,i){return(0,T.jsx)(Wt,{isFirst:0===i,isLast:i===e.length-1,status:n[t],url:t},"".concat(t,"_").concat(i))}))})}var Ft={learnMore:"https://docs.appsmith.com/core-concepts/writing-code/ext-libraries",reportIssue:"https://github.com/appsmithorg/appsmith/issues/19037",jsDelivr:"https://www.jsdelivr.com/"};function Ut(){var n=(0,d.useState)(""),e=(0,w.Z)(n,2),t=e[0],i=e[1],o=(0,d.useState)(!0),r=(0,w.Z)(o,2),a=r[0],s=r[1],c=(0,d.useState)(""),l=(0,w.Z)(c,2),u=l[0],h=l[1],g=(0,p.I0)(),f=(0,p.v9)(qe.St),x=(0,p.v9)(qe.ih),v=(0,d.useRef)(null),m=(0,d.useCallback)((function(n){i(n),h(b(n).message)}),[]),b=(0,d.useCallback)((function(n){var e=!n||/(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/.test(n);return s(e),{isValid:e,message:e?"":"Please enter a valid URL"}}),[]);(0,d.useEffect)((function(){t&&F.ZP.logEvent("EDIT_LIBRARY_URL",{url:t,valid:a})}),[t,a]);var j=(0,d.useCallback)((function(n){var e=(null===n||void 0===n?void 0:n.url)||t;if(!x.find((function(n){return n===e}))){var i=f.find((function(n){return n.url===e}));i?$.A.show((0,O.tnH)(O.PFz.INSTALLED_ALREADY,i.accessor[0]||""),{kind:"info"}):g((0,Ht.PD)({url:e,name:null===n||void 0===n?void 0:n.name,version:null===n||void 0===n?void 0:n.version}))}}),[t,f,x]);return(0,T.jsx)(Bt,{className:"".concat(Rt.dy.CONTEXT_MENU_CONTENT),ref:v,children:(0,T.jsxs)("div",{className:"search-body overflow-y-scroll",children:[(0,T.jsx)("div",{className:"search-area t--library-container",children:(0,T.jsxs)("div",{className:"flex flex-row gap-2 justify-between items-end",children:[(0,T.jsx)("div",{className:"w-full h-[83px]",children:(0,T.jsx)(Tt.I,{"data-testid":"library-url",errorMessage:u,isValid:a,label:"Library URL",labelPosition:"top",onChange:m,placeholder:"https://cdn.jsdelivr.net/npm/example@1.1.1/example.min.js",size:"md",startIcon:"link-2",type:"text"})}),(0,T.jsx)(M.z,{className:"mb-[22px]","data-testid":"install-library-btn",isDisabled:!(t&&a),isLoading:x.length>0,onClick:function(){return j()},size:"md",startIcon:"download",children:"Install"})]})}),(0,T.jsx)("div",{className:"search-CTA mb-3 text-xs",children:(0,T.jsxs)("span",{children:["Explore libraries on"," ",(0,T.jsx)(_t.r,{kind:"primary",target:"_blank",to:Ft.jsDelivr,children:"jsDelivr"}),". ",(0,O.tnH)(O.PFz.LEARN_MORE_DESC)," ",(0,T.jsx)(_t.r,{kind:"primary",target:"_blank",to:Ft.learnMore,children:"here"}),"."]})}),(0,T.jsx)(zt.i,{className:"divider"}),(0,T.jsx)(Gt,{}),(0,T.jsx)("div",{className:"pb-2 sticky top-0 z-2 bg-white",children:(0,T.jsx)(B.x,{kind:"heading-xs",children:(0,O.tnH)(O.PFz.REC_LIBRARY)})}),(0,T.jsx)("div",{className:"search-results",children:Ot.Z.map((function(n,e){return(0,T.jsx)(Kt,{isLastCard:e===Ot.Z.length-1,lib:n,onClick:function(){return j(n)}},"".concat(e,"_").concat(n.name))}))})]})})}function Kt(n){var e=n.isLastCard,t=n.lib,i=n.onClick,o=(0,p.v9)((0,qe.RW)(t.url)),r=(0,p.v9)((function(n){return(0,qe.vu)(n,t.url)}));return(0,T.jsxs)("div",{className:Se()((0,g.Z)((0,g.Z)({},"library-card t--".concat(t.name),!0),"no-border",e)),children:[(0,T.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,T.jsx)("div",{className:"flex flex-row gap-1 items-center",children:(0,T.jsx)(_t.r,{className:"library-name",endIcon:"share-box-line",kind:"secondary",target:"_blank",to:t.docsURL,children:t.name})}),(0,T.jsx)("div",{className:"mr-2",children:(0,T.jsx)(Mt,{action:i,isInstalled:r,status:o})})]}),(0,T.jsx)("div",{className:"flex flex-row description",children:t.description}),(0,T.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,T.jsx)(Dt.q,{image:t.icon,label:t.author,size:"sm"}),(0,T.jsx)(B.x,{kind:"action-s",children:t.author})]})]})}var qt,Jt,Xt,Vt=function(){return(0,T.jsxs)("div",{className:"flex flex-col unsupported gap-1",children:[(0,T.jsx)("div",{className:"header",children:(0,O.tnH)(O.PFz.UNSUPPORTED_LIB)}),(0,T.jsx)("div",{className:"body",children:(0,O.tnH)(O.PFz.UNSUPPORTED_LIB_DESC)})]})},Yt=function(){var n=(0,d.useState)(!1),e=(0,w.Z)(n,2),t=e[0],i=e[1],o=(0,p.I0)(),r=(0,d.useCallback)((function(n){o((0,Ht.G2)()),i(n)}),[t]);return(0,T.jsxs)(bt.J2,{onOpenChange:r,open:t,children:[(0,T.jsx)(bt.xo,{children:(0,T.jsx)(M.z,{className:"t--install-library-button",isIconButton:!0,kind:"tertiary",onClick:function(){return i(!0)},size:"sm",startIcon:"add-line"})}),(0,T.jsxs)(bt.yk,{align:"start",className:"z-[25]",side:"left",sideOffset:16,size:"md",children:[(0,T.jsx)(bt.Yt,{className:"sticky top-0",isClosable:!0,children:(0,O.tnH)(O.PFz.ADD_JS_LIBRARY)}),(0,T.jsx)(bt.b,{className:"!overflow-y-clip",children:(0,T.jsx)(Ut,{})})]})]})},Qt=t(63329),$t=function(){var n=(0,b.Z)((0,m.Z)().mark((function n(e,t,i){return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("clipboard"in navigator)){n.next=15;break}return n.prev=1,n.next=4,navigator.clipboard.writeText(e);case 4:t.childNodes[0].textContent="Copied to clipboard!",t.classList.add("success"),i.current&&i.current.append(t),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(1),t.childNodes[0].textContent="Failed!",t.classList.add("error"),i.current&&i.current.append(t);case 14:setTimeout((function(){var n;null===(n=i.current)||void 0===n||n.removeChild(t)}),1e3);case 15:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e,t,i){return n.apply(this,arguments)}}(),ni=function(n){return function(e){var t=document.createElement("div"),i=document.createTextNode("");t.classList.add("clipboard-message"),t.appendChild(i),$t(e,t,n)}},ei=(t(74387),Ot.Z.reduce((function(n,e){return n[e.url]=e.docsURL,n}),{})),ti=v.ZP.li(qt||(qt=(0,x.Z)(["\n  list-style: none;\n  flex-direction: column;\n  color: var(--ads-v2-color-fg);\n  font-weight: 400;\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n  position: relative;\n  line-height: 17px;\n  padding-left: 8px;\n\n  > div:first-child {\n    height: 36px;\n  }\n\n  &:hover {\n    background: var(--ads-v2-color-bg-subtle);\n\n    & .t--open-new-tab {\n      display: block;\n    }\n\n    & .delete,\n    .open-link {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n\n  .loading {\n    display: none;\n    width: 30px;\n    height: 36px;\n    background: transparent;\n    flex-shrink: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  & .t--open-new-tab {\n    position: absolute;\n    right: 8px;\n    display: none;\n  }\n\n  .delete,\n  .open-link {\n    display: none;\n    width: 30px;\n    height: 36px;\n    margin-left: 4px;\n    /* background: transparent; */\n    flex-shrink: 0;\n  }\n\n  & .t--package-version {\n    display: block;\n    font-size: 12px;\n    height: 16px;\n  }\n  .open-collapse {\n    transform: rotate(90deg);\n  }\n\n  .content {\n    font-size: 12px;\n    font-weight: 400;\n    padding: 4px 8px;\n    color: var(--ads-v2-color-fg);\n    display: flex;\n    align-items: center;\n    gap: 4px;\n    width: 100%;\n    overflow: hidden;\n    .accessor {\n      padding-left: 8px;\n      flex-grow: 1;\n      outline: 1px solid var(--ads-v2-color-border) !important;\n      font-size: 12px;\n      font-family: monospace;\n      background: white;\n      display: flex;\n      height: 25px;\n      width: calc(100% - 80px);\n      justify-content: space-between;\n      align-items: center;\n      color: var(--ads-v2-color-fg-emphasis);\n      border-radius: var(--ads-v2-border-radius);\n      > div {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: transparent;\n        width: 25px;\n        &:hover {\n          background: var(--ads-v2-color-bg-muted);\n          > svg > path {\n            fill: var(--ads-v2-color-fg);\n          }\n        }\n      }\n    }\n  }\n"]))),ii=v.ZP.div(Jt||(Jt=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  line-height: 17px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-break: break-all;\n"]))),oi=v.ZP.div(Xt||(Xt=(0,x.Z)(["\n  flex-shrink: 0;\n  display: ",";\n  margin: ",";\n"])),(function(n){return n.version?"block":"none"}),(function(n){return n.version?"0 8px":"0"})),ri=function(n){var e=n.lib,t=(0,p.v9)(qe.Af),i=(0,p.I0)(),o=e.url,r=(0,d.useCallback)((function(n){n.stopPropagation(),i((0,Ht.sJ)(e))}),[e]);return t[o]===At.a.Queued?(0,T.jsx)("div",{className:"loading",children:(0,T.jsx)(R.$,{size:"md"})}):o?(0,T.jsx)(M.z,{className:"delete uninstall-library t--uninstall-library",isIconButton:!0,kind:"error",onClick:r,size:"sm",startIcon:"delete-bin-line"}):null};function ai(n){var e=n.lib,t=(0,d.useCallback)((function(n){return function(e){null===e||void 0===e||e.stopPropagation(),n&&window.open(n,"_blank")}}),[]),i=(0,d.useRef)(null),o=ni(i),r=(0,d.useCallback)((function(){o(e.accessor[e.accessor.length-1]),$.A.show("Copied to clipboard",{kind:"success"})}),[e.accessor]),a=d.useState(!1),s=(0,w.Z)(a,2),c=s[0],l=s[1],u=ei[e.url||""]||e.docsURL;return(0,T.jsxs)(ti,{className:"t--installed-library-".concat(e.name),children:[(0,T.jsxs)("div",{className:"flex flex-row items-center h-full",onClick:function(){return l(!c)},children:[(0,T.jsx)(H.J,{className:c?"open-collapse":"",name:"right-arrow-2",size:"md"}),(0,T.jsxs)("div",{className:"flex items-center flex-1 overflow-hidden flex-start",children:[(0,T.jsx)(ii,{children:e.name}),u&&(0,T.jsx)("div",{className:"share",children:(0,T.jsx)(M.z,{className:"open-link",isIconButton:!0,kind:"tertiary",onClick:t(u),size:"sm",startIcon:"share-box-line"})})]}),(0,T.jsx)(oi,{className:"t--package-version",version:e.version,children:e.version}),(0,T.jsx)(ri,{lib:e})]}),(0,T.jsx)(S.UO,{className:"text-xs",isOpen:c,children:(0,T.jsxs)("div",{className:"pr-2 content",children:["Available as"," ",(0,T.jsxs)("div",{className:"accessor",children:[e.accessor[e.accessor.length-1]," ",(0,T.jsx)(M.z,{isIconButton:!0,kind:"tertiary",onClick:r,size:"sm",startIcon:"copy-control"})]})]})})]})}var si,ci,li=v.ZP.div(si||(si=(0,x.Z)(["\n  width: 250px;\n"]))),di=function(){var n=(0,p.v9)(qe.y9),e=(0,Qt.useTransition)(n,{keys:function(n){return n.name},from:{opacity:0},enter:{opacity:1},leave:{opacity:1}});return(0,T.jsxs)(li,{children:[(0,T.jsx)(dt,{rightIcon:(0,T.jsx)(Yt,{}),title:"Installed Libraries"}),e((function(n,e){return(0,T.jsx)(Qt.animated.div,{style:n,children:(0,T.jsx)(ai,{lib:e})})}))]})},ui=t(93433),pi=t(55093),hi=(0,v.ZP)(vt.k)(ci||(ci=(0,x.Z)(["\n  & .t--entity-item {\n    grid-template-columns: 0 auto 1fr auto auto auto auto auto;\n    height: 32px;\n\n    & .t--entity-name {\n      padding-left: var(--ads-v2-spaces-3);\n    }\n  }\n"]))),gi=function(){var n=(0,h.$B)().path,e=(0,pi.ds)(n);return(0,T.jsx)(hi,{className:"ide-editor-left-pane__content-queries",flexDirection:"column",height:"100%",overflow:"hidden",children:(0,T.jsx)(h.rs,{children:e.map((function(n){return(0,T.jsx)(Qe.X5,{component:n.component,exact:n.exact,path:n.path},n.key)}))})})},fi=t(31818),xi=t(84685),vi=t(48848),mi=t(22182),bi=t(26767),ji=fi.Z.widgetTypes;function yi(n){var e=n.widgetId,t=(0,p.v9)((function(e){return e.ui.pageWidgets[n.pageId].dsl[n.widgetId].parentId})),i=(0,p.v9)((function(e){return e.ui.pageWidgets[n.pageId].dsl[n.widgetId]})),o=(0,p.v9)((function(e){return t?e.ui.pageWidgets[n.pageId].dsl[t]:{}})),r=(0,p.I0)(),a=(0,d.useCallback)((function(){if(i.tabName&&o.type===ji.TABS_WIDGET){var n=(0,f.Z)({},o.tabsObj),a=Object.values(n);i.parentId&&a.length&&r({type:vi.Ep.WIDGET_DELETE_TAB_CHILD,payload:(0,f.Z)({},n[i.tabId])})}else r({type:vi.Z1.WIDGET_DELETE,payload:{widgetId:e,parentId:t}})}),[r,e,t,i,o]),s=(0,d.useCallback)((function(n,e){r({type:vi.Ep.SET_ENTITY_INFO,payload:{entityId:n,entityName:e,entityType:mi.lU.WIDGET,show:!0}})}),[]),c=(0,d.useCallback)((function(){r((0,xi.Ix)(e))}),[r,e]),l=[{value:"showBinding",onSelect:function(){return s(n.widgetId,i.widgetName)},label:"Show bindings"}];if(n.canManagePages){var u={value:"rename",onSelect:c,label:"Edit name"};l.push(u)}if(!1!==i.isDeletable&&n.canManagePages){var h={value:"delete",onSelect:a,label:"Delete",intent:"danger",confirmDelete:!0};l.push(h)}return l.length>0?(0,T.jsx)(bi.Z,{className:n.className,optionTree:l}):null}yi.displayName="WidgetContextMenu";var wi=yi,ki=t(84554),Zi=t(48713),Ci=t(99463),Ii=t(83921),Ni=t(87513),Pi=["ICON_WIDGET"],Ei=(0,d.memo)((function(n){var e,t=(0,p.v9)(Ni.H),i=fi.Z.getWidgetMethods(n.widgetType).IconCmp,o=i?(0,T.jsx)(i,{}):(0,T.jsx)(Ii.Z,{type:n.widgetType}),r=(0,h.TH)(),a=t.includes(n.widgetId),s=(0,p.v9)(Ce.SE),c=(0,zn.y)(Dn.Yx.license_gac_enabled),l=(0,jt.ZA)(c,s),u=function(n,e,t){var i=(0,p.v9)(Zi.E3),o=(0,p.v9)(Zi.XR),r=i.includes(n),a=i.length>1,s=(0,Ci.X)().navigateToWidget;return{navigateToWidget:(0,d.useCallback)((function(i){var o=i.metaKey||i.ctrlKey,a=i.shiftKey;s(n,e,t,He.Z.EntityExplorer,r,o,a)}),[n,e,t,r,s]),isWidgetSelected:r,multipleWidgetsSelected:a,lastSelectedWidget:o}}(n.widgetId,n.widgetType,n.pageId),g=u.isWidgetSelected,f=u.lastSelectedWidget,x=u.multipleWidgetsSelected,v=u.navigateToWidget,m=n.parentModalId,b=n.widgetId,j=n.widgetType,y=(0,d.useMemo)((function(){return"MODAL_WIDGET"===j?b:m}),[j,b,m]),w=(0,d.useCallback)((function(e){F.ZP.logEvent("ENTITY_EXPLORER_CLICK",{type:"WIDGETS",fromUrl:r.pathname,toUrl:"".concat((0,Oe.K3)({pageId:n.pageId,hash:b})),name:n.widgetName}),v(e)}),[r.pathname,n.pageId,b,n.widgetName]);if(Pi.indexOf(n.widgetType)>-1)return null;var k=(0,T.jsx)(wi,{canManagePages:l,className:Rt.dy.CONTEXT_MENU,pageId:n.pageId,widgetId:n.widgetId}),Z=!x,C=null!==n&&void 0!==n&&n.childWidgets?null===n||void 0===n||null===(e=n.childWidgets)||void 0===e?void 0:e.map((function(n){return n.widgetId})):[];return(0,T.jsx)(Rt.ZP,{action:w,active:g,canEditEntityName:l,className:"widget",contextMenu:Z&&k,entityId:n.widgetId,forceExpand:a,highlight:f===n.widgetId,icon:o,isDefaultExpanded:!!n.searchKeyword&&!!n.childWidgets||!!n.isDefaultExpanded,name:n.widgetName,searchKeyword:n.searchKeyword,showAddButton:l,step:n.step,updateEntityName:ki.GN,children:n.childWidgets&&n.childWidgets.length>0&&n.childWidgets.map((function(e){return(0,T.jsx)(Ei,{childWidgets:e.children,pageId:n.pageId,parentModalId:y,searchKeyword:n.searchKeyword,step:n.step+1,widgetId:e.widgetId,widgetName:e.widgetName,widgetType:e.type,widgetsInStep:C},e.widgetId)}))})}));Ei.displayName="WidgetEntity";var Si,Ti,_i,zi=Ei,Di=(0,v.ZP)(vt.k)(Si||(Si=(0,x.Z)(["\n  & .t--entity-item {\n    height: 32px;\n    & .t--entity-name {\n      padding-left: var(--ads-v2-spaces-3);\n    }\n  }\n"]))),Ai=function(n){var e,t=(0,p.v9)(qe.zj),i=(0,p.v9)(qe.sD),o=(0,p.v9)(Ce.SE),r=(0,zn.y)(Dn.Yx.license_gac_enabled),a=(0,jt.ZA)(r,o),s=(0,d.useMemo)((function(){var n;return(null===i||void 0===i||null===(n=i.children)||void 0===n?void 0:n.map((function(n){return n.widgetId})))||[]}),[null===i||void 0===i?void 0:i.children]),c=(0,d.useCallback)((function(){n.setFocusSearchInput(!0),He.C.push((0,Oe.K3)({}))}),[]),l=i&&i.children&&i.children.length>0;return(0,d.useEffect)((function(){n.setFocusSearchInput(!1)}),[]),(0,T.jsxs)(Di,{flexDirection:"column",gap:"spaces-3",overflow:"hidden",py:"spaces-3",children:[l?a?(0,T.jsx)(vt.k,{flexDirection:"column",px:"spaces-3",children:(0,T.jsx)(M.z,{className:"t--add-item",kind:"secondary",onClick:c,size:"sm",startIcon:"add-line",children:(0,O.tnH)(O.dsH.widget_add_button)})}):null:(0,T.jsx)(kt.u,{buttonClassName:"t--add-item",buttonText:(0,O.tnH)(O.dsH.widget_add_button),description:(0,O.tnH)(O.dsH.widget_blank_state_description),icon:"widgets-v3",onClick:a?c:void 0}),l?(0,T.jsx)(vt.k,{"data-testid":"t--ide-list",flex:"1",flexDirection:"column",overflowY:"auto",px:"spaces-3",children:null===i||void 0===i||null===(e=i.children)||void 0===e?void 0:e.map((function(n){return(0,T.jsx)(zi,{childWidgets:n.children,pageId:t,searchKeyword:"",step:1,widgetId:n.widgetId,widgetName:n.widgetName,widgetType:n.type,widgetsInStep:s},n.widgetId)}))}):null]})},Oi=t(3143),Hi=t.n(Oi),Ri=t(53272),Bi=t(23994),Li=t(60697),Mi=t.n(Li),Wi=t(96587),Gi=t(58850),Fi=t.n(Gi),Ui=t(52677),Ki=function(n){var e=n.showSeeLess?"See less":"See more",t=n.showSeeLess?"arrow-up-line":"down-arrow-2";return(0,T.jsx)(M.z,{className:"mt-4","data-testid":"t--explorer-ui-entity-tag-see-more",hidden:n.hidden,kind:"tertiary",onClick:function(){return n.toggleSeeMore()},size:"md",startIcon:t,children:e})},qi=t(69167),Ji=v.ZP.div(Ti||(Ti=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 8px 0px;\n"]))),Xi=v.ZP.div(_i||(_i=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 30px 0px;\n"]))),Vi=function(n){var e=d.useState(!1),t=(0,w.Z)(e,2),i=t[0],o=t[1],r=i?n.cards.length:Bi.Io[n.tag]||n.cards.length;return n.isLoading?(0,T.jsxs)(Ji,{children:[(0,T.jsx)(Ui.cV,{arrowPosition:"start",children:(0,T.jsx)(B.x,{className:"select-none",color:"var(--ads-v2-color-gray-600)",kind:"heading-xs",children:n.tag})}),(0,T.jsxs)(Xi,{children:[(0,T.jsx)(R.$,{size:"md"}),(0,T.jsx)(B.x,{className:"select-none",color:"var(--ads-v2-color-gray-600)",kind:"body-m",children:(0,O.tnH)(O.dsH.loading_building_blocks)})]})]},n.tag):(0,T.jsxs)(Ui.zF,{className:"pb-2 widget-tag-collapisble widget-tag-collapisble-".concat(n.tag.toLowerCase().replace(/ /g,"-")),isOpen:!0,children:[(0,T.jsx)(Ui.cV,{arrowPosition:"start",children:(0,T.jsx)(B.x,{className:"select-none",color:"var(--ads-v2-color-gray-600)",kind:"heading-xs",children:n.tag})}),(0,T.jsxs)(Ui.Fw,{children:[(0,T.jsx)("div",{className:"grid items-stretch grid-cols-3 gap-x-1 gap-y-1 justify-items-stretch","data-testid":"ui-entity-tag-group",children:n.tag===Bi.T7.SUGGESTED_WIDGETS?Fi()(n.cards,(function(n){return Bi.qX[n.type]})).map((function(n,e){return(0,T.jsx)(qi.ZP,{details:n},"".concat(n.key).concat(e))})):n.cards.slice(0,r).map((function(n,e){return(0,T.jsx)(qi.ZP,{details:n},"".concat(n.key).concat(e))}))}),(0,T.jsx)(Ki,{hidden:r>=n.cards.length&&!i,showSeeLess:i,toggleSeeMore:function(){o(!i)}})]})]},n.tag)},Yi=t(75016),Qi=t(61894),$i=t(56933);function no(n){var e,t=n.focusSearchInput,i=n.isActive,o=function(){var n=(0,zn.y)(Dn.Yx.release_drag_drop_building_blocks_enabled),e=(0,p.v9)($i.pJ),t=(0,p.I0)(),i=(0,p.v9)(Qi.JT)>0,o=(0,d.useState)({"Building Blocks":!!n&&!i}),r=(0,w.Z)(o,2),a=r[0],s=r[1],c=(0,p.v9)(Ce.bl),l=(0,p.v9)(Qi.Wc);(0,d.useEffect)((function(){!i&&n&&e?t((0,Yi.Tk)()):s((function(n){return(0,f.Z)((0,f.Z)({},n),{},{"Building Blocks":!1})}))}),[i,n,e]);var u=(0,d.useMemo)((function(){return[].concat((0,ui.Z)(c),(0,ui.Z)(e&&n?l:[]))}),[c,l,n,e]);return{groupedCards:(0,d.useMemo)((function(){return(0,Wi.FG)(u)}),[u]),cards:u,entityLoading:a}}(),r=o.cards,a=o.entityLoading,s=o.groupedCards,c=(0,d.useState)(s),l=(0,w.Z)(c,2),u=l[0],h=l[1],g=(0,d.useRef)(null),x=(0,d.useState)(!1),v=(0,w.Z)(x,2),m=v[0],b=v[1],j=(0,d.useState)(!1),y=(0,w.Z)(j,2),k=y[0],Z=y[1],C=(0,zn.y)(Dn.Yx.release_drag_drop_building_blocks_enabled),I=(0,d.useMemo)((function(){return m&&!k||C}),[m,k,C]),N=(0,d.useMemo)((function(){return r.filter((function(n){return n.isSearchWildcard})).map((function(n){return(0,f.Z)((0,f.Z)({},n),{},{tags:[Bi.T7.SUGGESTED_WIDGETS]})}))}),[r]),P=(0,d.useMemo)((function(){return new(Mi())(r,{keys:[{name:"displayName",weight:.8},{name:"searchTags",weight:.1},{name:"tags",weight:.1}],threshold:.2,distance:100})}),[r]),E=Hi()((function(n){""!==n&&F.ZP.logEvent("WIDGET_SEARCH",{value:n})}),1e3),S=Hi()((function(n){!function(n){if(b(!0),E(n),n.trim().length>0){var e=P.search(n);h((0,Wi.FG)(e.length>0?e:N)),Z(0===e.length)}else h(s),b(!1),Z(!1)}(n.toLowerCase())}),300);return(0,d.useEffect)((function(){h(s)}),[a[Bi.T7.BUILDING_BLOCKS]]),(0,d.useEffect)((function(){var n;t&&(null===(n=g.current)||void 0===n||n.focus())}),[t]),(0,T.jsxs)("div",{className:"flex flex-col t--widget-sidebar overflow-hidden ".concat(i?"":"hidden"),children:[(0,T.jsx)("div",{className:"sticky top-0 px-3 mt-0.5",children:(0,T.jsx)(W.M,{autoComplete:"off",id:Ri.AG,onChange:S,placeholder:(0,O.tnH)(O.tQ4),ref:g,type:"text"})}),(0,T.jsxs)(vt.k,{className:"flex-grow px-3 overflow-y-scroll flex-col","data-testid":"t--widget-sidebar-scrollable-wrapper",pt:"spaces-2",children:[k&&(0,T.jsxs)(B.x,{color:"#6A7585",kind:"body-m",renderAs:"p",style:{marginBottom:"15px"},children:[(0,O.tnH)(O.ZHt)," `",null===(e=g.current)||void 0===e?void 0:e.value,"`"]}),(0,T.jsx)("div",{children:Object.keys(u).map((function(n){var e=u[n];return null!==e&&void 0!==e&&e.length||a[n]?n===Bi.T7.SUGGESTED_WIDGETS&&I?null:(0,T.jsx)(Vi,{cards:e,isLoading:!!a[n],tag:n},n):null}))})]})]})}no.displayName="UIEntitySidebar";var eo,to,io,oo,ro,ao,so,co,lo,uo,po,ho=no,go=(0,v.ZP)(vt.k)(eo||(eo=(0,x.Z)(["\n  padding-right: var(--ads-v2-spaces-2);\n  background-color: var(--ads-v2-color-gray-50);\n"]))),fo=function(n){var e=(0,p.v9)(qe.zj),t=(0,d.useCallback)((function(){He.C.push((0,Oe.LC)({pageId:e}))}),[e]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(go,{alignItems:"center",borderBottom:"1px solid var(--ads-v2-color-border)","data-testid":"t--ide-add-pane",justifyContent:"space-between",px:"spaces-4",py:"spaces-2",children:[(0,T.jsx)(B.x,{color:"var(--ads-v2-color-fg)",kind:"heading-xs",children:(0,O.tnH)(O.dsH.widgets_create_tab_title)}),(0,T.jsx)(M.z,{"aria-label":"Close pane","data-testid":"t--add-pane-close-icon",isIconButton:!0,kind:"tertiary",onClick:t,size:"sm",startIcon:"close-line"})]}),(0,T.jsx)(vt.k,{flexDirection:"column",gap:"spaces-3",overflowX:"auto",children:(0,T.jsx)(ho,{focusSearchInput:n.focusSearchInput,isActive:!0})})]})},xo=function(){var n=(0,h.$B)().path,e=d.useState(!1),t=(0,w.Z)(e,2),i=t[0],o=t[1],r=(0,p.v9)(Ce.SE),a=(0,zn.y)(Dn.Yx.license_gac_enabled);return(0,jt.ZA)(a,r)?(0,T.jsx)(vt.k,{className:"ide-editor-left-pane__content-widgets",flexDirection:"column",gap:"spaces-3",overflow:"hidden",children:(0,T.jsxs)(h.rs,{children:[(0,T.jsx)(Qe.X5,{exact:!0,path:[$e.Pi,$e.ep,$e.zy,"".concat(n).concat($e.UC).concat($e.xn)],children:(0,T.jsx)(fo,{focusSearchInput:i})}),(0,T.jsx)(Qe.X5,{exact:!0,path:["".concat(n).concat($e.ov),"".concat(n).concat($e.UC)],children:(0,T.jsx)(Ai,{setFocusSearchInput:o})})]})}):(0,T.jsx)(Ai,{setFocusSearchInput:o})},vo=t(94539),mo=function(){var n=(0,h.$B)().path,e=(0,vo.RR)(n);return(0,T.jsx)(h.rs,{children:e.map((function(n){return(0,T.jsx)(Qe.X5,{component:n.component,exact:n.exact,path:n.path},n.key)}))})},bo=t(13407),jo=(0,v.ZP)(vt.k)(to||(to=(0,x.Z)(["\n  #editor-pane-segment-control {\n    max-width: 247px;\n  }\n\n  button {\n    flex-shrink: 0;\n    flex-basis: auto;\n  }\n"]))),yo=function(){var n=(0,zn.y)(Dn.Yx.release_global_add_pane_enabled),e=(0,p.v9)(qe.zj),t=(0,Re.q6)().segment,i=(0,Re.IH)().onSegmentChange;return(0,T.jsxs)(jo,{alignItems:"center",backgroundColor:"var(--ads-v2-colors-control-track-default-bg)",className:"ide-editor-left-pane__header",gap:"spaces-2",justifyContent:"space-between",padding:"spaces-2",children:[(0,T.jsx)(bo.s,{id:"editor-pane-segment-control",onChange:i,options:[{label:(0,O.tnH)(O.dsH.queries_tab),value:Me.rV.QUERIES},{label:(0,O.tnH)(O.dsH.js_tab),value:Me.rV.JS},{label:(0,O.tnH)(O.dsH.ui_tab),value:Me.rV.UI}],value:t}),n?(0,T.jsx)(M.z,{className:"t--add-editor-button",isIconButton:!0,kind:"primary",onClick:function(){He.C.push((0,Oe.hC)({pageId:e}))},size:"sm",startIcon:"add-line"}):null]})},wo=t(90756),ko=t(7549),Zo=t(82387),Co=t(20327),Io=(0,v.ZP)(vt.k)(io||(io=(0,x.Z)(["\n  position: relative;\n  height: 100%;\n  font-size: 12px;\n  color: var(--ads-v2-colors-text-default);\n  cursor: pointer;\n  gap: var(--ads-v2-spaces-2);\n  border-top: 1px solid transparent;\n  border-top-left-radius: var(--ads-v2-border-radius);\n  border-top-right-radius: var(--ads-v2-border-radius);\n  align-items: center;\n  justify-content: center;\n  padding: var(--ads-v2-spaces-3);\n  border-left: 1px solid transparent;\n  border-right: 1px solid transparent;\n  border-top: 2px solid transparent;\n\n  &.active {\n    background: var(--ads-v2-colors-control-field-default-bg);\n    border-top-color: var(--ads-v2-color-bg-brand);\n    border-left-color: var(--ads-v2-color-border-muted);\n    border-right-color: var(--ads-v2-color-border-muted);\n  }\n\n  & > .tab-close {\n    position: relative;\n    right: -2px;\n    visibility: hidden;\n  }\n\n  &:hover > .tab-close {\n    visibility: visible;\n  }\n\n  &.active > .tab-close {\n    visibility: visible;\n  }\n"]))),No=v.ZP.span(oo||(oo=(0,x.Z)(["\n  width: 100%;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]))),Po=v.ZP.div(ro||(ro=(0,x.Z)(["\n  height: 12px;\n  width: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  img {\n    width: 12px;\n  }\n"]))),Eo=function(n){var e=n.icon,t=n.isActive,i=n.onClick,o=n.onClose,r=n.title;return(0,T.jsxs)(Io,{className:Se()("editor-tab",t&&"active"),"data-testid":"t--ide-tab-".concat((0,Co.vJ)(r)),onClick:i,children:[e?(0,T.jsx)(Po,{children:e}):null,(0,T.jsx)(No,{children:r}),(0,T.jsx)(H.J,{className:"tab-close rounded-[4px] hover:bg-[var(--ads-v2-colors-action-tertiary-surface-hover-bg)] cursor-pointer p-[2px]","data-testid":"t--tab-close-btn",name:"close-line",onClick:o})]})},So=function(n){var e=n.currentEntity,t=n.isListActive,i=n.navigateToTab,o=n.onClose,r=n.tabs,a=(0,Re.q6)().segmentMode,s=function(n,e){n.stopPropagation(),o(e)};return(0,T.jsx)(T.Fragment,{children:r.map((function(n){return(0,T.jsx)(Eo,{icon:n.icon,isActive:e.id===n.key&&a!==Me.DL.Add&&!t,onClick:function(){return i(n)},onClose:function(e){return s(e,n.key)},title:n.title},n.key)}))})},To=function(n){return(0,T.jsx)(vt.k,{alignItems:"center",backgroundColor:"#FFFFFF",borderBottom:"1px solid var(--ads-v2-color-border-muted)",gap:"spaces-2",id:"ide-tabs-container",maxHeight:"32px",minHeight:"32px",px:"spaces-2",width:"100%",children:n.children})},_o=t(58678),zo=function(){var n=(0,Re.ah)().addClickHandler,e=(0,vo.cE)();return(0,Re.q6)().segmentMode===Me.DL.Add?null:e?(0,T.jsx)(vt.k,{px:"spaces-2",children:(0,T.jsx)(R.$,{size:"md"})}):(0,T.jsx)(M.z,{className:"!min-w-[24px]","data-testid":"t--ide-tabs-add-button",id:"tabs-add-toggle",isIconButton:!0,kind:"tertiary",onClick:n,size:"sm",startIcon:"add-line"})},Do=t(10682),Ao=t(28114),Oo=t(83998),Ho=function(){var n=Ao.ZP.getItem(Ao.dA.SPLITPANE_ANNOUNCEMENT)||"true",e=(0,d.useState)(JSON.parse(n)),t=(0,w.Z)(e,2),i=t[0],o=t[1],r=function(){o(!1),Ao.ZP.setItem(Ao.dA.SPLITPANE_ANNOUNCEMENT,"false")},a=function(){window.open("https://community.appsmith.com/content/blog/discover-ide-20-building-more-efficient-ide","_blank")};return(0,T.jsx)(Do.k,{banner:(0,Zt.V)("".concat(Oo.CF,"/splitpane-banner.svg")),description:(0,O.tnH)(O.qOZ.DESCRIPTION),footer:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(M.z,{"data-testid":"t--ide-close-announcement",kind:"primary",onClick:r,size:"md",children:"Try it out"}),(0,T.jsx)(M.z,{kind:"tertiary",onClick:a,size:"md",children:"Learn more"})]}),isBeta:!0,isOpen:i,title:(0,O.tnH)(O.qOZ.TITLE)})},Ro=t(16250),Bo=t(58411),Lo=t(85797),Mo=(0,v.ZP)(vt.k)(ao||(ao=(0,x.Z)(["\n  & .t--entity-item {\n    grid-template-columns: 0 auto 1fr auto auto auto auto auto;\n    height: 32px;\n\n    & .t--entity-name {\n      padding-left: var(--ads-v2-spaces-3);\n    }\n  }\n"]))),Wo=function(){var n=(0,Re.q6)().segment;return(0,T.jsx)(Mo,{bg:"var(--ads-v2-color-bg)",className:"absolute top-[78px]",h:"calc(100% - 78px)",w:"100%",zIndex:"10",children:n===Me.rV.QUERIES?(0,T.jsx)(Bo.Z,{}):(0,T.jsx)(Lo.Z,{})})},Go=t(77401),Fo=function(){var n=(0,p.I0)(),e=(0,p.v9)(Zo.lO),t=(0,d.useCallback)((function(){var t=e===Me.CK.SplitScreen?Me.CK.FullScreen:Me.CK.SplitScreen;F.ZP.logEvent("EDITOR_MODE_CHANGE",{to:t}),n((0,Go.z1)(t))}),[e,n]);return(0,T.jsx)(L.u,{content:e===Me.CK.SplitScreen?(0,O.tnH)(O.eFl):(0,O.tnH)(O.qBM),children:(0,T.jsx)(M.z,{className:"ml-auto !min-w-[24px]","data-testid":e===Me.CK.SplitScreen?"t--ide-maximize":"t--ide-minimize",id:e===Me.CK.SplitScreen?"editor-mode-maximize":"editor-mode-minimize",isIconButton:!0,kind:"tertiary",onClick:t,startIcon:e===Me.CK.SplitScreen?"maximize-v3":"minimize-v3"})})},Uo=function(n){var e=n.isListActive,t=n.newTabClickCallback,i=n.onClose,o=(0,Re.q6)(),r=o.segment,a=o.segmentMode;if(a!==Me.DL.Add)return null;var s=function(n){n.stopPropagation(),i()};return(0,T.jsx)(Eo,{isActive:a===Me.DL.Add&&!e,onClick:t,onClose:function(n){return s(n)},title:"New ".concat(r===Me.rV.JS?"JS":"Query")})},Ko=function(){var n=(0,d.useState)(!1),e=(0,w.Z)(n,2),t=e[0],i=e[1],o=(0,p.v9)(Zo.kS),r=(0,p.v9)(Zo.lO),a=(0,Re.q6)(),s=a.segment,c=a.segmentMode,l=(0,Re.ah)(),u=l.closeClickHandler,g=l.tabClickHandler,f=_o.z[s],x=(0,p.v9)(f.tabsSelector,p.wU),v=(0,h.TH)(),m=(0,Ro.rZ)(v.pathname);if((0,d.useEffect)((function(){i(!1)}),[m.id,m.entity,x,c]),(0,d.useEffect)((function(){0===x.length&&c!==Me.DL.Add&&i(!0)}),[x,c,m.entity]),(0,d.useEffect)((function(){var n=document.querySelector(".editor-tab.active");n&&n.scrollIntoView({inline:"nearest"})}),[x,c]),(0,d.useEffect)((function(){var n=document.querySelector('[data-testid="t--editor-tabs"] > [data-overlayscrollbars-viewport]');n&&n.scrollWidth>n.clientWidth?n.style.borderRight="1px solid var(--ads-v2-color-border)":n&&(n.style.borderRight="unset")}),[x]),!o)return null;if(s===Me.rV.UI)return null;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(To,{children:[r===Me.CK.SplitScreen&&(0,T.jsx)(wo.C,{icon:"hamburger",isSelected:t,onClick:function(){0===x.length&&c!==Me.DL.Add||i(!t)},size:"md"}),(0,T.jsx)(ko.x,{className:"h-[32px] top-[0.5px]","data-testid":"t--editor-tabs",options:{overflow:{x:"scroll",y:"hidden"}},size:"sm",children:(0,T.jsxs)(vt.k,{className:"items-center",gap:"spaces-2",height:"100%",children:[(0,T.jsx)(So,{currentEntity:m,isListActive:t,navigateToTab:function(n){i(!1),g(n)},onClose:u,tabs:x}),(0,T.jsx)(Uo,{isListActive:t,newTabClickCallback:function(){i(!1)},onClose:u})]})}),x.length>0?(0,T.jsx)(zo,{}):null,(0,T.jsx)(Fo,{})]}),t&&r===Me.CK.SplitScreen&&(0,T.jsx)(Wo,{}),r===Me.CK.SplitScreen&&(0,T.jsx)(Ho,{})]})},qo=t(38388),Jo=t(34026),Xo=[qo.oG,qo.yS,"".concat(Jo.HH,"/api"),qo.hg],Vo=[qo.gy],Yo=[qo.ov],Qo=function(){var n=(0,h.$B)().path,e=(0,p.v9)(Zo.lO);return(0,T.jsxs)(vt.k,{className:"relative",flexDirection:"column",height:"100%",overflow:"hidden",children:[(0,T.jsx)(yo,{}),e===Me.CK.SplitScreen?(0,T.jsx)(Ko,{}):null,(0,T.jsx)(vt.k,{className:"ide-editor-left-pane__content",flexDirection:"column",height:"100%",overflow:"hidden",width:"100%",children:(0,T.jsxs)(h.rs,{children:[(0,T.jsx)(Qe.X5,{component:gi,path:Xo.map((function(e){return"".concat(n).concat(e)}))}),(0,T.jsx)(Qe.X5,{component:mo,path:Vo.map((function(e){return"".concat(n).concat(e)}))}),(0,T.jsx)(Qe.X5,{component:xo,path:[qo.ep,qo.zy,qo.Pi].concat((0,ui.Z)(Yo.map((function(e){return"".concat(n).concat(e)}))))})]})})]})},$o=t(63571),nr=v.ZP.div(so||(so=(0,x.Z)(["\n  height: 62px;\n  width: 100%;\n  padding: var(--ads-v2-spaces-3);\n  border-radius: 4px;\n  gap: var(--ads-v2-spaces-3);\n  border: 1px solid var(--ads-v2-color-border);\n  display: flex;\n  align-items: flex-start;\n  flex-direction: column;\n  cursor: pointer;\n  &:hover {\n    background-color: var(--ads-v2-color-bg-subtle);\n  }\n"]))),er=v.ZP.div(co||(co=(0,x.Z)(["\n  .ads-v2-icon {\n    padding: var(--ads-v2-spaces-2);\n    background-color: ",";\n    border-radius: var(--ads-v2-spaces-1);\n  }\n  svg {\n    & path {\n      fill: ",";\n    }\n  }\n"])),(function(n){return n.bgColor}),(function(n){return n.color})),tr=function(n){return(0,T.jsxs)(nr,{onClick:n.onClick,children:[(0,T.jsx)(er,{bgColor:n.icon.bgColor,color:n.icon.color,children:(0,T.jsx)(H.J,{name:n.icon.name,size:"md"})}),(0,T.jsx)(B.x,{kind:"body-s",children:n.title})]})},ir=function(){var n=(0,p.v9)(Ce.zj),e=(0,p.I0)(),t=(0,d.useCallback)((function(){He.C.push((0,Oe.No)({pageId:n}))}),[n]),i=(0,d.useCallback)((function(){e((0,$o.nl)(n,"ADD_PANE"))}),[n]);return(0,T.jsxs)(vt.k,{flexDirection:"column",children:[(0,T.jsx)(dt,{rightIcon:(0,T.jsx)(M.z,{className:"t--close-add-editor-button",isIconButton:!0,kind:"tertiary",onClick:function(){return He.C.goBack()},size:"sm",startIcon:"close-line"}),title:"Add"}),(0,T.jsxs)(vt.k,{borderBottom:"1px solid var(--ads-v2-color-border)",flexDirection:"column",gap:"spaces-3",padding:"spaces-3",children:[(0,T.jsx)(B.x,{kind:"heading-xs",children:"Create new.."}),(0,T.jsxs)(vt.k,{gap:"spaces-3",justifyContent:"flex-start",children:[(0,T.jsx)(tr,{icon:{name:"queries-line",bgColor:"#DBEAFE",color:"#2D6BF4"},onClick:t,title:"Query/API"}),(0,T.jsx)(tr,{icon:{name:"braces-line",bgColor:"#FEF3C7",color:"#B47A01"},onClick:i,title:"JS Object"})]})]}),(0,T.jsxs)(vt.k,{display:"flex",flexDirection:"column",height:"calc(100vh - 340px)",children:[(0,T.jsx)(vt.k,{padding:"spaces-3",children:(0,T.jsx)(B.x,{kind:"heading-xs",children:"Drag & drop widgets"})}),(0,T.jsx)(ho,{isActive:!0})]})]})},or=t(52979),rr=t.n(or),ar={LIGHT:(0,v.iv)(lo||(lo=(0,x.Z)(['\n  code[class*="language-"],\n  pre[class*="language-"] {\n    color: black;\n    background: none;\n    text-shadow: 0 1px white;\n    font-family: ',';\n    font-size: 1em;\n    text-align: left;\n    white-space: pre;\n    word-spacing: normal;\n    word-break: break-word;\n    word-wrap: normal;\n    line-height: 1.5;\n\n    -moz-tab-size: 4;\n    -o-tab-size: 4;\n    tab-size: 4;\n\n    -webkit-hyphens: none;\n    -moz-hyphens: none;\n    -ms-hyphens: none;\n    hyphens: none;\n  }\n\n  pre[class*="language-"]::-moz-selection,\n  pre[class*="language-"] ::-moz-selection,\n  code[class*="language-"]::-moz-selection,\n  code[class*="language-"] ::-moz-selection {\n    text-shadow: none;\n    background: #b3d4fc;\n  }\n\n  pre[class*="language-"]::selection,\n  pre[class*="language-"] ::selection,\n  code[class*="language-"]::selection,\n  code[class*="language-"] ::selection {\n    text-shadow: none;\n    background: #b3d4fc;\n  }\n\n  @media print {\n    code[class*="language-"],\n    pre[class*="language-"] {\n      text-shadow: none;\n    }\n  }\n\n  /* Code blocks */\n  pre[class*="language-"] {\n    padding: 1em;\n    margin: 0.5em 0;\n    overflow: auto;\n  }\n\n  :not(pre) > code[class*="language-"],\n  pre[class*="language-"] {\n    background: #f5f2f0;\n  }\n\n  /* Inline code */\n  :not(pre) > code[class*="language-"] {\n    padding: 0.1em;\n    border-radius: 0.3em;\n    white-space: normal;\n  }\n\n  .token.comment,\n  .token.prolog,\n  .token.doctype,\n  .token.cdata {\n    color: slategray;\n  }\n\n  .token.punctuation {\n    color: var(--ads-v2-color-fg);\n  }\n\n  .token.namespace {\n    opacity: 0.7;\n  }\n\n  .token.property,\n  .token.tag,\n  .token.boolean,\n  .token.number,\n  .token.constant,\n  .token.symbol,\n  .token.deleted {\n    color: #905;\n  }\n\n  .token.selector,\n  .token.attr-name,\n  .token.string,\n  .token.char,\n  .token.builtin,\n  .token.inserted {\n    color: #690;\n  }\n\n  .token.operator,\n  .token.entity,\n  .token.url,\n  .language-css .token.string,\n  .style .token.string {\n    color: #9a6e3a;\n    background: hsla(0, 0%, 100%, 0.5);\n  }\n\n  .token.atrule,\n  .token.attr-value,\n  .token.keyword {\n    color: #07a;\n  }\n\n  .token.function,\n  .token.class-name {\n    color: #dd4a68;\n  }\n\n  .token.regex,\n  .token.important,\n  .token.variable {\n    color: #e90;\n  }\n\n  .token.important,\n  .token.bold {\n    font-weight: bold;\n  }\n  .token.italic {\n    font-style: italic;\n  }\n\n  .token.entity {\n    cursor: help;\n  }\n'])),(function(n){return n.theme.fonts.code})),DARK:(0,v.iv)(uo||(uo=(0,x.Z)(['\n  code[class*="language-"],\n  pre[class*="language-"] {\n    color: ',";\n    background: none;\n    font-family: ",';\n    font-size: 1em;\n    text-align: left;\n    text-shadow: 0 -0.1em 0.2em black;\n    white-space: pre;\n    word-spacing: normal;\n    word-break: normal;\n    word-wrap: normal;\n    line-height: 1.5;\n\n    -moz-tab-size: 4;\n    -o-tab-size: 4;\n    tab-size: 4;\n\n    -webkit-hyphens: none;\n    -moz-hyphens: none;\n    -ms-hyphens: none;\n    hyphens: none;\n  }\n\n  pre[class*="language-"],\n  :not(pre) > code[class*="language-"] {\n    background: hsl(0, 0%, 8%); /* #141414 */\n  }\n\n  /* Code blocks */\n  pre[class*="language-"] {\n    border-radius: 0.5em;\n    border: 0.3em solid hsl(0, 0%, 33%); /* #282A2B */\n    box-shadow: 1px 1px 0.5em black inset;\n    margin: 0.5em 0;\n    overflow: auto;\n    padding: 1em;\n  }\n\n  pre[class*="language-"]::-moz-selection {\n    /* Firefox */\n    background: hsl(200, 4%, 16%); /* #282A2B */\n  }\n\n  pre[class*="language-"]::selection {\n    /* Safari */\n    background: hsl(200, 4%, 16%); /* #282A2B */\n  }\n\n  /* Text Selection colour */\n  pre[class*="language-"]::-moz-selection,\n  pre[class*="language-"] ::-moz-selection,\n  code[class*="language-"]::-moz-selection,\n  code[class*="language-"] ::-moz-selection {\n    text-shadow: none;\n    background: hsla(0, 0%, 93%, 0.15); /* #EDEDED */\n  }\n\n  pre[class*="language-"]::selection,\n  pre[class*="language-"] ::selection,\n  code[class*="language-"]::selection,\n  code[class*="language-"] ::selection {\n    text-shadow: none;\n    background: hsla(0, 0%, 93%, 0.15); /* #EDEDED */\n  }\n\n  /* Inline code */\n  :not(pre) > code[class*="language-"] {\n    border-radius: 0.3em;\n    border: 0.13em solid hsl(0, 0%, 33%); /* #545454 */\n    box-shadow: 1px 1px 0.3em -0.1em black inset;\n    padding: 0.15em 0.2em 0.05em;\n    white-space: normal;\n  }\n\n  .token.comment,\n  .token.prolog,\n  .token.doctype,\n  .token.cdata {\n    color: hsl(0, 0%, 47%); /* #777777 */\n  }\n\n  .token.punctuation {\n    opacity: 0.7;\n  }\n\n  .token.namespace {\n    opacity: 0.7;\n  }\n\n  .token.tag,\n  .token.boolean,\n  .token.number,\n  .token.deleted {\n    color: hsl(14, 58%, 55%); /* #CF6A4C */\n  }\n\n  .token.keyword,\n  .token.property,\n  .token.selector,\n  .token.constant,\n  .token.symbol,\n  .token.builtin {\n    color: rgb(3, 179, 101);\n  }\n\n  .token.attr-name,\n  .token.attr-value,\n  .token.string,\n  .token.char,\n  .token.operator,\n  .token.entity,\n  .token.url,\n  .language-css .token.string,\n  .style .token.string,\n  .token.variable,\n  .token.inserted {\n    color: hsl(76, 21%, 52%); /* #8F9D6A */\n  }\n\n  .token.atrule {\n    color: hsl(218, 22%, 55%); /* #7587A6 */\n  }\n\n  .token.regex,\n  .token.important {\n    color: hsl(42, 75%, 65%); /* #E9C062 */\n  }\n\n  .token.important,\n  .token.bold {\n    font-weight: bold;\n  }\n  .token.italic {\n    font-style: italic;\n  }\n\n  .token.entity {\n    cursor: help;\n  }\n\n  pre[data-line] {\n    padding: 1em 0 1em 3em;\n    position: relative;\n  }\n\n  /* Markup */\n  .language-markup .token.tag,\n  .language-markup .token.attr-name,\n  .language-markup .token.punctuation {\n    color: hsl(33, 33%, 52%); /* #AC885B */\n  }\n\n  /* Make the tokens sit above the line highlight so the colours don\'t look faded. */\n  .token {\n    position: relative;\n    z-index: 1;\n  }\n\n  .line-highlight {\n    background: hsla(0, 0%, 33%, 0.25); /* #545454 */\n    background: linear-gradient(\n      to right,\n      hsla(0, 0%, 33%, 0.1) 70%,\n      hsla(0, 0%, 33%, 0)\n    ); /* #545454 */\n    border-bottom: 1px dashed hsl(0, 0%, 33%); /* #545454 */\n    border-top: 1px dashed hsl(0, 0%, 33%); /* #545454 */\n    left: 0;\n    line-height: inherit;\n    margin-top: 0.75em; /* Same as .prism\u2019s padding-top */\n    padding: inherit 0;\n    pointer-events: none;\n    position: absolute;\n    right: 0;\n    white-space: pre;\n    z-index: 0;\n  }\n\n  .line-highlight:before,\n  .line-highlight[data-end]:after {\n    background-color: hsl(215, 15%, 59%); /* #8794A6 */\n    border-radius: 999px;\n    box-shadow: 0 1px white;\n    color: hsl(24, 20%, 95%); /* #F5F2F0 */\n    content: attr(data-start);\n    font: bold 65%/1.5 sans-serif;\n    left: 0.6em;\n    min-width: 1em;\n    padding: 0 0.5em;\n    position: absolute;\n    text-align: center;\n    text-shadow: none;\n    top: 0.4em;\n    vertical-align: 0.3em;\n  }\n\n  .line-highlight[data-end]:after {\n    bottom: 0.4em;\n    content: attr(data-end);\n    top: auto;\n  }\n'])),Sn.w.CHARCOAL,(function(n){return n.theme.fonts.code}))},sr=t(56679);rr().languages["appsmith-binding"]={punctuation:{pattern:/^{{|}}$/},property:{pattern:/(\.\w+)/}};var cr,lr,dr,ur=v.ZP.div(po||(po=(0,x.Z)(["\n  ",";\n  padding: 0 0px;\n\n  code.language-appsmith-binding {\n    color: ",";\n  }\n  .token.punctuation {\n    color: hsl(222, 70%, 77%);\n  }\n  .token.property {\n    color: hsl(30, 77%, 40%);\n  }\n"])),(function(n){return n.skin===sr.Z7.DARK?ar.DARK:ar.LIGHT}),(function(n){return n.theme.colors.bindingText})),pr=function(n){return n.JAVASCRIPT="language-javascript",n.APPSMITH="language-appsmith-binding",n}({}),hr=(0,d.forwardRef)((function(n,e){var t=(0,d.useRef)(null);(0,d.useEffect)((function(){t.current&&rr().highlightElement(t.current)}),[n.codeText,n.language,t]);var i=n.language||pr.JAVASCRIPT;return(0,T.jsx)(ur,{className:n.className,onClick:n.onClick,ref:e,skin:n.skin,children:!n.multiline&&(0,T.jsx)("code",{className:i,ref:t,children:n.codeText})})})),gr=t(75135),fr=t(71098),xr=t(82406),vr=v.ZP.div(cr||(cr=(0,x.Z)(["\n  &&&& {\n    padding: ","px;\n\n    position: relative;\n    code {\n      border: none;\n      box-shadow: none;\n      padding: 5px 0em;\n      background: none;\n    }\n    & div.clipboard-message {\n      position: absolute;\n      left: 0;\n      height: 100%;\n      top: 0;\n      width: 100%;\n      font-size: 12px;\n      /* color: white; */\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      text-align: center;\n      z-index: 2;\n      border-radius: var(--ads-v2-border-radius);\n      &.success {\n        background: var(--ads-v2-color-bg-success);\n      }\n      &.error {\n        background: var(--ads-v2-color-bg-error);\n      }\n    }\n\n    & {\n      code."," {\n        display: flex;\n        white-space: nowrap;\n        background: transparent;\n        font-size: 11px;\n        overflow-wrap: break-word;\n        text-shadow: none;\n        padding-left: ","px;\n        padding-right: 20px;\n        & span.token.property {\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n        }\n      }\n    }\n\n    .type-text {\n      font-size: 12px;\n    }\n  }\n"])),(function(n){return n.theme.spaces[0]}),pr.APPSMITH,(function(n){return n.theme.spaces[3]})),mr=v.ZP.div(lr||(lr=(0,x.Z)(['\n  cursor: pointer;\n  position: relative;\n  padding: 0 8px;\n  .copy-icon {\n    /* margin-right: 5px; */\n    opacity: 0;\n  }\n  &:hover {\n    &:before {\n      content: "";\n      background: var(--ads-v2-color-bg-subtle);\n      opacity: 1;\n      position: absolute;\n      left: 0;\n      height: 100%;\n      top: 0;\n      width: 100%;\n      z-index: -1;\n      border-radius: var(--ads-v2-border-radius);\n    }\n    .copy-icon {\n      opacity: 1;\n    }\n  }\n']))),br=(0,v.ZP)(hr)(dr||(dr=(0,x.Z)(["\n  padding-top: 4px;\n  padding-bottom: 4px;\n"]))),jr=(0,d.memo)((function(n){var e=(0,d.useRef)(null),t=ni(e),i=d.useState(0===n.index),o=(0,w.Z)(i,2),r=o[0],a=o[1],s="{{".concat(n.entityName,".").concat(n.propertyName,"}}"),c="string"===typeof n.value,l=function(){F.ZP.logEvent("BINDING_COPIED",{entityType:n.entityType,codeText:s}),t(s)},u=(0,d.useCallback)((function(n){n.stopPropagation(),a(!r)}),[r]);return(0,T.jsxs)(vr,{className:"".concat(Rt.dy.PROPERTY),children:[(0,T.jsx)(mr,{children:(0,T.jsxs)("div",{className:"flex flex-grow items-center",children:[(0,T.jsx)(xr.Z,{className:"".concat(Rt.dy.COLLAPSE_TOGGLE),disabled:!1,isOpen:r,isVisible:!0,onClick:u}),(0,T.jsx)(br,{className:"binding flex-1",codeText:s,language:pr.APPSMITH,onClick:l,ref:e,skin:sr.Z7.LIGHT}),(0,T.jsx)(L.u,{content:(0,O.tnH)(O.wah),placement:"right",children:(0,T.jsx)(H.J,{className:"copy-icon",name:"duplicate",onClick:l,size:"md"})})]})}),(0,T.jsx)(S.UO,{className:"px-4",isOpen:r,children:c?(0,T.jsx)("span",{className:"type-text",children:n.value}):(0,T.jsx)(gr.Wu,{evaluatedValue:n.value,hideLabel:!0,theme:fr.bY.LIGHT})})]})})),yr=t(26372),wr=t(92171),kr=t(66071),Zr=t.n(kr),Cr=t(36571),Ir=t(45957),Nr=t(23312),Pr=t(45906),Er=function(n){return n.run="run",n.clear="clear",n.isLoading="isLoading",n.data="data",n}(Er||{});var Sr,Tr=(0,g.Z)((0,g.Z)((0,g.Z)({},Cr.lU.JSACTION,(function(n,e,t,i){var o=function(n,e){var t={},i=Nr.Z.getConfigTree()[e],o=null===i||void 0===i?void 0:i.variables;if(o&&o.length>0)for(var r=0;r<o.length;r++){var a=o[r];t[a]=n[a]}var s=Pr.ZP.getState().entities.jsActions.find((function(n){return n.config.name===e})),c=null===s||void 0===s?void 0:s.config.actions;if(c&&c.length>0)for(var l=0;l<s.config.actions.length;l++){var d,u=s.config.actions[l];t[u.name+"()"]="Function",t[u.name+".data"]=null===s||void 0===s||null===(d=s.data)||void 0===d?void 0:d[u.id]}return t}(n,i);return o&&(e=Object.keys(o).map((function(n){var e=o[n];return{propertyName:n,entityName:i,value:e,entityType:t}}))),e})),Cr.lU.ACTION,(function(n,e,t,i){var o=Ir.EJ.ACTION(n);return Object.keys(o||{}).filter((function(n){return-1===n.indexOf("!")})).map((function(e){var o=n[e];return e!==Er.run&&e!==Er.clear||(o="Function",e+="()"),{propertyName:e,entityName:i,value:o,entityType:t}}))})),Cr.lU.WIDGET,(function(n,e,t){var i,o=n,r=o.type,a=fi.Z.getAutocompleteDefinitions(r);if(!a)return e;Zr()(a)&&(a=a(o));var s=null===(i=fi.Z.getWidgetSetterConfig(r))||void 0===i?void 0:i.__setters;return e=Object.keys(a).filter((function(n){return-1===n.indexOf("!")})).filter((function(n){return s&&!s[n]})).map((function(n){return{propertyName:n,entityName:o.widgetName,value:o[n],entityType:t}}))})),_r=v.ZP.div(Sr||(Sr=(0,x.Z)(["\n  min-width: 220px;\n  max-width: 400px;\n  max-height: ","px;\n  overflow-y: hidden;\n  border-radius: var(--ads-v2-border-radius);\n  border: 1px solid var(--ads-v2-color-border-muted);\n  box-shadow: var(--ads-v2-shadow-popovers);\n"])),300),zr=function(n){return n.ui.explorer.entityInfo};var Dr,Ar=wr.zH((function(){var n=d.createRef(),e=(0,p.I0)(),t=(0,p.v9)(zr),i=t.entityId,o=t.entityName,r=t.entityType,a=t.show,s=(0,p.v9)((function(n){return o&&n.evaluations.tree[o]})),c=(0,p.v9)((function(n){return n.ui.widgetDragResize.lastSelectedWidget}));yr.Z.startTracking(yr.W.ENTITY_EXPLORER_ENTITY),(0,d.useEffect)((function(){yr.Z.stopTracking(yr.W.ENTITY_EXPLORER_ENTITY)})),(0,d.useEffect)((function(){return document.addEventListener("click",u),function(){return document.removeEventListener("click",u)}}),[a]),(0,d.useEffect)((function(){i&&F.ZP.logEvent("SHOW_BINDINGS_TRIGGERED",{entityName:o,entityType:r})}),[i]),(0,d.useEffect)((function(){if(c&&a){var n=Pr.ZP.getState().entities.canvasWidgets[c];e(n?{type:vi.Ep.SET_ENTITY_INFO,payload:{show:!0,entityId:c,entityType:mi.lU.WIDGET,entityName:n.widgetName}}:{type:vi.Ep.SET_ENTITY_INFO,payload:{show:!1}})}}),[c]);var l=(0,d.useCallback)((function(n){n.stopPropagation(),e({type:vi.Ep.SET_ENTITY_INFO,payload:{show:!1}})}),[]),u=function(n){n.stopPropagation();var e=document.getElementById("entity-properties-container"),t=n.composedPath();null!==t&&void 0!==t&&t.includes(e)||l(n)};if((0,d.useEffect)((function(){var e=document.getElementById("entity-".concat(i)),t=null===e||void 0===e?void 0:e.getBoundingClientRect();if(n.current&&t){var o,r=null===t||void 0===t?void 0:t.top;r+300>window.innerHeight-34&&(o=window.innerHeight-(null===t||void 0===t?void 0:t.bottom)-36),o?(n.current.style.bottom=o+"px",n.current.style.top="unset"):(n.current.style.top=r-36+"px",n.current.style.bottom="unset"),n.current.style.left="100%"}}),[i]),!s||!o||!r)return null;var h=function(n){var e=n.entity,t=n.entityName,i=n.entityType,o=[];return i in Tr&&(o=Tr[i](e,o,i,t)),o}({entity:s,entityName:o,entityType:r});return(0,T.jsx)(_r,{className:Se()((0,g.Z)((0,g.Z)({"absolute bp3-popover overflow-y-auto overflow-x-hidden bg-white pb-2 flex flex-col justify-center z-10 delay-150 transition-all":!0},Rt.dy.CONTEXT_MENU_CONTENT,!0),"-left-100",!a)),id:"entity-properties-container",ref:n,children:(0,T.jsxs)("div",{className:"h-auto overflow-y-auto overflow-x-hidden relative",children:[(0,T.jsxs)("div",{className:"sticky top-0 text-sm px-3 z-5 pt-2 pb-1 font-medium flex flex-row items-center justify-between w-[100%] bg-white",children:["Bindings",(0,T.jsx)(M.z,{className:"t--entity-property-close",isIconButton:!0,kind:"tertiary",onClick:l,size:"sm",startIcon:"close-control"})]}),h.map((function(n,e){return(0,T.jsx)(jr,(0,f.Z)((0,f.Z)({},n),{},{index:e}),n.propertyName)}))]})})})),Or=function(n){var e=n.match.path,t=(0,Re.Zq)();return(0,T.jsxs)(vt.k,{className:"ide-editor-left-pane",flexDirection:"column",gap:"spacing-2",height:"100%",overflow:"hidden",width:t,children:[(0,T.jsx)(Ar,{}),(0,T.jsxs)(h.rs,{children:[(0,T.jsx)(Qe.X5,{component:ir,exact:!0,path:"".concat(e).concat($e.xn)}),(0,T.jsx)(Qe.X5,{component:Qo})]})]})},Hr=v.ZP.div(Dr||(Dr=(0,x.Z)(["\n  height: 100%;\n  border-right: ",";\n  background: var(--ads-v2-color-bg);\n"])),(function(n){var e=n.showRightBorder;return void 0===e||e?"1px solid var(--ads-v2-color-border)":"none"})),Rr=function(){var n=(0,h.$B)().path;return(0,T.jsx)(Hr,{children:(0,T.jsxs)(h.rs,{children:[(0,T.jsx)(Qe.X5,{component:Et,exact:!0,path:["".concat(n).concat($e.Nn),"".concat(n).concat($e.eq),"".concat(n).concat($e.Ze),"".concat(n).concat($e.Y7)]}),(0,T.jsx)(Qe.X5,{component:di,exact:!0,path:"".concat(n).concat($e.n3)}),(0,T.jsx)(Qe.X5,{component:ht,exact:!0,path:"".concat(n).concat($e.X_)}),(0,T.jsx)(Qe.X5,{component:Or})]})})},Br=t(59703),Lr=t(9527),Mr=t(45929),Wr=function(n){var e=(0,p.v9)(Mr.O9),t=(0,Re.ZE)()===Me.yy.SETTINGS&&e;return(0,T.jsx)(Lr.Z,{renderMode:Bi.PD.CANVAS,children:(0,T.jsx)("div",{className:"relative flex flex-row h-full w-full overflow-hidden",children:(0,T.jsx)("div",{className:Se()({"relative flex flex-col w-full overflow-hidden":!0,"m-8 border border-gray-200":t}),children:n.children})})})};var Gr,Fr=function(){return null},Ur=t(34210),Kr=t(69198),qr=t(57632),Jr=t(1045),Xr=t(76182),Vr=t(32393),Yr=v.ZP.div(Gr||(Gr=(0,x.Z)(["\n  margin: ",";\n"])),(function(n){return"".concat(n.theme.spaces[7],"px ").concat(n.theme.spaces[16],"px 0px ").concat(n.theme.spaces[13],"px")}));function Qr(){var n=(0,p.v9)(Kr.ts),e=(null===n||void 0===n?void 0:n.isSuperUser)||!1,t=(0,p.v9)(qr.$k),i=(0,p.v9)(qr.BL),o=(0,p.v9)(qr.SC),r=(0,p.I0)(),a=function(){r((0,Vr.g)(!1)),(0,Jr.B2)(!0)};(0,d.useEffect)((function(){i&&F.ZP.logEvent("DISPLAY_TELEMETRY_CALLOUT")}),[i]);var s=function(n){n===$e.fD?F.ZP.logEvent("VISIT_ADMIN_SETTINGS_TELEMETRY_CALLOUT"):n===Ur.eg&&F.ZP.logEvent("LEARN_MORE_TELEMETRY_CALLOUT"),window.open(n,"_blank")},c=function(){var n=(0,b.Z)((0,m.Z)().mark((function n(){var i;return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(i=!(0,Zt.q)()&&o&&e&&!t)){n.next=16;break}return n.next=4,(0,Jr.AR)();case 4:if(!n.sent){n.next=9;break}r((0,Vr.g)(!1)),n.next=14;break;case 9:return r((0,Xr.Lh)()),r((0,Vr.g)(!0)),setTimeout((function(){a()}),Ur.VX),n.next=14,(0,Jr.B2)(!0);case 14:n.next=17;break;case 16:r((0,Vr.g)(i));case 17:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,d.useEffect)((function(){c()}),[]),i?(0,T.jsx)(Yr,{className:"z-[1] self-center",children:(0,T.jsx)(St.U,{isClosable:!0,kind:"info",links:[{children:(0,O.tnH)(O.AIM),onClick:function(){return s($e.fD)}},{children:(0,O.tnH)(O.gPB),onClick:function(){return s(Ur.eg)}}],onClose:a,children:(0,O.tnH)(O.oNQ)})}):null}var $r,na,ea,ta,ia,oa,ra=function(){var n=Fr();return(0,T.jsxs)(T.Fragment,{children:[n,(0,T.jsx)(Qr,{})]})},aa=t(85251),sa=(0,d.forwardRef)((function(n,e){var t=(0,p.v9)(Mr.O9),i=(0,Re.ZE)()===Me.yy.SETTINGS&&t,o=(0,p.v9)(Ce.ew);return(0,T.jsx)("div",{className:Se()({"absolute top-0 z-3 w-full transform bg-gray-50 ease-in t--navigation-preview":!0,"translate-y-0 ease-in transition duration-400":o||i,"-translate-y-full duration-0":!o||!i,"select-none pointer-events-none":i}),ref:e,children:(0,T.jsx)(aa.W,{})})})),ca=(0,d.forwardRef)((function(n,e){var t=(0,p.v9)(Ce.ew),i=(0,p.v9)(Mr.O9),o=(0,Re.ZE)()===Me.yy.SETTINGS&&i;return t||o?(0,T.jsx)(sa,{ref:e}):null})),la=t(32003),da=(0,t(4885).P1)((function(n){return n.ui.crudInfoModal}),(function(n){return{crudInfoModalOpen:n.crudInfoModalOpen,generateCRUDSuccessInfo:n.generateCRUDSuccessInfo}})),ua=t(95505),pa=function(){return(0,Zt.V)("".concat(Oo.CF,"/crud/crud_info_thumbnail.png"))},ha=t(35138),ga=t(11836),fa=v.ZP.div($r||($r=(0,x.Z)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n"]))),xa=v.ZP.div(na||(na=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-height: 700px;\n  min-height: 400px;\n\n  .info-subtitle {\n    text-align: center;\n  }\n"]))),va=v.ZP.div(ea||(ea=(0,x.Z)(["\n  padding: 40px 0px 10px;\n  display: flex;\n  flex: 1;\n  justify-content: center;\n  & "," {\n    width: 100%;\n    height: 284px;\n    width: 526px;\n  }\n  .progressive-image--thumb,\n  progressive-image--full {\n    object-fit: contain;\n  }\n\n  .progressive-image--thumb {\n    filter: blur(20px);\n    opacity: 0.3;\n    transition: visibility 0ms ease 100ms;\n  }\n"])),ha.W),ma=v.ZP.div(ta||(ta=(0,x.Z)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"]))),ba=v.ZP.span(ia||(ia=(0,x.Z)(["\n  color: var(--ads-v2-color-fg);\n"]))),ja=(0,v.ZP)(B.x)(oa||(oa=(0,x.Z)(["\n  color: var(--ads-v2-color-fg-emphasis);\n"]))),ya="show_success_gif",wa="show_info";function ka(n){var e=n.successImageUrl,t=n.successMessage;return(0,T.jsxs)(fa,{children:[(0,T.jsx)(ba,{className:"info-subtitle",dangerouslySetInnerHTML:{__html:t}}),(0,T.jsx)(va,{children:(0,T.jsx)(ha.Z,{alt:"template information",imageSource:(0,Zt.V)(e),thumbnailSource:pa()})})]})}var Za,Ca=(0,p.$j)((function(n){return{crudInfoModalOpen:da(n).crudInfoModalOpen,generateCRUDSuccessInfo:da(n).generateCRUDSuccessInfo}}))((function(n){var e=n.crudInfoModalOpen,t=n.generateCRUDSuccessInfo,i=(0,p.I0)(),o=(0,d.useState)(ya),r=(0,w.Z)(o,2),a=r[0],s=r[1],c=function(){F.ZP.logEvent("CLOSE_GEN_PAGE_INFO_MODAL"),i((0,ua.M)({open:!1}))},l=t&&t.successMessage||(0,O.tnH)(O.RvD),u=t&&t.successImageUrl||(0,Zt.V)("".concat(Oo.CF,"/crud/working-flow-chart.png"));return(0,d.useEffect)((function(){var n=setTimeout((function(){s(wa)}),3e3);return function(){n&&clearTimeout(n)}}),[s]),(0,T.jsx)(la.u_,{onOpenChange:c,open:e,children:(0,T.jsxs)(la.hz,{style:{width:"640px"},children:[(0,T.jsx)(la.fe,{children:(0,T.jsxs)(xa,{children:[a===ya?(0,T.jsxs)(ma,{children:[(0,T.jsx)(ga.Z,{height:"80px",width:"80px"}),(0,T.jsxs)(ja,{kind:"heading-m",children:[" ",(0,O.tnH)(O.u7b)]})]}):null,a===wa?(0,T.jsx)(ka,{successImageUrl:u,successMessage:l}):null]})}),(0,T.jsx)(la.mz,{children:(0,T.jsx)(M.z,{kind:"primary",onClick:c,size:"md",children:"Got it"})})]})})})),Ia=t(80868),Na=t(64395),Pa=t(6191),Ea=t(64225),Sa=function(n){var e=function(){var n=(0,p.v9)((function(n){return n.ui.widgetDragResize.isResizing})),e=(0,p.v9)($i.Wo)===Na.f.FIXED,t=(0,p.v9)((function(n){return n.ui.widgetDragResize.isDragging})),i=(0,p.v9)((function(n){return n.ui.canvasSelection.isDraggingForSelection})),o=(0,p.v9)((function(n){return n.ui.widgetDragResize.isAutoCanvasResizing})),r=(0,p.v9)((function(n){return n.ui.widgetDragResize.isDraggingDisabled})),a=!!n||!!t||!!i,s=(0,p.v9)(Ce.Ko),c=(0,p.v9)(Ce.ew),l=(0,p.v9)(Mr.O9),d=(0,p.v9)(Zi.X0);return e&&!o&&!a&&!r&&!s&&!c&&!l&&!d}(),t=(0,Pa.N)().isAutoHeightWithLimitsChanging,i=(0,p.I0)(),o=(0,p.v9)(Ce.ew),r=(0,d.useCallback)((function(n){var o,r="CANVAS"===(null===(o=n.target)||void 0===o?void 0:o.nodeName);!e||t||r||i((0,Ia.Zw)(!1))}),[e,t]),a=(0,d.useCallback)((function(n){if(n.preventDefault(),n.stopPropagation(),e){var t={x:n.clientX,y:n.clientY};i((0,Ia.Zw)(!0,t))}}),[e]),s=(0,p.v9)(Ea.m_),c="".concat(s.properties.fontFamily.appFont,", sans-serif"),l=(0,p.v9)(Ce.vm),u=(0,d.useMemo)((function(){return{fontFamily:c,contain:l?"content":"strict"}}),[c,l]);return(0,T.jsx)("div",{className:"relative flex flex-row h-full w-full overflow-hidden","data-testid":"t--widgets-editor",draggable:!o,id:"widgets-editor",onClick:r,onDragStart:a,style:u,children:n.children})},Ta=t(36808),_a=t(79920),za=t(62618),Da=t(31019),Aa=t(18405),Oa=function(n){var e,t,i=(0,p.v9)(Ce.ew),o=(0,p.v9)(Ce.kc),r=(0,p.v9)(y.Gu),a=(0,p.v9)(y.VJ),s=(0,p.v9)(Mr.O9),c=(0,Re.ZE)()===Me.yy.SETTINGS&&s,l=(0,p.v9)(qe.kZ)===_a.p.PUBLISHED,d=(0,za.p3)(),u=i||c,h=(0,p.v9)(Aa.l3);return(0,T.jsx)(Ta.Q,{className:Se()({"relative flex flex-row w-full justify-center":!0,"select-none pointer-events-none":c}),hasPinnedSidebar:!(!u||d)&&((null===o||void 0===o||null===(e=o.applicationDetail)||void 0===e||null===(t=e.navigationSetting)||void 0===t?void 0:t.orientation)===et.PD.ORIENTATION.SIDE&&r),id:Da.Dw,isPreview:i,isPublished:l,sidebarWidth:u?a:0,style:h?{transform:"scale(1)"}:{},children:n.children})},Ha=t(74532),Ra=t(8555),Ba=t(12901),La=t(56749),Ma=t(8286),Wa=t(82189),Ga=v.ZP.div(Za||(Za=(0,x.Z)(["\n  z-index: calc(var(--on-canvas-ui-z-index) + 1);\n"])));function Fa(){var n=(0,d.useState)(!1),e=(0,w.Z)(n,2),t=e[0],i=e[1],o=(0,p.v9)((function(n){return n.ui.layoutConversion.conversionState})),r=o===Ha.Bz.COMPLETED_SUCCESS||o===Ha.Bz.RESTORING_SNAPSHOT_SPINNER,a=(0,p.v9)(Wa.jh),s=(0,Ma.ZI)(a),c=(0,Ra.p)(),l=(0,p.I0)(),u=o===Ha.Bz.DISCARD_SNAPSHOT?(0,O.tnH)(O.VmO):(0,O.tnH)(O.m0_),h=function(){i(!1),setTimeout((function(){l((0,La.hd)())}),0)},g=function(n){l((0,La.m6)(n)),i(!0)};return(0,T.jsxs)(Ga,{className:"absolute top-0 w-full",children:[(0,T.jsx)(St.U,{kind:"warning",links:[{children:(0,O.tnH)(O.$df),onClick:function(){g(Ha.Bz.SNAPSHOT_START)}},{children:(0,O.tnH)(O.rzF),onClick:function(){g(Ha.Bz.DISCARD_SNAPSHOT)}}],children:(0,T.jsxs)("div",{className:"flex flex-col",children:[(0,T.jsx)(B.x,{kind:"heading-s",renderAs:"h4",children:s?(0,O.tnH)(O.w1Z,s.timeTillExpiration):""}),(0,T.jsx)(B.x,{kind:"body-m",renderAs:"p",children:(0,O.tnH)(O.Olt)})]})}),(0,T.jsx)(la.u_,{onOpenChange:function(n){n||h()},open:t,children:(0,T.jsxs)(la.hz,{onEscapeKeyDown:function(n){return n.preventDefault()},onInteractOutside:function(n){return n.preventDefault()},style:{width:"640px"},children:[(0,T.jsx)(la.xB,{isCloseButtonVisible:!r,children:u}),(0,T.jsx)(la.fe,{children:(0,T.jsx)(Ba.C,(0,f.Z)({closeModal:h},c))})]})})]})}Fa.displayName="SnapShotBannerCTA";var Ua,Ka,qa,Ja=wr.zH(Fa),Xa=t(24805),Va=t(46704),Ya=t(83973),Qa=t(8960),$a=t.n(Qa),ns=t(8303),es=t(11740),ts=t(5886),is=t.n(ts),os=t(93721),rs=t(75197).Z,as=t(95620),ss=t(50673),cs=function(n){var e=(0,p.v9)(Zi.X0),t=(0,Re.ZE)(),i=(0,d.useState)(!1),o=(0,w.Z)(i,2),r=o[0],a=o[1];return(0,d.useEffect)((function(){(0,Jr.nd)().then((function(n){n<2&&a(!0)})).catch((function(){a(!0)}))}),[e]),e?t!==Me.yy.EDITOR?n.children:(0,T.jsx)(L.u,{content:(0,O.tnH)(O.lc5,"".concat((0,q.fQ)())),isDisabled:!r,placement:"bottom",showArrow:!1,trigger:"hover",children:n.children}):n.children},ls=t(31962),ds=(0,v.ZP)(as.f6)(Ua||(Ua=(0,x.Z)(["\n  min-height: 100%;\n  display: flex;\n"]))),us=v.ZP.section(Ka||(Ka=(0,x.Z)(["\n  flex: 1;\n  background: ",";\n  width: ",";\n"])),(function(n){return n.background}),(function(n){var e=n.$enableMainCanvasResizer,t=n.width;return e?"100%":"".concat(t,"px")})),ps=function(n){var e,t=n.canvasWidth,i=(0,p.v9)(Ce.ew),o=(0,p.v9)(Mr.O9),r=(0,p.v9)(Ea.m_),a=(0,p.v9)(Aa.l3),s=(0,p.v9)(y.pk),c={borderRadius:s.borderRadius,seedColor:s.accentColor,colorMode:s.colorMode.toLowerCase(),fontFamily:s.fontFamily,userSizing:s.sizing,userDensity:s.density,iconStyle:s.iconStyle.toLowerCase()},l=(0,as.Fg)(a?c:{}).theme,u=(0,p.I0)(),h=(0,d.useCallback)((function(){u((0,ls.qh)())}),[u]);e=i||o?"initial":r.properties.colors.backgroundColor;var g=rs(),f=n.enableMainCanvasResizer?"mx-0":"mx-auto",x=n.enableMainCanvasResizer?"":"pb-52",v=function(){return(0,T.jsx)(cs,{children:(0,T.jsx)(us,{$enableMainCanvasResizer:!!n.enableMainCanvasResizer,background:a?"":e,className:"relative t--canvas-artboard ".concat(x," transition-all duration-400  ").concat(f," ").concat((0,Ma.OI)(t)),"data-testid":"t--canvas-artboard",id:Da.go,onMouseLeave:h,ref:a?void 0:g,width:t,children:n.widgetsStructure.widgetId&&(0,ss.X)(n.widgetsStructure)})})};try{return a?(0,T.jsx)(ds,{theme:l,children:v()}):v()}catch(m){return is().error("Error rendering DSL",m),os.Tb(m),null}},hs=(0,rn.J)((0,b.Z)((0,m.Z)().mark((function n(){return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.e(4701).then(t.bind(t,86420)));case 1:case"end":return n.stop()}}),n)})))),gs=v.ZP.div(qa||(qa=(0,x.Z)(["\n  position: relative;\n  z-index: var(--on-canvas-ui-zindex);\n  cursor: col-resize;\n  user-select: none;\n  -webkit-user-select: none;\n  width: 2px;\n  display: flex;\n  background: var(--ads-v2-color-border);\n  align-items: center;\n  justify-content: flex-start;\n  margin-left: 2px;\n  transition: width 300ms ease;\n  transition: background 300ms ease;\n  .canvas-resizer-icon {\n    border-left: 2px solid;\n    border-color: var(--ads-v2-color-border);\n    transition: border 300ms ease;\n    margin-left: 2px;\n    & > svg {\n      fill: var(--ads-v2-color-border);\n      transition: fill 300ms ease;\n    }\n  }\n  &:hover,\n  &:active {\n    transition: width 300ms ease;\n    background: #ff9b4e;\n    transition: background 300ms ease;\n    .canvas-resizer-icon {\n      border-color: #ff9b4e;\n      transition: border 300ms ease;\n      & > svg {\n        fill: #ff9b4e;\n        transition: fill 300ms ease;\n      }\n    }\n  }\n"])));function fs(n){var e=n.currentPageId,t=n.enableMainCanvasResizer,i=n.isPageInitiated,o=n.isPreview,r=n.navigationHeight,a=(0,p.v9)(Ce.K1),s=(0,d.useRef)(null),c=(0,p.I0)();return(0,d.useEffect)((function(){var n=document.getElementById(Da.Dw);if(i&&t){var e="calc(100% - ".concat(es.b,"px)"),o=document.getElementById("widgets-editor"),r=o.offsetWidth-es.b;if(n&&n.offsetWidth>=r&&(n.style.width=e),"FLUID"===(null===a||void 0===a?void 0:a.type)){var l=Bi.Vw.MOBILE.minWidth,d=0,u=0,p=[],h=function(t){if(n){var i=2*(t.clientX-d);r>=u+i&&l<=u+i&&(n.style.width="".concat(u+i,"px")),r<u+i&&(n.style.width=e),l>u+i&&(n.style.width="".concat(l,"px"))}},g=function n(e){h(e),c((0,La.CR)(!1)),document.removeEventListener("mousemove",p[0]),document.removeEventListener("mouseup",n),p=[]},f=s.current,x=function(e){return function(e){if(n&&1===e.buttons){r=o.offsetWidth-es.b,d=e.clientX;var t=window.getComputedStyle(n);c((0,La.CR)(!0)),u=parseInt(t.width,10);var i=function(n){return h(n)};p.push(i),document.addEventListener("mousemove",i),document.addEventListener("mouseup",g)}}(e)};return f&&f.addEventListener("mousedown",x),function(){f&&f.removeEventListener("mousedown",x)}}}else null===n||void 0===n||n.style.removeProperty("width")}),[a,o,e,t,i]),t?(0,T.jsx)(gs,{className:"resizer-right",draggable:!0,onDragStart:function(n){n.preventDefault(),n.stopPropagation()},ref:s,style:{top:o?r:"0",height:o?"calc(100% - ".concat(r,")"):"100%"},children:(0,T.jsx)("div",{className:"canvas-resizer-icon",children:(0,T.jsx)(hs,{})})}):null}var xs,vs=t(14515),ms=v.ZP.section(xs||(xs=(0,x.Z)(["\n  width: 100%;\n  position: relative;\n  overflow-x: auto;\n  overflow-y: auto;\n  background: ",";\n\n  ","\n\n  &:before {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n  }\n"])),(function(n){return n.background}),(function(n){var e=n.isAppSettingsPaneWithNavigationTabOpen,t=n.isPreviewingNavigation,i=n.navigationHeight,o="";return t&&(o+="\n        margin-top: ".concat(i,"px !important;\n      ")),e&&(o+="\n        ::-webkit-scrollbar {\n          width: 0px;\n        }\n      "),o}));var bs=function(n){var e=n.isAppSettingsPaneWithNavigationTabOpen,t=n.navigationHeight,i=(0,p.I0)(),o=n.currentPageId,r=n.isPreviewMode,a=n.isProtectedMode,s=n.shouldShowSnapShotBanner,c=(0,p.v9)(Ce.OF),l=(0,p.v9)(qe.o$,$a()),u=(0,p.v9)(Ce.bX),h=(0,p.v9)(Ea.m_),f=!(r||a)||!e||u.length>1,x=(0,p.v9)(Ea.uK),v=(0,p.v9)(Ce.ym),m=(0,p.v9)(qr.BL),b=(0,es.F)(),j=c||!b,y=function(){var n=(0,vs.C)()([vs.P.ENABLE_MAIN_CONTAINER_RESIZER]),e=(0,w.Z)(n,1)[0],t=(0,p.v9)(Aa.l3),i=(0,p.v9)(Ce.uJ);return{enableMainContainerResizer:e,canShowResizer:!t||i}}(),k=y.canShowResizer,Z=y.enableMainContainerResizer,C=(0,p.v9)(Aa.l3);(0,d.useEffect)((function(){return function(){i((0,Va.sk)(!1))}}),[]);var I,N="".concat(h.properties.fontFamily.appFont,", sans-serif"),P=(0,p.v9)((function(n){return n.ui.widgetDragResize.isAutoCanvasResizing})),E=(0,T.jsx)(Ya.Z,{children:(0,T.jsx)(R.$,{size:"sm"})});j&&(I=E),!j&&l&&(I=(0,T.jsx)(ps,{canvasWidth:n.canvasWidth,enableMainCanvasResizer:Z,widgetsStructure:l}));var S=r||a||e;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(ms,{$enableMainCanvasResizer:Z,background:r||a||e?C?"":h.properties.colors.backgroundColor:"initial",className:Se()((0,g.Z)((0,g.Z)((0,g.Z)((0,g.Z)((0,g.Z)({},"".concat((0,Xa.di)()," scrollbar-thin"),!0),"mt-0",s||!f),"mt-4",!s&&(v||m)&&!C),"mt-8",!s&&f&&!v&&!S&&!m&&!C),"mt-24",s)),isAppSettingsPaneWithNavigationTabOpen:e,isPreviewingNavigation:S,navigationHeight:t,style:{height:r?"calc(100% - ".concat(t,")"):"auto",fontFamily:N,pointerEvents:P?"none":"auto"},children:[!C&&(0,T.jsx)(ns.X,{fontFamily:h.properties.fontFamily.appFont,primaryColor:h.properties.colors.primaryColor}),x&&(0,T.jsx)("div",{className:"fixed top-0 bottom-0 left-0 right-0 flex items-center justify-center bg-white/70 z-[2]",children:(0,T.jsx)(R.$,{size:"md"})}),I]}),(0,T.jsx)(fs,{currentPageId:o,enableMainCanvasResizer:Z&&k,isPageInitiated:!j&&!!l,isPreview:r||a,navigationHeight:t})]})},js=function(n){var e=n.navigationHeight,t=(0,p.v9)(Ce.zj),i=(0,p.v9)(Ce.uJ),o=(0,p.v9)(N.qC),r=(0,p.v9)(Mr.NQ),a=(0,p.v9)(Ce.je),s=function(n){var e=(0,zn.y)(Dn.Yx.release_layout_conversion_enabled),t=(0,p.v9)(Wa.jh),i=(0,Ma.ZI)(t),o=(0,p.v9)(Mr.O9),r=(0,Re.ZE)()===Me.yy.SETTINGS&&o;return e&&!!i&&!(n||r)}(i||o);return(0,T.jsxs)(T.Fragment,{children:[s&&(0,T.jsx)(Ja,{}),(0,T.jsx)(bs,{canvasWidth:a,currentPageId:t,isAppSettingsPaneWithNavigationTabOpen:nt.LG.Navigation===(null===r||void 0===r?void 0:r.type),isPreviewMode:i,isProtectedMode:o,navigationHeight:e,shouldShowSnapShotBanner:s})]})},ys=function(){var n=function(){var n,e=(0,d.useState)(0),t=(0,w.Z)(e,2),i=t[0],o=t[1],r=(0,d.useRef)(null),a=(0,p.v9)(Ce.ew),s=(0,p.v9)(Mr.NQ),c=(0,p.v9)(Ce.kc);return(0,d.useEffect)((function(){if(null!==r&&void 0!==r&&r.current){var n=r.current.offsetHeight;o(n)}else o(0)}),[r,a,null===s||void 0===s?void 0:s.type,null===c||void 0===c||null===(n=c.applicationDetail)||void 0===n?void 0:n.navigationSetting]),{navigationPreviewRef:r,navigationHeight:i}}(),e=n.navigationHeight,t=n.navigationPreviewRef;return(0,T.jsxs)(Sa,{children:[(0,T.jsx)(ca,{ref:t}),(0,T.jsx)(Oa,{children:(0,T.jsx)(js,{navigationHeight:e})}),(0,T.jsx)(Ca,{})]})};var ws,ks=function(){var n=(0,p.v9)(Ce.zj),e=(0,p.v9)(Ce.d6),t=(0,p.v9)(y.kc);return(0,d.useEffect)((function(){yr.Z.stopTracking(yr.W.CLOSE_SIDE_PANE)})),(0,d.useEffect)((function(){void 0!==e&&void 0!==n&&F.ZP.logEvent("PAGE_LOAD",{pageName:e,pageId:n,appName:null===t||void 0===t?void 0:t.name,mode:"EDIT"})}),[e,n]),yr.Z.stopTracking(),(0,T.jsxs)(Wr,{children:[(0,T.jsx)(ra,{}),(0,T.jsx)(ys,{}),(0,T.jsx)(me,{})]})},Zs=t(13877),Cs=t(75035),Is=t(92909),Ns=t(91996),Ps=t(69212),Es=t(95936),Ss=t(38995),Ts=t(20699),_s=v.ZP.div(ws||(ws=(0,x.Z)(["\n  text-align: center;\n  margin-top: 5%;\n  .bold-text {\n    font-weight: ",";\n    font-size: 24px;\n  }\n  .unavailable-img {\n    width: 35%;\n  }\n  .button-position {\n    margin: auto;\n  }\n"])),(function(n){return n.theme.fontWeights[3]}));var zs,Ds,As,Os,Hs,Rs,Bs,Ls,Ms,Ws=function(n){var e=n.buttonText,t=n.onBackButton,i=n.subtitle,o=n.title;return(0,T.jsxs)(_s,{children:[(0,T.jsx)("img",{alt:o||"Unavailable",className:"unavailable-img",src:Ts}),(0,T.jsxs)("div",{children:[(0,T.jsx)("p",{className:"bold-text",children:o}),i&&(0,T.jsx)("p",{children:i}),(0,T.jsx)(Ss.Z,{className:"button-position",filled:!0,icon:"arrow-right",iconAlignment:"right",intent:"primary",onClick:function(){return t()},size:"small",text:e})]})]})},Gs=t(18448),Fs=t(90495),Us=t.n(Fs),Ks=t(30942),qs=t(82549),Js=t(11858),Xs=v.ZP.div(zs||(zs=(0,x.Z)(["\n  border: 2px solid #d6d6d6;\n  padding: 18px;\n  margin-top: 18px;\n"]))),Vs=(0,v.ZP)(Js.Y)(Ds||(Ds=(0,x.Z)(["\n  &&&& {\n    height: 36px;\n    max-width: 120px;\n    width: auto;\n  }\n\n  span > svg > path {\n    stroke: white;\n  }\n"]))),Ys=v.ZP.img(As||(As=(0,x.Z)(["\n  height: 24px;\n  width: auto;\n"]))),Qs=(0,v.ZP)(M.z)(Os||(Os=(0,x.Z)(["\n  &&&& {\n    height: 36px;\n    max-width: 160px;\n    border: 1px solid var(--ads-v2-color-border);\n    width: auto;\n  }\n"]))),$s=v.ZP.span(Hs||(Hs=(0,x.Z)(["\n  margin-left: 10px;\n  font-size: 16px;\n  font-weight: 500;\n"]))),nc=v.ZP.div(Rs||(Rs=(0,x.Z)(["\n  justify-content: space-between;\n  display: flex;\n"]))),ec=v.ZP.div(Bs||(Bs=(0,x.Z)(["\n  flex-direction: row;\n  align-items: center;\n  display: flex;\n"]))),tc=v.ZP.div(Ls||(Ls=(0,x.Z)(["\n  color: ",";\n  font-size: 14px;\n  display: inline-block;\n  margin-top: 11px;\n"])),Sn.w.DOVE_GRAY),ic=v.ZP.div(Ms||(Ms=(0,x.Z)(["\n  display: flex;\n  gap: 10px;\n"])));var oc,rc,ac,sc,cc=function(n){var e,t=(0,p.v9)(qe.x8),i=(0,h.UO)(),o=n.datasource,r=(0,p.v9)((function(n){return n.entities.plugins.formConfigs})),a=(0,p.v9)(qe.Ei).filter((function(n){return(0,Ks.K0)(n.config.datasource)&&n.config.datasource.id===o.id})).length,s=r[null!==(e=null===o||void 0===o?void 0:o.pluginId)&&void 0!==e?e:""],c=a>1?"APIs":"API";return(0,T.jsxs)(Xs,{children:[(0,T.jsxs)(nc,{className:"t--datasource-name",children:[(0,T.jsxs)("div",{style:{flex:1},children:[(0,T.jsxs)(ec,{children:[(0,T.jsx)(Ys,{alt:"Datasource",className:"dataSourceImage",src:(0,Zt.V)(t[o.pluginId])}),(0,T.jsx)($s,{children:o.name})]}),(0,T.jsx)(tc,{children:a?"".concat(a," ").concat(c," on this page"):"No API is using this datasource"})]}),(0,T.jsxs)(ic,{children:[(0,T.jsx)(Qs,{className:"t--edit-datasource",onClick:function(){He.C.push((0,Oe.AP)((0,f.Z)((0,f.Z)({},i),{},{datasourceId:o.id})))},startIcon:"pencil-line",children:"Edit Datasource"}),(0,T.jsx)(Vs,{buttonStyle:"PRIMARY",className:"t--create-api",icon:"plus",onClick:function(){return n.onCreate(o)},text:"New API"})]})]}),Us()(s)?void 0:(0,T.jsx)(qs.ZP,{config:s[0],datasource:o,showOnlyCurrentEnv:!0})]})};var lc,dc,uc,pc=v.ZP.div(oc||(oc=(0,x.Z)(["\n  padding: 20px;\n  padding-top: 30px;\n  overflow: auto;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n\n  .sectionHeader {\n    font-weight: ",";\n    font-size: ","px;\n  }\n"])),(function(n){return n.theme.fontWeights[2]}),(function(n){return n.theme.fontSizes[4]})),hc=(0,v.ZP)(Ya.Z)(rc||(rc=(0,x.Z)(["\n  height: 50%;\n"]))),gc=(0,v.ZP)(S.zx)(ac||(ac=(0,x.Z)(["\n  padding: 23px;\n  border: 2px solid #d6d6d6;\n  justify-content: flex-start;\n  font-size: 16px;\n  font-weight: 500;\n"]))),fc=v.ZP.hr(sc||(sc=(0,x.Z)(["\n  border: 1px solid #d0d7dd;\n  margin-top: 16px;\n"]))),xc=function(n){function e(){var n,t,i,r;(0,o.Z)(this,e);for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return t=this,i=e,r=[].concat(d),i=(0,c.Z)(i),(n=(0,a.Z)(t,(0,s.Z)()?Reflect.construct(i,r||[],(0,c.Z)(t).constructor):i.apply(t,r))).handleCreateNewDatasource=function(e){n.props.createDatasource({pluginId:e})},n.handleCreateNewAPI=function(e){var t=n.props,i=t.location,o=t.match.params.pageId,r=i.search,a=new URLSearchParams(r).get("importTo");a||(a=o),a&&n.props.createAction({pageId:a,pluginId:e.pluginId,datasource:{id:e.id}})},n}return(0,l.Z)(e,n),(0,r.Z)(e,[{key:"render",value:function(){var n=this.props,e=n.isCreating,t=n.isEditorInitialized;return n.plugin?e||!t?this.renderLoading():this.renderPage():this.renderNotFound()}},{key:"renderPage",value:function(){var n=this,e=this.props,t=e.datasources,i=e.plugin;return i?(0,T.jsxs)(pc,{children:[(0,T.jsx)("p",{className:"sectionHeader",children:"Select a datasource or create a new one"}),(0,T.jsx)(fc,{}),(0,T.jsx)(gc,{className:"t--add-datasource",fill:!0,icon:"plus",minimal:!0,onClick:function(){return n.handleCreateNewDatasource(i.id)},text:"New datasource"}),t.map((function(e){return(0,T.jsx)(cc,{datasource:e,onCreate:n.handleCreateNewAPI},e.id)}))]}):this.renderNotFound()}},{key:"renderLoading",value:function(){return(0,T.jsx)(hc,{children:(0,T.jsx)(S.$j,{size:30})})}},{key:"renderNotFound",value:function(){var n=this.props,e=n.history,t=n.match.params.pageId;return(0,T.jsx)(pc,{children:(0,T.jsx)(Ws,{buttonText:"Go back to Datasources",onBackButton:function(){return e.push((0,Oe.RQ)({pageId:t,selectedTab:$e.Rb.ACTIVE}))},title:"Datasources/Queries Not found"})})}}]),e}(d.Component),vc=(0,p.$j)((function(n,e){var t=(0,qe.jX)(n,e.match.params.pluginPackageName),i=[];t&&(i=(0,qe.Fs)(n,t.id));var o=(0,Ce.AJ)(n),r=o.applicationSlug,a=o.pageSlug;return{plugin:t,actions:n.entities.actions,isCreating:n.ui.apiPane.isCreating,isEditorInitialized:(0,Ce.$i)(n),datasources:i,applicationId:(0,Ce.aS)(n),applicationSlug:r,pageSlug:a}}),(function(n){return{createDatasource:function(e){return n((0,Gs.nS)(e))},createAction:function(e){n((0,Ie.B8)(e))}}}))(xc),mc=t(91023),bc=t(45944),jc=v.ZP.div(lc||(lc=(0,x.Z)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),yc=v.ZP.div(dc||(dc=(0,x.Z)(["\n  width: 243px;\n  gap: 24px;\n  padding: 12px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n"]))),wc=(0,rn.J)((0,b.Z)((0,m.Z)().mark((function n(){return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.e(4701).then(t.bind(t,14345)));case 1:case"end":return n.stop()}}),n)})))),kc=function(){return(0,T.jsx)(jc,{className:"t--data-blank-state",children:(0,T.jsxs)(yc,{children:[(0,T.jsx)(wc,{}),(0,T.jsx)(B.x,{kind:"body-s",children:(0,O.tnH)(O.xT9)})]})})},Zc=t(7443),Cc=v.ZP.div(uc||(uc=(0,x.Z)(["\n  display: flex;\n  padding: var(--ads-v2-spaces-7) 0;\n"])));var Ic,Nc,Pc,Ec=function(){return(0,T.jsx)(Cc,{children:(0,T.jsx)(Zc.Z,{})})},Sc=t(43389),Tc=v.ZP.div(Ic||(Ic=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  height: 100%;\n  padding: var(--ads-v2-spaces-7);\n"]))),_c=v.ZP.div(Nc||(Nc=(0,x.Z)(["\n  display: flex;\n  padding-top: var(--ads-v2-spaces-4);\n"]))),zc=v.ZP.div(Pc||(Pc=(0,x.Z)(["\n  width: 100%;\n\n  > a {\n    margin: 0;\n  }\n"])));var Dc=function(){var n=window.location.pathname.includes("/form"),e=n?"Quick page wizard":"New page";return(0,T.jsxs)(Tc,{children:[n?(0,T.jsx)(zc,{children:(0,T.jsx)(Sc.xE,{})}):null,(0,T.jsx)(_c,{children:(0,T.jsx)(B.x,{kind:"heading-l",children:e})}),n?(0,T.jsx)(B.x,{renderAs:"p",children:"Auto create a simple CRUD interface on top of your data"}):null,(0,T.jsx)(Ec,{})]})},Ac=t(45374),Oc=t(72429),Hc=t(55320),Rc=function(){return(0,T.jsx)(vt.k,{height:"100%",justifyContent:"center",children:(0,T.jsx)(Hc.Z,{containerProps:{px:"spaces-4",py:"spaces-7"},innerContainerProps:{minWidth:"30vw"}})})},Bc=t(96512),Lc=function(){return(0,T.jsx)(vt.k,{height:"100%",justifyContent:"center",children:(0,T.jsx)(Bc.Z,{containerProps:{px:"spaces-4",py:"spaces-7"},innerContainerProps:{minWidth:"30vw"}})})};var Mc=function(n){var e=(0,p.v9)(Zo.kS),t=(0,p.v9)(Zo.lO);return e&&t===Me.CK.SplitScreen?[{key:"Canvas",component:ks,exact:!0,path:[$e.Pi,$e.ep,$e.zy,"".concat($e.Pi).concat($e.xn),"".concat($e.ep).concat($e.xn),"".concat($e.zy).concat($e.xn),"".concat(n).concat($e.xn),"".concat(n).concat($e.ov),"".concat(n).concat($e.UC),"".concat(n).concat($e.UC).concat($e.xn),"".concat(n).concat($e.DU),"".concat(n).concat($e.DU).concat($e.o$),"".concat(n).concat($e.aX),"".concat(n).concat($e.hg),"".concat(n).concat($e.hg).concat($e.xn),"".concat(n).concat($e.a8),"".concat(n).concat($e.hh),"".concat(n).concat($e.a8).concat($e.o$),"".concat(n).concat($e.gy),"".concat(n).concat($e.gy).concat($e.xn),"".concat(n).concat($e.g_),"".concat(n).concat($e.g_).concat($e.o$),"".concat(n).concat($e.oG),"".concat(n).concat($e.oG).concat($e.xn),"".concat(n).concat(Jo.HH),"".concat(n).concat(Jo.HJ),"".concat(n).concat(Jo.Tg),"".concat(n).concat($e.n3),"".concat(n).concat($e.X_)]},{key:"Datasource Create and Active",component:Zs.Z,exact:!0,path:"".concat(n).concat($e.Ze)},{key:"OnboardingChecklist",component:Cs.Z,exact:!0,path:"".concat(n).concat($e.J9)},{key:"DatasourceEditor",component:bc.ZP,exact:!0,path:"".concat(n).concat($e.eq)},{key:"DatasourceBlankState",component:kc,exact:!0,path:"".concat(n).concat($e.Nn)},{key:"SAASDatasourceEditor",component:mc.Z,exact:!0,path:"".concat(n).concat(Jo.FV)},{key:"GeneratePage",component:Dc,exact:!0,path:"".concat(n).concat($e.gr)}]:[{key:"Canvas",component:ks,exact:!0,path:[$e.Pi,$e.ep,$e.zy,"".concat($e.Pi).concat($e.xn),"".concat($e.ep).concat($e.xn),"".concat($e.zy).concat($e.xn),"".concat(n).concat($e.xn),"".concat(n).concat($e.ov),"".concat(n).concat($e.UC),"".concat(n).concat($e.UC).concat($e.xn),"".concat(n).concat($e.n3),"".concat(n).concat($e.X_)]},{key:"Datasource Create and Active",component:Zs.Z,exact:!0,path:"".concat(n).concat($e.Ze)},{key:"OnboardingChecklist",component:Cs.Z,exact:!0,path:"".concat(n).concat($e.J9)},{key:"QueryEditorAdd",component:Lc,exact:!0,path:["".concat(n).concat($e.hg).concat($e.xn),"".concat(n).concat($e.hh),"".concat(n).concat($e.aX),"".concat(n).concat($e.oG).concat($e.xn),"".concat(n).concat(Jo.Tg)]},{key:"ApiEditor",component:Is.Z,exact:!0,path:["".concat(n).concat($e.DU)]},{key:"QueryEditorList",component:Oc.G,exact:!0,path:["".concat(n).concat($e.hg)]},{key:"QueryEditor",component:Ns.Z,exact:!0,path:["".concat(n).concat($e.a8)]},{key:"JSEditorAdd",component:Rc,exact:!0,path:["".concat(n).concat($e.gy).concat($e.xn),"".concat(n).concat($e.g_).concat($e.xn)]},{key:"JSEditorList",component:Ac.c,exact:!0,path:["".concat(n).concat($e.gy)]},{key:"JSEditor File",component:Ps.Z,exact:!0,path:["".concat(n).concat($e.g_)]},{key:"CurlImportEditor",component:Es.Z,exact:!0,path:["".concat(n).concat($e.oG)]},{key:"SAASList",component:vc,exact:!0,path:"".concat(n).concat(Jo.HH)},{key:"SAASDatasourceEditor",component:mc.Z,exact:!0,path:"".concat(n).concat(Jo.FV)},{key:"SAASEditor",component:Ns.Z,exact:!0,path:["".concat(n).concat(Jo.HJ)]},{key:"DatasourceEditor",component:bc.ZP,exact:!0,path:"".concat(n).concat($e.eq)},{key:"DatasourceBlankState",component:kc,exact:!0,path:"".concat(n).concat($e.Nn)},{key:"GeneratePage",component:Dc,exact:!0,path:"".concat(n).concat($e.gr)}]},Wc=Br.gy(h.AW),Gc=function(n){var e=(0,h.$B)().path,t=(0,p.v9)(Zo.lO),i=Mc(e);return(0,Re.Qd)(),(0,T.jsxs)("div",{className:"relative flex flex-col flex-1 overflow-auto z-2","data-testid":"t--ide-main-pane",id:n.id,children:[t===Me.CK.FullScreen?(0,T.jsx)(Ko,{}):null,(0,T.jsx)(h.rs,{children:i.map((function(n){return(0,d.createElement)(Wc,(0,f.Z)((0,f.Z)({},n),{},{key:n.key}))}))},$e.ep)]})},Fc=t(94689),Uc=t(61575),Kc=t(51135),qc=function(){var n=(0,p.I0)(),e=(0,pi.e5)(),t=(0,pi.vb)().getListItems,i=(0,p.v9)(Zo.L0),o=function(e){e||n((0,Go.L6)(!1))};return(0,d.useEffect)((function(){return function(){o(!1)}}),[]),(0,T.jsx)(la.u_,{onOpenChange:o,open:i,children:(0,T.jsxs)(la.hz,{className:"!w-[400px] action-creator-create-new-modal",children:[(0,T.jsx)(la.xB,{children:(0,O.tnH)(O.nkp,"query")}),(0,T.jsx)(la.fe,{children:(0,T.jsx)(Kc.Z,{groups:e.map((function(n){return{groupTitle:n.title,className:n.className,items:t(n.operations)}}))})})]})})};var Jc,Xc=function(){var n=(0,p.I0)(),e=(0,p.v9)(Uc.Ci),t=(0,d.useCallback)((function(){n((0,ki.Bv)(e))}),[e]),i=(0,d.useCallback)((function(e){n((0,ki.Bv)(e))}),[]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Fc.ZP,{onDragEnd:t,onWidthChange:i,width:e}),(0,T.jsx)(qc,{})]})},Vc=function(){var n=(0,h.$B)().path;return(0,T.jsx)(Qe.X5,{component:Xc,exact:!0,path:[$e.Pi,$e.ep,$e.zy,"".concat(n).concat($e.xn),"".concat(n).concat($e.ov),"".concat(n).concat($e.UC),"".concat(n).concat($e.UC).concat($e.xn)]})},Yc=(0,v.ZP)(St.U)(Jc||(Jc=(0,x.Z)(["\n  height: 70px;\n  overflow-y: hidden;\n"])));var Qc=function(){var n=(0,p.I0)(),e=(0,p.v9)(N.V),t=(0,p.v9)(N.Wk),i=(0,p.v9)(N.r5);return(0,T.jsx)(Yc,{"data-testid":"t--git-protected-branch-callout",kind:"info",links:[{key:"create-branch","data-testid":"t--git-protected-create-branch-cta",children:(0,O.tnH)(O.qw2),onClick:function(){n((0,I.Yz)(!0))}},{key:"unprotect","data-testid":"t--git-protected-unprotect-branch-cta",children:e?(0,O.tnH)(O.JAM):(0,O.tnH)(O.fou),onClick:function(){var e=i.filter((function(n){return n!==t}));n((0,I.we)({protectedBranches:e}))},isDisabled:e}],children:(0,O.tnH)(O.GmX)})};function $c(){var n=(0,p.v9)(Ce.uJ),e=(0,p.v9)(Ce.ew),t=(0,p.v9)(N.qC);return(0,T.jsxs)(T.Fragment,{children:[t&&(0,T.jsx)(Qc,{}),(0,T.jsxs)(Ae,{children:[(0,T.jsxs)("div",{className:Se()((0,g.Z)((0,g.Z)((0,g.Z)({},"transition-transform transform duration-400 flex ".concat(we.LC.entityExplorer),!0),"relative",!e),"-translate-x-full fixed",e)),children:[(0,T.jsx)(Ye,{}),(0,T.jsx)(Rr,{})]}),(0,T.jsx)(Gc,{id:"app-body"}),(0,T.jsx)("div",{className:Se()((0,g.Z)((0,g.Z)((0,g.Z)({},"transition-transform transform duration-400 h-full ".concat(we.LC.propertyPane),!0),"relative",!e),"translate-x-full fixed right-0",e)),children:(0,T.jsx)(Vc,{})})]}),(0,T.jsx)(Ne,{viewMode:n})]})}$c.displayName="AppsmithIDE";var nl,el=d.memo($c),tl=t(40366),il=t(48042),ol=t(72041),rl=t(34599),al=t(12787),sl=t(96190),cl=t(54826),ll=t(3896),dl=t(62057);var ul=(0,S.No)(nl=function(n){function e(){return(0,o.Z)(this,e),n=this,t=e,i=arguments,t=(0,c.Z)(t),(0,a.Z)(n,(0,s.Z)()?Reflect.construct(t,i||[],(0,c.Z)(n).constructor):t.apply(n,i));var n,t,i}return(0,l.Z)(e,n),(0,r.Z)(e,[{key:"stopPropagationIfWidgetSelected",value:function(n){var e=this.props.selectedWidgets&&this.props.selectedWidgets.length;return!((!this.props.selectedWidget||this.props.selectedWidget==Bi.De)&&!e||(0,q.ZT)())&&(n.preventDefault(),n.stopPropagation(),!0)}},{key:"onOnmnibarHotKeyDown",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sl.gL.NAVIGATION;if(n.preventDefault(),!this.props.isPreviewMode){var t=sl.sS[e];this.props.setGlobalSearchCategory(t),this.props.hideInstaller(),F.ZP.logEvent("OPEN_OMNIBAR",{source:"HOTKEY_COMBO",category:t.title})}}},{key:"renderHotkeys",value:function(){var n,e=this,t=(null!==(n=this.context)&&void 0!==n?n:{}).isOpened,i=this.props.isProtectedMode;return t||i?(0,T.jsx)(S.SV,{}):(0,T.jsxs)(S.SV,{children:[(0,T.jsx)(S.qm,{combo:"mod + f",global:!0,label:"Search entities",onKeyDown:function(n){var e=document.getElementById(Ri.aN);e&&(e.focus(),n.preventDefault(),n.stopPropagation())}}),(0,T.jsx)(S.qm,{allowInInput:!0,combo:"mod + p",global:!0,label:"Navigate",onKeyDown:function(n){return e.onOnmnibarHotKeyDown(n)}}),(0,T.jsx)(S.qm,{allowInInput:!0,combo:"mod + plus",global:!0,label:"Create new",onKeyDown:function(n){return e.onOnmnibarHotKeyDown(n,sl.gL.ACTION_OPERATION)}}),(0,T.jsx)(S.qm,{allowInInput:!0,combo:"mod + k",global:!0,label:"Show omnibar",onKeyDown:function(n){return e.onOnmnibarHotKeyDown(n,sl.gL.INIT)}}),(0,T.jsx)(S.qm,{allowInInput:!0,combo:"mod + d",global:!0,group:"Canvas",label:"Open Debugger",onKeyDown:this.props.toggleDebugger,preventDefault:!0}),(0,T.jsx)(S.qm,{combo:"mod + c",global:!0,group:"Canvas",label:"Copy widget",onKeyDown:function(n){e.stopPropagationIfWidgetSelected(n)&&e.props.copySelectedWidget()}}),(0,T.jsx)(S.qm,{combo:"mod + v",global:!0,group:"Canvas",label:"Paste Widget",onKeyDown:function(){(0,$e.V7)(window.location.pathname)&&e.props.pasteCopiedWidget(e.props.getMousePosition()||{x:0,y:0})}}),(0,T.jsx)(S.qm,{combo:"backspace",global:!0,group:"Canvas",label:"Delete widget",onKeyDown:function(n){e.stopPropagationIfWidgetSelected(n)&&(0,q._1)()&&e.props.deleteSelectedWidget()}}),(0,T.jsx)(S.qm,{combo:"del",global:!0,group:"Canvas",label:"Delete widget",onKeyDown:function(n){e.stopPropagationIfWidgetSelected(n)&&e.props.deleteSelectedWidget()}}),(0,T.jsx)(S.qm,{combo:"mod + x",global:!0,group:"Canvas",label:"Cut Widget",onKeyDown:function(n){e.stopPropagationIfWidgetSelected(n)&&e.props.cutSelectedWidget()}}),(0,T.jsx)(S.qm,{combo:"mod + a",global:!0,group:"Canvas",label:"Select all Widget",onKeyDown:function(n){(0,$e.V7)(window.location.pathname)&&(e.props.selectAllWidgetsInit(),n.preventDefault())}}),(0,T.jsx)(S.qm,{combo:"esc",global:!0,group:"Canvas",label:"Deselect all Widget",onKeyDown:function(n){e.props.resetSnipingMode(),(0,$e.V7)(window.location.pathname)&&(e.props.deselectAllWidgets(),e.props.closeProppane(),e.props.closeTableFilterProppane()),n.preventDefault()}}),(0,T.jsx)(S.qm,{combo:"v",global:!0,label:"Edit Mode",onKeyDown:function(n){e.props.resetSnipingMode(),n.preventDefault()}}),(0,T.jsx)(S.qm,{allowInInput:!0,combo:"mod + enter",global:!0,label:"Execute Action",onKeyDown:this.props.executeAction,preventDefault:!0,stopPropagation:!0}),(0,T.jsx)(S.qm,{combo:"mod + z",global:!0,label:"Undo change in canvas",onKeyDown:this.props.undo,preventDefault:!0,stopPropagation:!0}),(0,T.jsx)(S.qm,{combo:"mod + shift + z",global:!0,label:"Redo change in canvas",onKeyDown:this.props.redo,preventDefault:!0,stopPropagation:!0}),(0,T.jsx)(S.qm,{combo:"mod + y",global:!0,label:"Redo change in canvas",onKeyDown:this.props.redo,preventDefault:!0,stopPropagation:!0}),(0,T.jsx)(S.qm,{combo:"mod + g",global:!0,group:"Canvas",label:"Cut Widgets for grouping",onKeyDown:function(n){e.stopPropagationIfWidgetSelected(n)&&e.props.groupSelectedWidget()}}),(0,T.jsx)(S.qm,{combo:"mod + s",global:!0,label:"Save progress",onKeyDown:function(){$.A.show((0,O.tnH)(O.RzW),{kind:"info"})},preventDefault:!0,stopPropagation:!0}),(0,T.jsx)(S.qm,{combo:"alt + p",global:!0,label:"Preview Mode",onKeyDown:function(){e.props.setPreviewModeInitAction(!e.props.isPreviewMode)}}),(0,T.jsx)(S.qm,{combo:"ctrl + shift + g",global:!0,label:"Show git commit modal",onKeyDown:function(){e.props.showCommitModal()}})]})}},{key:"render",value:function(){return(0,T.jsx)("div",{children:this.props.children})}}]),e}(d.Component))||nl;ul.contextType=dl.ZP;var pl=(0,p.$j)((function(n){return{selectedWidget:(0,Zi.XR)(n),selectedWidgets:(0,Zi.E3)(n),isDebuggerOpen:(0,ae.hq)(n),appMode:(0,y.kZ)(n),isPreviewMode:(0,Ce.uJ)(n),isProtectedMode:(0,N.qC)(n),isSignpostingEnabled:(0,qr.SC)(n)}}),(function(n){return{copySelectedWidget:function(){return n((0,ls.SC)(!0))},pasteCopiedWidget:function(e){return n((0,ls.yb)({groupWidgets:!1,mouseLocation:e}))},deleteSelectedWidget:function(){return n((0,ls._p)(!0))},cutSelectedWidget:function(){return n((0,ls.a4)())},groupSelectedWidget:function(){return n((0,ls.ok)())},setGlobalSearchCategory:function(e){return n((0,al.Pg)(e))},resetSnipingMode:function(){return n((0,ki.HB)())},closeProppane:function(){return n((0,ls.pl)())},closeTableFilterProppane:function(){return n((0,ls.Zl)())},selectAllWidgetsInit:function(){return n((0,rl.px)(ll.vU.All))},deselectAllWidgets:function(){return n((0,rl.px)(ll.vU.Empty))},executeAction:function(){return n((0,Ie.Lq)())},undo:function(){return n((0,cl.wK)())},redo:function(){return n((0,cl.b)())},showCommitModal:function(){return n((0,I.mr)({isOpen:!0,tab:Tn.z.DEPLOY}))},hideInstaller:function(){return n((0,Ht.j8)(!1))},setPreviewModeInitAction:function(e){return n((0,Xr.yJ)(e))}}}))(ul);var hl=function(n){var e=function(){var n=(0,d.useRef)({x:0,y:0}),e=function(e){e&&(n.current={x:e.clientX,y:e.clientY})};return(0,d.useEffect)((function(){window.addEventListener("mousemove",e)}),[]),function(){return n.current}}(),t=(0,ge.Z)();return(0,T.jsx)(pl,(0,f.Z)((0,f.Z)({},n),{},{getMousePosition:e,toggleDebugger:t,children:n.children}))},gl=t(94056);var fl,xl,vl=function(){var n=(0,p.I0)(),e=(0,p.v9)(N.Hd),t=(0,p.v9)(N.br),i=(0,p.v9)(N.lU),o=(0,d.useState)(""),r=(0,w.Z)(o,2),a=r[0],s=r[1],c=(0,d.useState)(!1),l=(0,w.Z)(c,2),u=l[0],h=l[1],g=(0,d.useCallback)((function(){n((0,I.HZ)(!1)),n((0,I.YK)({open:!0,tab:Un.W.GENERAL})),n((0,I.Nl)({id:"",name:""}))}),[n]),f=(0,d.useCallback)((function(){n((0,I.HZ)(!1))}),[n,I.HZ]),x=(0,d.useCallback)((function(){h(!0),n((0,I.qu)())}),[n,I.qu]),v=""===t.id||a!==t.name||u;return(0,T.jsx)(la.u_,{onOpenChange:function(n){n||f()},open:e,children:(0,T.jsxs)(la.hz,{"data-testid":"t--disconnect-git-modal",style:{width:"640px"},children:[(0,T.jsx)(la.xB,{children:(0,O.tnH)(O.gKZ,t.name)}),(0,T.jsxs)(la.fe,{children:[(0,T.jsx)(B.x,{color:"var(--ads-v2-color-fg-emphasis)",kind:"heading-s",children:(0,O.tnH)(O.Kc5,t.name)}),(0,T.jsx)(gn.T,{size:2}),(0,T.jsx)(Tt.I,{className:"t--git-app-name-input",label:(0,O.tnH)(O.xeI),onBlur:function(n){F.ZP.logEvent("GS_MATCHING_REPO_NAME_ON_GIT_DISCONNECT_MODAL",{value:n.target.value,expecting:t.name})},onChange:function(n){return s(n)},size:"md",value:a}),(0,T.jsx)(gn.T,{size:2}),(0,T.jsx)(St.U,{kind:"error",links:[{children:"Learn more",to:i,className:"t--disconnect-learn-more"}],children:(0,O.tnH)(O.eBu)})]}),(0,T.jsxs)(la.mz,{children:[(0,T.jsx)(M.z,{className:"t--git-revoke-back-button",kind:"secondary",onClick:g,size:"md",children:(0,O.tnH)(O.xmV)}),(0,T.jsx)(M.z,{className:"t--git-revoke-button",isDisabled:v,kind:"primary",onClick:x,size:"md",children:(0,O.tnH)(O.ZN2)})]})]})})},ml=t(24207),bl=v.ZP.div(fl||(fl=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  align-items: center;\n"]))),jl=(0,v.ZP)(la.hz)(xl||(xl=(0,x.Z)(["\n  width: 640px;\n"])));var yl,wl,kl,Zl,Cl,Il,Nl=function(n){var e=n.description,t=void 0===e?(0,O.tnH)(O.DUQ):e,i=n.title,o=void 0===i?(0,O.tnH)(O.nN4):i,r=localStorage.getItem("importSuccess"),a=(0,d.useState)("true"===r),s=(0,w.Z)(a,2),c=s[0],l=s[1],u=function(){l(!1),localStorage.setItem("importSuccess","false")};return(0,T.jsx)(la.u_,{onOpenChange:function(n){n||u()},open:c,children:(0,T.jsxs)(jl,{className:"t--import-app-success-modal",children:[(0,T.jsx)(la.xB,{children:"Datasource configured"}),(0,T.jsx)(la.fe,{children:(0,T.jsxs)(bl,{children:[(0,T.jsx)(H.J,{color:"var(--ads-v2-color-fg-success)",name:"success",size:"lg"}),(0,T.jsx)(B.x,{kind:"heading-m",children:o}),(0,T.jsx)(B.x,{children:t})]})}),(0,T.jsx)(la.mz,{children:(0,T.jsx)(M.z,{className:"t--import-success-modal-got-it",onClick:function(){u()},size:"md",children:"Got it"})})]})})},Pl=t(40167),El=t(20856),Sl=t(21520),Tl=t(34631),_l=t(37746),zl=function(n){return(0,T.jsxs)("div",{className:"flex flex-row items-center ",children:[(0,T.jsx)(_t.r,{className:"back-button",kind:"secondary",onClick:n.onBackPress,startIcon:"back-control",children:(0,O.tnH)(O.vMy)}),(0,T.jsx)(B.x,{kind:"heading-l",children:n.title})]})},Dl=t(84520),Al=t(28660),Ol=v.ZP.div(yl||(yl=(0,x.Z)(["\n  width: 280px;\n  padding-left: ","px;\n  position: sticky;\n  top: 0;\n  height: fit-content;\n"])),(function(n){return n.theme.spaces[9]})),Hl=v.ZP.div(wl||(wl=(0,x.Z)(["\n  padding: ","px;\n  border: solid 1px var(--ads-v2-color-border);\n  border-radius: var(--ads-v2-border-radius);\n"])),(function(n){return n.theme.spaces[9]})),Rl=v.ZP.div(kl||(kl=(0,x.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),Bl=v.ZP.div(Zl||(Zl=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 12px;\n  margin-bottom: 20px;\n  .ads-v2-checkbox {\n    height: 16px;\n    width: 16px;\n    padding: 0;\n  }\n"]))),Ll=v.ZP.div(Cl||(Cl=(0,x.Z)(["\n  cursor: pointer;\n  &:hover {\n    text-decoration: underline;\n    text-underline-offset: 2px;\n  }\n  .cs-text {\n    margin-left: 4px;\n  }\n"]))),Ml=(0,v.ZP)(M.z)(Il||(Il=(0,x.Z)(["\n  margin-top: 12px;\n"])));var Wl,Gl,Fl,Ul,Kl=function(n){var e=(0,p.I0)(),t=(0,d.useState)(n.pages.map((function(n){return n.name}))),i=(0,w.Z)(t,2),o=i[0],r=i[1],a=n.pages.length>1||0===n.pages.length?(0,O.tnH)(O.q5E):(0,O.tnH)(O.qXU),s=(0,p.v9)(Ce.aS),c=(0,p.v9)(Be.Y_);return(0,d.useEffect)((function(){r(n.pages.map((function(n){return n.name})))}),[n.pages]),(0,T.jsx)(Ol,{children:(0,T.jsxs)(Hl,{children:[(0,T.jsxs)(Rl,{children:[(0,T.jsxs)(B.x,{kind:"heading-s",children:[n.pages.length," ",a]}),(0,T.jsx)("div",{className:"flex",children:(0,T.jsx)(Al.X,{isDisabled:0===n.pages.length,isSelected:o.length===n.pages.length,onChange:function(e){r(e?n.pages.map((function(n){return n.name})):[])},children:(0,O.tnH)(O.MO9)})})]}),(0,T.jsx)(zt.i,{}),n.pages.map((function(e){return(0,T.jsxs)(Bl,{children:[(0,T.jsxs)(Ll,{className:"flex items-center",onClick:function(){return n.onPageSelection(e.id)},children:[(0,T.jsx)(H.J,{name:"page-line",size:"md"}),(0,T.jsx)(B.x,{className:"cs-text",kind:"body-m",children:e.name})]}),(0,T.jsx)(Al.X,{isSelected:o.includes(e.name),onChange:function(n){return function(n,e){e?o.includes(n)||r((function(e){return[].concat((0,ui.Z)(e),[n])})):r((function(e){return e.filter((function(e){return e!==n}))}))}(e.name,n)}})]},e.id)})),(0,T.jsx)(Ml,{"data-testid":"template-fork-button",isDisabled:!o.length,onClick:function(){e((0,Yi.cP)(n.template.id,n.template.title,o)),n.isStartWithTemplateFlow&&F.ZP.logEvent("fork_APPLICATIONTEMPLATE",{applicationId:s,workspaceId:c.id,source:"canvas",eventData:{templateAppName:n.template.title,selectedPages:o}})},size:"md",children:(0,O.tnH)(1===n.pages.length?O.Dpl:O.j_X)})]})})},ql=v.ZP.div(Wl||(Wl=(0,x.Z)(["\n  height: 85vh;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n  .back-button {\n    margin-right: 8px;\n  }\n"]))),Jl=v.ZP.div(Gl||(Gl=(0,x.Z)(["\n  margin-bottom: ","px;\n  height: 70vh;\n  overflow: auto;\n"])),(function(n){return n.theme.spaces[7]})),Xl=(0,v.ZP)(Sl.Z)(Fl||(Fl=(0,x.Z)(["\n  padding: 0px;\n"]))),Vl=v.ZP.div(Ul||(Ul=(0,x.Z)(["\n  padding-bottom: 52px;\n"])));var Yl,Ql,$l=function(n){var e=(0,d.useState)(n.templateId),t=(0,w.Z)(e,2),i=t[0],o=t[1],r=(0,d.useState)(""),a=(0,w.Z)(r,2),s=a[0],c=a[1],l=(0,p.I0)(),u=(0,p.v9)((function(n){return n.ui.templates.similarTemplates})),g=(0,p.v9)(Qi.IT),x=(0,p.v9)(Qi.nC),v=(0,p.v9)(Qi.d5),m=(0,d.useRef)(null),b=x?(0,O.tnH)(O.JfI):(0,O.tnH)(O.VhK);(0,d.useEffect)((function(){l((0,Yi.ej)(i)),l((0,Yi.q3)(i))}),[i]),(0,d.useEffect)((function(){null!==v&&void 0!==v&&v.appUrl&&c(v.appUrl)}),[null===v||void 0===v?void 0:v.id]);var j=function(n){o(n.id),m.current&&m.current.scrollTo({top:0})};return g||x?(0,T.jsx)(Dl.Z,{text:b}):v?(0,T.jsx)(ql,{ref:m,children:(0,T.jsxs)(Jl,{className:"flex flex-row templates-body",children:[(0,T.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,T.jsx)(zl,{onBackPress:n.onBackPress,title:v.title}),(0,T.jsxs)(_l.qe,{children:[(0,T.jsxs)(_l.zb,{children:[(0,T.jsx)("div",{className:"round red"}),(0,T.jsx)("div",{className:"round yellow"}),(0,T.jsx)("div",{className:"round green"})]}),(0,T.jsx)("iframe",{src:s})]}),(0,T.jsx)(Vl,{children:(0,T.jsx)(Tl.ZP,{template:v})}),(0,T.jsx)(Xl,{isForkingEnabled:!1,onBackPress:n.onBackPress,onClick:j,onFork:j,similarTemplates:u})]}),(0,T.jsx)(Kl,{isStartWithTemplateFlow:n.isStartWithTemplateFlow,onPageSelection:function(n){var e=new URL(v.appUrl),t=(0,q.nW)(e.pathname)?$e.Nj:$e.Gu,i=(0,h.LX)(e.pathname,{path:[(0,q.G1)(t)]});e.pathname=(0,h.Gn)(t,(0,f.Z)((0,f.Z)({},null===i||void 0===i?void 0:i.params),{},{pageId:n})),c(e.toString())},pages:v.pages||[],template:v})]})}):null},nd=v.ZP.div(Yl||(Yl=(0,x.Z)(["\n  ","\n"])),(function(n){return n.hidden&&"visibility: hidden;"})),ed=v.ZP.div(Ql||(Ql=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  .back-button {\n    margin-right: 8px;\n  }\n"])));var td,id,od=function(n){return(0,T.jsx)(ed,{className:n.className,children:(0,T.jsx)(nd,{children:(0,O.tnH)(O.J3Z.title)})})},rd=t(4136),ad=(0,v.ZP)(la.hz)(td||(td=(0,x.Z)(["\n  width: 100%;\n  overflow-y: hidden;\n  background-color: var(--ads-v2-color-gray-50);\n"]))),sd=(0,v.ZP)(la.fe)(id||(id=(0,x.Z)(["\n  width: 100%;\n  overflow-y: hidden;\n"])));var cd,ld=function(){var n=(0,p.v9)(Qi.DW),e=(0,p.I0)(),t=(0,p.v9)(Qi.JT),i=(0,p.v9)((function(n){return n.entities.plugins.defaultPluginList.length})),o=(0,p.v9)(Qi.MS),r=(0,d.useState)(""),a=(0,w.Z)(r,2),s=a[0],c=a[1];(0,d.useEffect)((function(){c(""),n.isOpen&&e({type:vi.Ep.RESET_TEMPLATE_FILTERS})}),[n]),(0,d.useEffect)((function(){!t&&n&&e((0,Yi.Tk)())}),[t,n]),(0,d.useEffect)((function(){i||e((0,El.dv)())}),[i]),(0,d.useEffect)((function(){Us()(o.functions)&&e((0,Yi.Xw)())}),[o]);var l=function(n){!1===n&&(e((0,Yi.gZ)()),c(""))};return(0,T.jsx)(la.u_,{onOpenChange:function(n){return l(n)},open:n.isOpen,children:(0,T.jsxs)(ad,{"data-testid":"t--templates-dialog-component",children:[(0,T.jsx)(la.xB,{children:(0,T.jsx)(od,{className:s?"":"modal-header"})}),(0,T.jsx)(sd,{children:s?(0,T.jsx)($l,{isStartWithTemplateFlow:n.isOpenFromCanvas,onBackPress:function(){return c("")},onClose:function(){return l(!1)},templateId:s}):(0,T.jsx)(rd.Z,{analyticsEventNameForTemplateCardClick:"TEMPLATE_ADD_PAGE_FROM_TEMPLATE_FLOW",isStartWithTemplateFlow:n.isOpenFromCanvas,onTemplateClick:function(n){c(n)}})})]})})},dd=t(603),ud=v.ZP.div(cd||(cd=(0,x.Z)(["\n  z-index: ",";\n  opacity: 0.6;\n  background-color: transparent;\n  animation: fade-in 1s forwards;\n  will-change: background-color;\n  @keyframes fade-in {\n    from {\n      background-color: transparent;\n    }\n    to {\n      background-color: var(--ads-v2-color-bg-emphasis-max);\n    }\n  }\n  pointer-events: auto;\n"])),we.S9.signpostingOverlay);var pd=function(){var n=(0,p.v9)(qr.SC),e=(0,p.v9)(qr.Gi),t=(0,p.I0)();return n&&e?(0,T.jsx)(ud,{className:"fixed top-0 w-full h-full overflow-hidden",onClick:function(){t((0,Vr.OO)(!1))}}):null},hd=t(30067),gd=t(31251);var fd,xd,vd,md,bd,jd,yd,wd,kd,Zd,Cd,Id,Nd,Pd,Ed,Sd=function(){var n=(0,p.v9)(N.CO),e=(0,p.v9)(N.D2),t=(0,p.I0)();return(0,T.jsx)(la.u_,{onOpenChange:function(n){n||t((0,I.E6)(!1))},open:n,children:(0,T.jsxs)(la.hz,{"data-testid":"t--autocommit-git-modal",style:{width:"640px"},children:[(0,T.jsx)(la.xB,{style:{margin:0},children:(0,O.tnH)(O.pS8)}),(0,T.jsx)(la.fe,{children:(0,T.jsx)(St.U,{kind:"warning",children:(0,T.jsx)(B.x,{children:(0,O.tnH)(O.OvX)})})}),(0,T.jsx)(la.mz,{children:(0,T.jsx)(M.z,{className:"t--autocommit-modal-cta-button",isLoading:e,kind:"primary",onClick:function(){t((0,I.rL)()),F.ZP.logEvent("GS_AUTO_COMMIT_DISABLED"),t((0,I.E6)(!1))},size:"md",children:(0,O.tnH)(O.pS8)})})]})})},Td=t(90745),_d=t(59195),zd=t.n(_d),Dd=t(58546),Ad=t(18369),Od=v.ZP.div(fd||(fd=(0,x.Z)(["\n  padding-top: 8px;\n  padding-bottom: 8px;\n"]))),Hd=v.ZP.div(xd||(xd=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n"]))),Rd=v.ZP.div(vd||(vd=(0,x.Z)(["\n  display: flex;\n  align-items: flex-end;\n"]))),Bd=v.ZP.div(md||(md=(0,x.Z)(["\n  margin-right: 12px;\n  width: 240px;\n"]))),Ld=(0,v.ZP)(B.x)(bd||(bd=(0,x.Z)(["\n  font-weight: 600;\n"]))),Md=(0,v.F4)(jd||(jd=(0,x.Z)(["\n    100% {\n      transform: translateX(100%);\n    }\n"]))),Wd=v.ZP.div(yd||(yd=(0,x.Z)(["\n  height: 17px;\n  width: 100px;\n  margin-bottom: 8px;\n  border-radius: 4px;\n  background-color: var(--ads-color-black-100);\n  position: relative;\n\n  overflow: hidden;\n\n  &::after {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    transform: translateX(-100%);\n    background-image: linear-gradient(\n      90deg,\n      rgba(255, 255, 255, 0) 0,\n      rgba(255, 255, 255, 0.5) 20%,\n      rgba(255, 255, 255, 0.8) 60%,\n      rgba(255, 255, 255, 0)\n    );\n    animation: ",' 5s infinite;\n    content: "";\n  }\n'])),Md),Gd=v.ZP.div(wd||(wd=(0,x.Z)(["\n  height: 36px;\n  border-radius: 4px;\n  background-color: linear-gradient(\n    90deg,\n    var(--ads-color-black-200) 0%,\n    rgba(240, 240, 240, 0) 100%\n  );\n  background-color: var(--ads-color-black-100);\n  position: relative;\n\n  overflow: hidden;\n\n  &::after {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    transform: translateX(-100%);\n    background-image: linear-gradient(\n      90deg,\n      rgba(255, 255, 255, 0) 0,\n      rgba(255, 255, 255, 0.5) 20%,\n      rgba(255, 255, 255, 0.8) 60%,\n      rgba(255, 255, 255, 0)\n    );\n    animation: ",' 5s infinite;\n    content: "";\n  }\n'])),Md),Fd=function(){return(0,T.jsxs)("div",{style:{width:"100%"},children:[(0,T.jsx)(Wd,{}),(0,T.jsx)(Gd,{})]})},Ud=function(){var n,e,t=(0,p.I0)(),i=(0,p.v9)(N.KJ),o=(0,p.v9)(N.PW),r=(0,p.v9)(N.H$),a=(0,p.v9)(N.vH),s=(0,Ad.cI)(),c=s.control,l=s.formState.errors,u=s.handleSubmit,h=s.register,g=s.setValue,x=s.watch,v=x("useGlobalProfile"),m=x("authorName"),b=x("authorEmail");(0,d.useEffect)((function(){t((0,I.c4)()),t((0,I.tu)())}),[]),(0,d.useEffect)((function(){i||o||g("useGlobalProfile",!(null===a||void 0===a||!a.useGlobalProfile))}),[i,o]),(0,d.useEffect)((function(){i||o||(v?(g("authorName",null===r||void 0===r?void 0:r.authorName),g("authorEmail",null===r||void 0===r?void 0:r.authorEmail)):(g("authorName",null===a||void 0===a?void 0:a.authorName),g("authorEmail",null===a||void 0===a?void 0:a.authorEmail)))}),[i,o,v]);var j=(0,d.useMemo)((function(){return!i&&!o&&(v?m!==(null===r||void 0===r?void 0:r.authorName)||b!==(null===r||void 0===r?void 0:r.authorEmail)||v!==(null===a||void 0===a?void 0:a.useGlobalProfile):m!==(null===a||void 0===a?void 0:a.authorName)||b!==(null===a||void 0===a?void 0:a.authorEmail)||v!==(null===a||void 0===a?void 0:a.useGlobalProfile))}),[i,o,a,r,v,m,b]),y=i||o;return(0,T.jsx)(Od,{children:(0,T.jsxs)("form",{onSubmit:u((function(n){n.useGlobalProfile&&(n.authorName=null===a||void 0===a?void 0:a.authorName,n.authorEmail=null===a||void 0===a?void 0:a.authorEmail),t((0,I.SO)(n))})),children:[(0,T.jsxs)(Hd,{children:[(0,T.jsx)(Ld,{kind:"heading-s",children:(0,O.tnH)(O.nZ$)}),(0,T.jsx)("div",{children:(0,T.jsx)(Ad.Qr,{control:c,name:"useGlobalProfile",render:function(n){var e=n.field;return(0,T.jsx)(Dd.r,(0,f.Z)((0,f.Z)({"data-testid":"t--git-user-settings-switch",isDisabled:y},zd()(e,["value"])),{},{isSelected:e.value,children:(0,O.tnH)(O.dz1)}))}})})]}),(0,T.jsx)(gn.T,{size:5}),(0,T.jsxs)(Rd,{children:[(0,T.jsx)(Bd,{children:y?(0,T.jsx)(Fd,{}):(0,T.jsx)(Tt.I,(0,f.Z)((0,f.Z)({"data-testid":"t--git-user-settings-author-name-input",errorMessage:null===l||void 0===l||null===(n=l.authorName)||void 0===n?void 0:n.message,isReadOnly:v,isValid:!(null!==l&&void 0!==l&&l.authorName),label:(0,O.tnH)(O.psJ),size:"md",type:"text"},h("authorName",{required:(0,O.tnH)(O.VGP)})),{},{onChange:function(n){return g("authorName",n)}}))}),(0,T.jsx)(Bd,{children:y?(0,T.jsx)(Fd,{}):(0,T.jsx)(Tt.I,(0,f.Z)((0,f.Z)({"data-testid":"t--git-user-settings-author-email-input",errorMessage:null===l||void 0===l||null===(e=l.authorEmail)||void 0===e?void 0:e.message,isReadOnly:v,isValid:!(null!==l&&void 0!==l&&l.authorEmail),label:(0,O.tnH)(O.OrC),size:"md"},h("authorEmail",{required:(0,O.tnH)(O.yX6),pattern:{value:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,message:(0,O.tnH)(O.VQg)}})),{},{onChange:function(n){return g("authorEmail",n)}}))}),(0,T.jsx)(M.z,{isDisabled:!j,kind:"secondary",size:"md",type:"submit",children:(0,O.tnH)(O.wbW)})]})]})})},Kd=v.ZP.div(kd||(kd=(0,x.Z)(["\n  padding-top: 16px;\n  padding-bottom: 16px;\n"]))),qd=v.ZP.div(Zd||(Zd=(0,x.Z)(["\n  margin-bottom: 16px;\n"]))),Jd=v.ZP.div(Cd||(Cd=(0,x.Z)(["\n  border: solid 0.4px var(--ads-v2-color-red-600);\n  padding: 12px;\n  border-radius: 4px;\n"]))),Xd=v.ZP.div(Id||(Id=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n"]))),Vd=v.ZP.div(Nd||(Nd=(0,x.Z)(["\n  flex: 1;\n  margin-right: 32px;\n"]))),Yd=(0,v.ZP)(B.x)(Pd||(Pd=(0,x.Z)(["\n  font-weight: 600;\n"]))),Qd=(0,v.ZP)(zt.i)(Ed||(Ed=(0,x.Z)(["\n  display: block;\n  margin-top: 16px;\n  margin-bottom: 16px;\n"])));var $d,nu=function(){var n=(0,Fn.nT)(),e=(0,Fn.QD)(),t=(0,zn.y)(Dn.Yx.release_git_autocommit_feature_enabled),i=(0,p.v9)(N.D2),o=(0,p.v9)(N.Uh),r=(0,p.v9)(N.VO),a=(0,p.I0)(),s=(0,p.v9)(Ce.kc),c=t&&e,l=c&&n;return(0,T.jsxs)(Kd,{children:[(0,T.jsx)(qd,{children:(0,T.jsx)(Yd,{kind:"heading-s",children:(0,O.tnH)(O.Bwv)})}),(0,T.jsxs)(Jd,{children:[c&&(0,T.jsxs)(Xd,{children:[(0,T.jsxs)(Vd,{children:[(0,T.jsx)(B.x,{kind:"heading-xs",renderAs:"p",children:(0,O.tnH)(O.wMy)}),(0,T.jsx)(B.x,{renderAs:"p",children:(0,O.tnH)(O.wgH)})]}),(0,T.jsx)(M.z,{"data-testid":"t--git-disconnect-btn",isLoading:i||r,kind:o?"error":"secondary",onClick:function(){o?(a((0,I.YK)({open:!1})),a((0,I.E6)(!0))):(a((0,I.rL)()),F.ZP.logEvent("GS_AUTO_COMMIT_ENABLED"))},size:"md",children:o?(0,O.tnH)(O.pS8):(0,O.tnH)(O.mbi)})]}),l&&(0,T.jsx)(Qd,{}),n&&(0,T.jsxs)(Xd,{children:[(0,T.jsxs)(Vd,{children:[(0,T.jsx)(B.x,{kind:"heading-xs",renderAs:"p",children:(0,O.tnH)(O.BiX)}),(0,T.jsx)(B.x,{renderAs:"p",children:(0,O.tnH)(O.W_q)})]}),(0,T.jsx)(M.z,{"data-testid":"t--git-disconnect-btn",kind:"error",onClick:function(){F.ZP.logEvent("GS_DISCONNECT_GIT_CLICK",{source:"GIT_CONNECTION_MODAL"}),a((0,I.YK)({open:!1})),a((0,I.Nl)({id:(null===s||void 0===s?void 0:s.id)||"",name:(null===s||void 0===s?void 0:s.name)||""})),a((0,I.HZ)(!0))},size:"md",children:(0,O.tnH)(O.BiX)})]})]})]})},eu=v.ZP.div($d||($d=(0,x.Z)(["\n  overflow: auto;\n"])));var tu,iu,ou,ru,au,su,cu=function(){var n=(0,Fn.nT)(),e=(0,Fn.QD)(),t=n||e;return(0,T.jsxs)(eu,{children:[(0,T.jsx)(Ud,{}),t&&(0,T.jsx)(nu,{})]})},lu=t(22994),du=t(18276),uu=function(n){var e=(0,p.v9)(du.Sg),t=(0,F.wV)();return(0,d.useMemo)((function(){var i=new URL(Oo.jo);return t&&i.searchParams.append("source",t),e&&i.searchParams.append("instance",e),n&&i.searchParams.append("feature",n),i.href}),[t,e,n])},pu=v.ZP.div(tu||(tu=(0,x.Z)(["\n  padding-top: 8px;\n  padding-bottom: 16px;\n"]))),hu=v.ZP.div(iu||(iu=(0,x.Z)(["\n  margin-bottom: 16px;\n"]))),gu=v.ZP.div(ou||(ou=(0,x.Z)(["\n  display: flex;\n"]))),fu=(0,v.ZP)(B.x)(ru||(ru=(0,x.Z)(["\n  font-weight: 600;\n  margin-bottom: 4px;\n"]))),xu=(0,v.ZP)(B.x)(au||(au=(0,x.Z)(["\n  margin-bottom: 4px;\n"]))),vu=(0,v.ZP)(lu.P)(su||(su=(0,x.Z)(["\n  width: 240px;\n  margin-right: 12px;\n"])));var mu,bu,ju,yu,wu,ku,Zu,Cu=function(){var n=(0,p.I0)(),e=(0,zn.y)(Dn.Yx.license_git_branch_protection_enabled),t=(0,p.v9)(N.Ns),i=(0,d.useState)(),o=(0,w.Z)(i,2),r=o[0],a=o[1],s=(0,d.useMemo)((function(){var n=t.find((function(n){return n.default}));return null===n||void 0===n?void 0:n.branchName}),[t]),c=uu("git_branch_protection");(0,d.useEffect)((function(){var n=t.find((function(n){return n.default}));a(null===n||void 0===n?void 0:n.branchName)}),[]);var l=t.filter((function(n){return!n.branchName.includes("origin/")})),u=!r||r===s;return(0,T.jsxs)(pu,{children:[(0,T.jsxs)(hu,{children:[(0,T.jsx)(fu,{kind:"heading-s",renderAs:"h3",children:(0,O.tnH)(O.mj)}),(0,T.jsx)(xu,{kind:"body-m",renderAs:"p",children:(0,O.tnH)(O.HpF)}),!e&&(0,T.jsxs)(xu,{kind:"body-m",renderAs:"p",children:["To change your default branch, try"," ",(0,T.jsx)(_t.r,{kind:"primary",style:{display:"inline-flex"},target:"_blank",to:c,children:(0,O.tnH)(O.hLz)})]})]}),(0,T.jsxs)(gu,{children:[(0,T.jsx)(vu,{"data-testid":"t--git-default-branch-select",dropdownMatchSelectWidth:!0,getPopupContainer:function(n){return n.parentNode},isDisabled:!e,onChange:function(n){return a(n)},value:r,children:l.map((function(n){return(0,T.jsx)(lu.W,{value:n.branchName,children:n.branchName},n.branchName)}))}),(0,T.jsx)(M.z,{"data-testid":"t--git-default-branch-update-btn",isDisabled:u,kind:"secondary",onClick:function(){r&&(F.ZP.logEvent("GS_DEFAULT_BRANCH_UPDATE",{old_branch:s,new_branch:r}),n((0,I.xk)({branchName:r})))},size:"md",children:(0,O.tnH)(O.wbW)})]})]})},Iu=t(37762),Nu=t(64777),Pu=t.n(Nu),Eu=t(68709),Su=v.ZP.div(mu||(mu=(0,x.Z)(["\n  padding-top: 16px;\n  padding-bottom: 16px;\n"]))),Tu=v.ZP.div(bu||(bu=(0,x.Z)(["\n  margin-bottom: 16px;\n"]))),_u=v.ZP.div(ju||(ju=(0,x.Z)(["\n  display: flex;\n"]))),zu=(0,v.ZP)(B.x)(yu||(yu=(0,x.Z)(["\n  font-weight: 600;\n  margin-bottom: 4px;\n"]))),Du=(0,v.ZP)(B.x)(wu||(wu=(0,x.Z)(["\n  margin-bottom: 4px;\n"]))),Au=(0,v.ZP)(lu.P)(ku||(ku=(0,x.Z)(["\n  width: 300px;\n  margin-right: 12px;\n"]))),Ou=(0,v.ZP)(_t.r)(Zu||(Zu=(0,x.Z)(["\n  display: inline-flex;\n"])));var Hu,Ru=function(){var n=(0,p.I0)(),e=(0,p.v9)(N.Ns),t=(0,p.v9)(N.tX),i=(0,d.useMemo)((function(){var n,i=[],o=(0,Iu.Z)(e);try{for(o.s();!(n=o.n()).done;){var r=n.value;if(r.branchName===t)i.unshift(r.branchName);else if(r.branchName.includes(Eu.uT)){var a=r.branchName.replace(Eu.uT,"");i.includes(a)||i.push(r.branchName.replace(Eu.uT,""))}else i.push(r.branchName)}}catch(s){o.e(s)}finally{o.f()}return i}),[e,t]),o=(0,zn.y)(Dn.Yx.license_git_branch_protection_enabled),r=(0,p.v9)(N.r5),a=(0,p.v9)(N.V),s=(0,d.useState)([]),c=(0,w.Z)(s,2),l=c[0],u=c[1],h=uu("git_branch_protection");(0,d.useEffect)((function(){u(r)}),[]);var g=!(0,d.useMemo)((function(){return Pu()(r,l).length>0}),[r,l]),f=function(){var n,e={branches_added:[],branches_removed:[],protected_branches:l},t=(0,Iu.Z)(l);try{for(t.s();!(n=t.n()).done;){var i=n.value;r.includes(i)||e.branches_added.push(i)}}catch(c){t.e(c)}finally{t.f()}var o,a=(0,Iu.Z)(r);try{for(a.s();!(o=a.n()).done;){var s=o.value;l.includes(s)||e.branches_removed.push(s)}}catch(c){a.e(c)}finally{a.f()}F.ZP.logEvent("GS_PROTECTED_BRANCHES_UPDATE",e)};return(0,T.jsxs)(Su,{children:[(0,T.jsxs)(Tu,{children:[(0,T.jsx)(zu,{kind:"heading-s",renderAs:"h3",children:(0,O.tnH)(O.LE7)}),(0,T.jsxs)(Du,{kind:"body-m",renderAs:"p",children:[(0,O.tnH)(O.vEt)," ",(0,T.jsx)(Ou,{target:"_blank",to:Oo.SN,children:(0,O.tnH)(O.gPB)})]}),!o&&(0,T.jsxs)(Du,{kind:"body-m",renderAs:"p",children:["To protect multiple branches, try"," ",(0,T.jsx)(Ou,{kind:"primary",target:"_blank",to:h,children:(0,O.tnH)(O.hLz)})]})]}),(0,T.jsxs)(_u,{children:[(0,T.jsx)(Au,{"data-testid":"t--git-protected-branches-select",dropdownMatchSelectWidth:!0,getPopupContainer:function(n){return n.parentNode},isMultiSelect:!0,maxTagTextLength:8,onChange:function(n){return u(n)},value:l,children:i.map((function(n){return(0,T.jsx)(lu.W,{disabled:!o&&n!==t,value:n,children:n},n)}))}),(0,T.jsx)(M.z,{"data-testid":"t--git-protected-branches-update-btn",isDisabled:g,isLoading:a,kind:"secondary",onClick:function(){f(),n((0,I.we)({protectedBranches:null!==l&&void 0!==l?l:[]}))},size:"md",children:(0,O.tnH)(O.wbW)})]})]})},Bu=v.ZP.div(Hu||(Hu=(0,x.Z)(["\n  overflow: auto;\n"])));var Lu,Mu,Wu,Gu,Fu=function(){var n=(0,Fn.B0)(),e=(0,Fn.fn)(),t=n;return(0,T.jsxs)(Bu,{children:[e&&(0,T.jsx)(Cu,{}),t&&(0,T.jsx)(Ru,{})]})},Uu=v.ZP.div(Lu||(Lu=(0,x.Z)(["\n  padding-top: 8px;\n  padding-bottom: 16px;\n  overflow: auto;\n  min-height: calc(360px + 52px);\n"]))),Ku=(0,v.ZP)(B.x)(Mu||(Mu=(0,x.Z)(["\n  font-weight: 600;\n  margin-bottom: 4px;\n"]))),qu=(0,v.ZP)(B.x)(Wu||(Wu=(0,x.Z)(["\n  margin-bottom: 12px;\n"]))),Ju=(0,v.ZP)(M.z)(Gu||(Gu=(0,x.Z)(["\n  display: inline-block;\n"])));var Xu=function(){var n=uu("git_continuous_delivery");return(0,T.jsxs)(Uu,{children:[(0,T.jsx)(Ku,{kind:"heading-s",renderAs:"h3",children:(0,O.tnH)(O.$QU)}),(0,T.jsx)(qu,{kind:"body-m",renderAs:"p",children:(0,O.tnH)(O.rWG)}),(0,T.jsx)(Ju,{href:n,kind:"primary",renderAs:"a",size:"md",target:"_blank",children:(0,O.tnH)(O.$k7)})]})};var Vu,Yu=function(){return(0,T.jsx)(Xu,{})},Qu=(0,v.ZP)(la.hz)(Vu||(Vu=(0,x.Z)(["\n  &&& {\n    width: 600px;\n    transform: none !important;\n    top: 100px;\n    left: calc(50% - 300px);\n    max-height: calc(100vh - 200px);\n  }\n"])));var $u=function(){var n=(0,Fn.B0)(),e=(0,Fn.fn)()||n,t=(0,p.v9)(N.De),i=(0,p.v9)(N.kK),o=(0,d.useMemo)((function(){var n=[{key:Un.W.GENERAL,title:(0,O.tnH)(O.vhi)}];return e&&n.push({key:Un.W.BRANCH,title:(0,O.tnH)(O.mRk)}),n.push({key:Un.W.CD,title:(0,O.tnH)(O.k$F)}),n}),[e]),r=(0,p.I0)();return(0,T.jsx)(la.u_,{onOpenChange:function(n){n||r((0,I.YK)({open:!1}))},open:t,children:(0,T.jsxs)(Qu,{"data-testid":"t--git-settings-modal",children:[(0,T.jsx)(la.xB,{children:(0,O.tnH)(O.Akz)}),(0,T.jsx)(Td.Z,{activeTabKey:i,onSelect:function(n){return function(n){r((0,I.YK)({open:!0,tab:n}))}(n)},options:o}),(0,T.jsxs)(la.fe,{children:[i===Un.W.GENERAL&&(0,T.jsx)(cu,{}),i===Un.W.BRANCH&&(0,T.jsx)(Fu,{}),i===Un.W.CD&&(0,T.jsx)(Yu,{})]})]})})};var np=function(){return null};var ep,tp,ip,op,rp,ap=function(){return null},sp=t(42607),cp=t(72580),lp=t(92486),dp=t(31055),up=v.ZP.div(ep||(ep=(0,x.Z)(["\n  margin-bottom: 8px;\n"]))),pp=v.ZP.div(tp||(tp=(0,x.Z)(["\n  padding: 16px;\n  background-color: var(--ads-v2-color-gray-100);\n  border-radius: 4px;\n"]))),hp=v.ZP.div(ip||(ip=(0,x.Z)(["\n  display: grid;\n  gap: 16px;\n  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));\n"]))),gp=v.ZP.section(op||(op=(0,x.Z)(["\n  overflow-y: auto;\n"]))),fp=v.ZP.hr(rp||(rp=(0,x.Z)(["\n  margin: 16px 0;\n"]))),xp=function(n){var e=n.containerTestId,t=n.entities,i=n.onEntityChecked,o=n.selectedIds;return(0,T.jsx)(pp,{"data-testid":e,children:(0,T.jsx)(hp,{children:t.map((function(n){return(0,T.jsx)(Al.X,{isSelected:o.includes(n.id||n.name),onChange:function(e){return i(n.id||n.name,e)},children:n.name},n.id||n.name)}))})})},vp=t(80432),mp=function(n){var e=n.appDS,t=n.data,i=n.selectedQueries,o=n.updateSelectedQueries,r=(0,p.v9)(qe.uM),a=(0,d.useMemo)((function(){return ft()(r,"id")}),[r]),s=(0,d.useMemo)((function(){var n={};return Object.keys(t).forEach((function(t){var i=e.find((function(n){return n.name===t}));i&&(n[t]=i.pluginId)})),n}),[e]),c=function(n,e){var t=(0,ui.Z)(i);e?t.push(n):t.splice(t.indexOf(n),1),o(t)};return(0,T.jsx)("div",{className:"pl-4 pr-4","data-testid":"t--partialExportModal-queriesSection",children:Object.keys(t).map((function(n){return(0,T.jsxs)(Ui.zF,{isOpen:!0,children:[(0,T.jsx)(Ui.cV,{children:(0,T.jsxs)(B.x,{kind:"heading-s",style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,vp.tF)(a[s[n]])," ",n]})}),(0,T.jsx)(Ui.Fw,{children:(0,T.jsx)(xp,{entities:t[n].map((function(n){return n.entity})),onEntityChecked:c,selectedIds:i})})]},n)}))})},bp=function(n){var e=n.selectAllchecked,t=n.selectedWidgetIds,i=n.updateSelectAllChecked,o=n.updateSelectedWidgets,r=n.widgets;return r&&r.children&&0!==r.children.length?(0,T.jsx)(jp,{selectAllchecked:e,selectedWidgetIds:t,updateSelectAllChecked:i,updateSelectedWidgets:o,widgetList:r.children}):null};function jp(n){var e=n.selectAllchecked,t=n.selectedWidgetIds,i=n.updateSelectAllChecked,o=n.updateSelectedWidgets,r=n.widgetList,a=function n(e,t,i){var o,r=t.includes(e.widgetId);i?!r&&t.push(e.widgetId):r&&t.splice(t.indexOf(e.widgetId),1),null===e||void 0===e||null===(o=e.children)||void 0===o||o.forEach((function(e){n(e,t,i)}))};function s(n){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2?arguments[2]:void 0,l=t.includes(n.widgetId);return(0,T.jsxs)("div",{style:{marginLeft:r>0?r+8:r},children:[(0,T.jsx)(up,{children:(0,T.jsx)(Al.X,{"data-testid":"t--partial-export-modal-widget-select-".concat(n.widgetId),isDisabled:c,isSelected:l,onChange:function(e){return function(n,e){var r=(0,ui.Z)(t);a(n,r,e),o(r),e||i(!1)}(n,e)},children:(0,T.jsxs)("div",{className:"flex items-center",children:[(0,T.jsx)(Ii.Z,{height:12,type:n.type,width:12}),"\xa0",n.widgetName]})})}),null===(e=n.children)||void 0===e?void 0:e.map((function(n){return s(n,r+1,l)}))]},n.widgetId)}return(0,T.jsxs)(pp,{"data-testid":"t--partialExportModal-widgetsSection",children:[(0,T.jsx)(Al.X,{className:"mb-4","data-testid":"t--partial-export-modal-widget-select-all",isSelected:e,onChange:function(n){var e=(0,ui.Z)(t);r.forEach((function(t){a(t,e,n)})),o(e),i(n)},children:(0,T.jsx)(B.x,{kind:"body-m",renderAs:"p",children:"Select All"})}),(0,T.jsx)(hp,{children:r.map((function(n){return s(n,0,!1)}))})]})}var yp,wp,kp,Zp,Cp,Ip={jsObjects:[],datasources:[],customJSLibs:[],widgets:[],queries:[]},Np=function(){var n=(0,d.useState)([]),e=(0,w.Z)(n,2),t=e[0],i=e[1],o=(0,p.I0)(),r=(0,d.useState)(Ip),a=(0,w.Z)(r,2),s=a[0],c=a[1],l=(0,p.v9)(sp.M7),u=(0,dp.hw)().appWideDS,h=(0,p.v9)(qe.y9),x=(0,p.v9)(qe.sD),v=(0,p.v9)(y.JM),m=(0,p.v9)(Ce.d6),b=(0,d.useState)(!1),j=(0,w.Z)(b,2),k=j[0],Z=j[1];(0,d.useEffect)((function(){i(h.filter((function(n){return!!n.url})))}),[h]);var C=(0,d.useMemo)((function(){return!s.jsObjects.length&&!s.datasources.length&&!s.customJSLibs.length&&!s.widgets.length&&!s.queries.length}),[s]),I=(0,d.useMemo)((function(){var n,e={},i=null,o=(0,Iu.Z)(l);try{for(o.s();!(n=o.n()).done;){var r=n.value;"group"===r.type?e[i=r.entity.name]=[]:i&&e[i].push(r)}}catch(d){o.e(d)}finally{o.f()}var a=e["JS Objects"]&&e["JS Objects"].map((function(n){return n.entity}));return delete e["JS Objects"],[{content:a?(0,T.jsx)(xp,{containerTestId:"t--partialExportModal-jsObjectsSection",entities:a,onEntityChecked:function(n,e){return N("jsObjects",n,e)},selectedIds:s.jsObjects}):null,icon:(0,T.jsx)(H.J,{name:"js",size:"md"}),shouldShowReset:!!s.jsObjects.length,onResetClick:function(n){c((function(n){return(0,f.Z)((0,f.Z)({},n),{},{jsObjects:[]})})),n.stopPropagation()},title:(0,O.tnH)(O.Qx.export.sections.jsObjects)},{content:u.length>0?(0,T.jsx)(xp,{containerTestId:"t--partialExportModal-datasourcesSection",entities:u,onEntityChecked:function(n,e){return N("datasources",n,e)},selectedIds:s.datasources}):null,icon:(0,T.jsx)(H.J,{name:"database-2-line",size:"md"}),shouldShowReset:!!s.datasources.length,onResetClick:function(n){c((function(n){return(0,f.Z)((0,f.Z)({},n),{},{datasources:[]})})),n.stopPropagation()},title:(0,O.tnH)(O.Qx.export.sections.databases)},{content:e?(0,T.jsx)(mp,{appDS:u,data:e,selectedQueries:s.queries,updateSelectedQueries:function(n){return c((function(e){return(0,f.Z)((0,f.Z)({},e),{},{queries:n})}))}}):null,icon:(0,T.jsx)(lp.T.GROUP_QUERY_ICON,{height:16,keepColors:!0,width:16}),shouldShowReset:!!s.queries.length,onResetClick:function(n){c((function(n){return(0,f.Z)((0,f.Z)({},n),{},{queries:[]})})),n.stopPropagation()},title:(0,O.tnH)(O.Qx.export.sections.queries)},{content:t.length>0?(0,T.jsx)(xp,{containerTestId:"t--partialExportModal-customJSLibsSection",entities:t,onEntityChecked:function(n,e){return N("customJSLibs",n,e)},selectedIds:s.customJSLibs}):null,icon:(0,T.jsx)(lp.T.LIBRARY_ICON,{height:16,keepColors:!0,width:16}),shouldShowReset:!!s.customJSLibs.length,onResetClick:function(n){c((function(n){return(0,f.Z)((0,f.Z)({},n),{},{customJSLibs:[]})})),n.stopPropagation()},title:(0,O.tnH)(O.Qx.export.sections.customLibs)},{content:x?(0,T.jsx)(bp,{selectAllchecked:k,selectedWidgetIds:s.widgets,updateSelectAllChecked:Z,updateSelectedWidgets:function(n){return c((function(e){return(0,f.Z)((0,f.Z)({},e),{},{widgets:n})}))},widgets:x}):null,icon:(0,T.jsx)(cp.t.GROUP_CONTROL,{height:16,keepColors:!0,width:16}),shouldShowReset:!!s.widgets.length,onResetClick:function(n){c((function(n){return(0,f.Z)((0,f.Z)({},n),{},{widgets:[]})})),Z(!1),n.stopPropagation()},title:(0,O.tnH)(O.Qx.export.sections.widgets)}]}),[l,u,t,x,s,c]),N=function(n,e,t){var i=(0,ui.Z)(s[n]);t?i.push(e):i.splice(i.indexOf(e),1),c((function(e){return(0,f.Z)((0,f.Z)({},e),{},(0,g.Z)({},n,i))}))},P=function n(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.widgetId&&t.includes(e.widgetId)?(i.push(e.widgetId),i):(e.children&&e.children.forEach((function(e){n(e,t,i)})),i)};return(0,T.jsx)(la.u_,{onOpenChange:function(n){n||(o((0,ls.dd)(!1)),c(Ip))},open:v.isExportModalOpen,children:(0,T.jsxs)(la.hz,{children:[(0,T.jsx)(la.xB,{children:(0,T.jsxs)(B.x,{className:"title",kind:"heading-xl",children:[(0,O.tnH)(O.Qx.export.modalHeading)," ",m?" - ".concat(m):""]})}),(0,T.jsx)(B.x,{kind:"heading-s",renderAs:"h2",children:(0,O.tnH)(O.Qx.export.modalSubHeading)}),(0,T.jsx)(gp,{"data-testid":"t--partialExportModal",children:I.map((function(n){var e=n.content,t=n.icon,i=n.onResetClick,o=n.shouldShowReset,r=n.title;return(0,T.jsxs)(d.Fragment,{children:[(0,T.jsxs)(Ui.zF,{className:"mt-4",children:[(0,T.jsx)(Ui.cV,{children:(0,T.jsxs)("div",{className:"w-full flex justify-between",children:[(0,T.jsxs)(B.x,{"data-testid":"t--partialExportModal-collapsibleHeader",kind:"heading-s",style:{display:"flex",alignItems:"center",gap:"8px"},children:[t," ",r]}),o&&(0,T.jsx)(M.z,{className:"mr-2","data-testid":"t--partial-export-modal-reset-".concat(r),endIcon:"restart-line",kind:"tertiary",onClick:i,size:"sm",children:"Reset"})]})}),(0,T.jsx)(Ui.Fw,{children:e})]},r),(0,T.jsx)(fp,{})]},r)}))}),(0,T.jsx)(la.mz,{children:(0,T.jsx)(M.z,{"data-testid":"t-partial-export-entities-btn",isDisabled:C,isLoading:v.isExporting,onClick:function(){o((0,ls.uD)((0,f.Z)((0,f.Z)({},s),{},{widgets:P(x,s.widgets)}))),c(Ip)},size:"md",children:(0,O.tnH)(O.Qx.export.cta)})})]})})},Pp=t(43138),Ep=t(5017),Sp=t(2132),Tp=v.ZP.div(yp||(yp=(0,x.Z)(["\n  padding: 0;\n  margin-bottom: var(--ads-v2-spaces-7);\n"]))),_p=v.ZP.div(wp||(wp=(0,x.Z)(["\n  display: flex;\n  padding: 0;\n  margin: 0;\n  justify-content: center;\n  gap: 16px;\n"]))),zp=(0,v.iv)(kp||(kp=(0,x.Z)(["\n  height: 200px;\n  border: 1px solid var(--ads-v2-color-border);\n  border-radius: var(--ads-v2-border-radius);\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  cursor: pointer;\n  position: relative;\n\n  &:hover {\n    background: var(--ads-v2-color-bg-subtle);\n  }\n"]))),Dp=v.ZP.div(Zp||(Zp=(0,x.Z)(["\n  ","\n  width: ",";\n  & > div {\n    background: transparent none;\n    border: none;\n\n    .upload-form-container {\n      padding-top: 0;\n    }\n\n    .button-wrapper {\n      width: 100%;\n      height: 100%;\n      justify-content: flex-start;\n\n      .cs-icon {\n        border-radius: 50%;\n        width: ","px;\n        height: ","px;\n        background: var(--ads-v2-color-bg-muted);\n        display: flex;\n        justify-content: center;\n        margin-top: 35px;\n        margin-bottom: 32px;\n        color: var(--ads-v2-color-fg) !important;\n\n        svg {\n          width: ","px;\n          height: ","px;\n\n          path {\n            color: var(--ads-v2-color-fg) !important;\n          }\n        }\n      }\n\n      .cs-text {\n        max-width: 220px;\n        text-align: center;\n        margin-top: 0;\n        font-size: ","px;\n\n        &.drag-drop-text {\n          color: var(--ads-v2-color-fg);\n        }\n\n        &.drag-drop-description {\n          color: var(--ads-v2-color-fg-muted);\n        }\n      }\n    }\n  }\n"])),zp,(function(n){return n.fillCardWidth?"100%":"320px"}),(function(n){return n.theme.spaces[12]+2}),(function(n){return n.theme.spaces[12]+2}),(function(n){return n.theme.iconSizes.XL}),(function(n){return n.theme.iconSizes.XL}),(function(n){return n.theme.typography.p1.fontSize})),Ap=v.ZP.div(Cp||(Cp=(0,x.Z)(["\n  width: 252px;\n  height: 240px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  .cs-icon {\n    margin: auto;\n    border-radius: var(--ads-v2-border-radius-circle);\n    width: 32px;\n    height: 32px;\n    display: flex;\n    justify-content: center;\n    margin-bottom: 8px;\n    background: var(--appsmith-color-black-200);\n    svg {\n      width: 20px;\n      height: 20px;\n    }\n  }\n  .ads-v2-text.importing-app-name {\n    display: flex;\n    justify-content: center;\n  }\n"])));function Op(){var n,e=(0,d.useState)(null),t=(0,w.Z)(e,2),i=t[0],o=t[1],r=(0,p.I0)(),a=(0,p.v9)(y.gs),s=(0,p.v9)(y.JM),c=(0,d.useCallback)(function(){var n=(0,b.Z)((0,m.Z)().mark((function n(e,t){return(0,m.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e?(o({file:e,setProgress:t}),r((0,Pp.wg)({applicationFile:e}))):o(null);case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[]),l=function(){r((0,Pp.wz)(!1))};(0,d.useEffect)((function(){i&&s.isImportDone&&(o(null),l())}),[i,s]);var u=(0,d.useCallback)((function(){return o(null)}),[]);return(0,T.jsx)(la.u_,{onOpenChange:function(n){n||l()},open:s.isImportModalOpen,children:(0,T.jsxs)(la.hz,{className:"t--import-application-modal","data-testid":"t--partialImportModal",style:{width:a?"40vw":"fit-content",minWidth:"30vw"},children:[(0,T.jsx)(la.xB,{children:(0,O.tnH)(O.Qx.import.modalHeading)}),(0,T.jsx)(Tp,{children:(0,T.jsx)(B.x,{kind:"body-m",children:(0,O.tnH)(a?O.qVI:O.Qx.import.modalSubheading)})}),!a&&(0,T.jsx)(_p,{children:(0,T.jsx)(Dp,{className:"t--import-json-card",fillCardWidth:!1,children:(0,T.jsx)(Ep.ZP,{containerClickable:!0,description:(0,O.tnH)(O.Tvi),fileType:Ep.Tv.JSON,fileUploader:c,iconFillColor:"var(--ads-v2-color-fg)",onFileRemoved:u,title:(0,O.tnH)(O.NDC),uploadIcon:"file-line"})})}),a&&(0,T.jsx)(_p,{className:"t-import-app-progress-wrapper",children:(0,T.jsxs)(Ap,{className:"t--importing-app-statusbar",children:[(0,T.jsx)(H.J,{name:"file-line",size:"md"}),(0,T.jsx)(B.x,{className:"importing-app-name",kind:"body-m",children:(null===i||void 0===i||null===(n=i.file)||void 0===n?void 0:n.name)||"filename.json"}),(0,T.jsx)(Sp.Z,{completed:!a,message:(0,O.tnH)(O.lqX),period:4})]})})]})})}var Hp=function(n){function e(){return(0,o.Z)(this,e),n=this,t=e,i=arguments,t=(0,c.Z)(t),(0,a.Z)(n,(0,s.Z)()?Reflect.construct(t,i||[],(0,c.Z)(n).constructor):t.apply(n,i));var n,t,i}return(0,l.Z)(e,n),(0,r.Z)(e,[{key:"componentDidMount",value:function(){var n=this,e=(this.props.match.params||{}).pageId;gd.ZP.setCurrentPageId(e),(0,hd.w)().then((function(){n.props.widgetConfigBuildSuccess()}))}},{key:"shouldComponentUpdate",value:function(n){var e,t,i,o;return(0,Pl.oq)(this.props.location,n.location)||n.currentApplicationName!==this.props.currentApplicationName||(null===(e=n.match)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.pageId)!==(null===(i=this.props.match)||void 0===i||null===(o=i.params)||void 0===o?void 0:o.pageId)||n.currentApplicationId!==this.props.currentApplicationId||n.isEditorInitialized!==this.props.isEditorInitialized||n.isPublishing!==this.props.isPublishing||n.isEditorLoading!==this.props.isEditorLoading||n.errorPublishing!==this.props.errorPublishing||n.isEditorInitializeError!==this.props.isEditorInitializeError||n.loadingGuidedTour!==this.props.loadingGuidedTour}},{key:"componentDidUpdate",value:function(n){var e=this.props.match.params||{},t=e.applicationId,i=e.pageId,o=(n.match.params||{}).pageId,r=(0,Pl.oq)(this.props.location,n.location),a=(0,q.uP)(this.props.location.search,$e.u8),s=i!==o;(0,q.uP)(n.location.search,$e.u8)&&r&&i?this.props.initEditor({applicationId:t,pageId:i,branch:a,mode:_a.p.EDIT}):o&&i&&s&&(this.props.updateCurrentPage(i),this.props.setupPage(i),gd.ZP.setCurrentPageId(i))}},{key:"componentWillUnmount",value:function(){this.props.resetEditorRequest(),gd.ZP.setCurrentPageId(null)}},{key:"render",value:function(){return!this.props.isEditorInitialized||this.props.loadingGuidedTour?(0,T.jsx)(Ya.Z,{style:{height:"calc(100vh - ".concat(Rp.smallHeaderHeight,")")},children:(0,T.jsx)(R.$,{size:"lg"})}):(0,T.jsxs)(v.f6,{theme:Rp,children:[(0,T.jsxs)("div",{children:[(0,T.jsxs)(u.ql,{children:[(0,T.jsx)("meta",{charSet:"utf-8"}),(0,T.jsx)("title",{children:"".concat(this.props.currentApplicationName," | Editor | Appsmith")})]}),(0,T.jsxs)(hl,{children:[(0,T.jsx)(el,{}),(0,T.jsx)(gl.Z,{}),(0,T.jsx)($u,{}),(0,T.jsx)(ap,{}),(0,T.jsx)(np,{}),(0,T.jsx)(vl,{}),(0,T.jsx)(Sd,{}),(0,T.jsx)(ml.Z,{}),(0,T.jsx)(ld,{}),(0,T.jsx)(Nl,{}),(0,T.jsx)(dd.Z,{}),(0,T.jsx)(pd,{}),(0,T.jsx)(Np,{}),(0,T.jsx)(Op,{})]})]}),(0,T.jsx)(il.Z,{})]})}}]),e}(d.Component),Rp=(0,ol.gh)(ol.hY.LIGHT),Bp=(0,h.EN)((0,p.$j)((function(n){var e;return{currentApplicationId:(0,Ce.aS)(n),errorPublishing:(0,Ce.xf)(n),isPublishing:(0,Ce.Hp)(n),isEditorLoading:(0,Ce.t$)(n),isEditorInitialized:(0,Ce.$i)(n),user:(0,Kr.ts)(n),currentApplicationName:null===(e=n.ui.applications.currentApplication)||void 0===e?void 0:e.name,currentPageId:(0,Ce.zj)(n)}}),(function(n){return{initEditor:function(e){return n((0,tl.o3)(e))},resetEditorRequest:function(){return n((0,tl.Vy)())},setupPage:function(e){return n((0,cl.hZ)(e))},updateCurrentPage:function(e){return n((0,cl.RZ)(e))},widgetConfigBuildSuccess:function(){return n((0,ls.$1)())}}}))(wr.zH(Hp)))}}]);
//# sourceMappingURL=editor.a2ff8e40.chunk.js.map