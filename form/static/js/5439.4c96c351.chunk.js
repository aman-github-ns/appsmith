"use strict";(self.webpackChunkappsmith=self.webpackChunkappsmith||[]).push([[5439],{75135:function(e,n,t){t.d(n,{Wu:function(){return Te}});var r,a,o,i,l,s,d,c,u,p,v,f,m,g=t(1413),h=t(29439),x=t(93433),y=t(30168),b=t(64364),N=t.n(b),T=t(74216),j=t.n(T),I=t(50390),P=t(62608),w=t(8960),Z=t.n(w),C=t(89662),E=t(28229),k=t.n(E),O=t(71098),S=t(43710),A=t(22182),V=t(44922),M=t(64250),z=t(90713),D=t(20409),R=t.n(D),L=t(93721),U=t(71096),_=t(38637),H=t(95765),W=t(71358),B=t(86858),F=t(32369),J=t(4482),G=t(13110),K=t(11298),Q=t(56626),Y=t(54138),q=t(18581),$=t(42957),X=t(59551),ee=t(47929),ne=t(62559),te={offset:{enabled:!0,offset:"0, 15"},preventOverflow:{enabled:!0,boundariesElement:"viewport",padding:50}},re=P.ZP.div(r||(r=(0,y.Z)(["\n  position: relative;\n  flex: 1;\n  height: 100%;\n  border-radius: var(--ads-v2-border-radius);\n"]))),ae="var(--ads-v2-color-bg)",oe="var(--ads-v2-color-fg)",ie="var(--ads-v2-color-bg)",le="var(--ads-v2-color-fg)",se=P.ZP.div(a||(a=(0,y.Z)(["\n  width: ","px;\n  max-height: ","px;\n  overflow-y: auto;\n  -ms-overflow-style: none;\n  background-color: ",";\n  color: ",";\n  padding: 10px;\n  box-shadow: var(--ads-v2-shadow-popovers);\n  border-radius: var(--ads-v2-border-radius);\n  pointer-events: all;\n"])),(function(e){return e.theme.evaluatedValuePopup.width}),(function(e){return e.theme.evaluatedValuePopup.height}),ae,oe),de=(0,P.ZP)(Q.z)(o||(o=(0,y.Z)(["\n  position: absolute !important;\n  right: var(--ads-v2-spaces-2);\n  top: var(--ads-v2-spaces-2);\n  cursor: pointer;\n  padding: 0;\n  display: none;\n  align-self: start;\n"]))),ce=P.ZP.div(i||(i=(0,y.Z)(["\n  min-height: 36px;\n  -ms-overflow-style: none;\n  padding-left: var(--ads-v2-spaces-3);\n  padding-right: var(--ads-v2-spaces-2);\n  background-color: ",";\n  border-radius: var(--ads-v2-border-radius);\n  border: 1px solid var(--ads-v2-color-border);\n  position: relative;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  &:hover {\n    .copyIconWrapper {\n      display: flex;\n    }\n  }\n\n  /* for audit logs */\n  .pushed-content .object-key-val,\n  .variable-row {\n    border-left: 1px solid var(--ads-v2-color-border) !important;\n\n    .object-key,\n    .object-key span,\n    span {\n      color: var(--ads-v2-color-fg) !important;\n      opacity: 1 !important;\n    }\n\n    .variable-value > div span {\n      color: var(--ads-v2-color-fg-brand) !important;\n    }\n  }\n\n  .object-key-val {\n    .collapsed-icon svg,\n    .expanded-icon svg {\n      color: var(--ads-v2-color-fg) !important;\n    }\n\n    .node-ellipsis {\n      color: var(--ads-v2-color-fg-brand) !important;\n      letter-spacing: -2px;\n    }\n  }\n"])),ie),ue=P.ZP.pre(l||(l=(0,y.Z)(["\n  margin: 0px 0px;\n  background-color: ",";\n  color: ",";\n  font-size: 12px;\n  -ms-overflow-style: none;\n  white-space: pre-wrap;\n  word-break: break-all;\n"])),ie,le),pe=P.ZP.pre(s||(s=(0,y.Z)(["\n  padding: ",";\n  background-color: ",";\n  color: ",";\n  font-size: 12px;\n  margin: 5px 0;\n  -ms-overflow-style: none;\n  white-space: pre-wrap;\n  border-radius: var(--ads-v2-border-radius);\n  ","\n"])),(function(e){return e.padded?"8px":0}),ie,le,(function(e){return(null===e||void 0===e?void 0:e.addBorder)&&"border: 1px solid var(--ads-v2-color-border);"})),ve=P.ZP.p(d||(d=(0,y.Z)(["\n  margin: ","px 0px;\n  padding: ","px\n    ","px;\n  border-radius: var(--ads-v2-border-radius);\n  font-size: 12px;\n  line-height: 19px;\n  letter-spacing: -0.24px;\n  background-color: var(--ads-v2-color-bg-error);\n  border: 1px solid var(--ads-v2-color-border-error);\n  color: var(--ads-v2-color-fg-error);\n  margin-top: 15px;\n"])),(function(e){return e.theme.spaces[2]}),(function(e){return e.theme.spaces[3]}),(function(e){return e.theme.spaces[5]})),fe=(0,P.ZP)(Y.J)(c||(c=(0,y.Z)(["\n  &.open-collapse {\n    transform: rotate(90deg);\n  }\n  float: right;\n"]))),me=P.ZP.p(u||(u=(0,y.Z)(["\n  margin: 8px 0;\n  font-size: 10px;\n  font-weight: 600;\n  line-height: 12px;\n  cursor: pointer;\n"]))),ge=P.ZP.p(p||(p=(0,y.Z)(["\n  margin: 8px 0;\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 12px;\n  cursor: pointer;\n"]))),he=P.ZP.div(v||(v=(0,y.Z)(["\n  display: flex;\n  margin-top: 12px;\n  justify-content: space-between;\n"])));function xe(e){var n=e.isOpen;return(0,ne.jsx)(fe,{className:n?"open-collapse":"",name:"arrow-right-s-line"})}var ye=P.ZP.span(f||(f=(0,y.Z)(["\n  ."," {\n    display: inline-block;\n  }\n"])),V.abV),be=P.ZP.span(m||(m=(0,y.Z)(["\n  cursor: pointer;\n  text-decoration: underline;\n  color: #333;\n"])));function Ne(e){var n=e.evaluatedValue,t=n.parameters,r=n.value;if(!r)return L.Tb("Prepared Statement got no value",{level:U.z.Debug,extra:{props:e}}),(0,ne.jsx)("div",{});var a=r.split(/\$\d+/),o=(0,x.Z)(r.matchAll(/\$\d+/g)).map((function(e){return e[0]})).map((function(e){return(0,ne.jsx)($.u,{content:"".concat(t[e]),trigger:"hover",children:(0,ne.jsx)(be,{children:e},e)},e)}));return(0,ne.jsx)(ye,{children:a.map((function(e,n){return(0,ne.jsxs)("span",{children:[e,o[n]]},e)}))})}function Te(e){var n=(0,I.useState)(!0),t=(0,h.Z)(n,2),r=t[0],a=t[1];return(0,ne.jsx)(je,(0,g.Z)((0,g.Z)({},e),{},{openEvaluatedValue:r,setOpenEvaluatedValue:function(e){return a(e)}}))}var je=(0,I.memo)((function(e){var n=e.collapseStringsAfterLength||20,t=e.onCopyContentText||"Evaluated value copied to clipboard",r=I.createRef(),a=e.openEvaluatedValue,o=e.setOpenEvaluatedValue,i=(0,ne.jsx)(ue,{colorTheme:e.theme,ref:r,children:"undefined"});if(void 0!==e.evaluatedValue)if(j()(e.evaluatedValue)||Array.isArray(e.evaluatedValue))if(e.preparedStatementViewer)i=(0,ne.jsx)(ue,{colorTheme:e.theme,ref:r,children:(0,ne.jsx)(Ne,{evaluatedValue:e.evaluatedValue})});else{var l={theme:e.theme===O.bY.DARK?"summerfruit":"rjv-default",name:null,enableClipboard:!1,displayObjectSize:!1,displayDataTypes:!1,style:{fontSize:"12px"},collapsed:2,collapseStringsAfterLength:n,shouldCollapse:function(e){return 1*e.name>=2}};i=(0,ne.jsx)(k(),(0,g.Z)({src:e.evaluatedValue},l))}else i=(0,ne.jsx)(ue,{colorTheme:e.theme,ref:r,children:null===e.evaluatedValue?"null":e.evaluatedValue.toString()});return(0,ne.jsxs)(ne.Fragment,{children:[!e.hideLabel&&(0,ne.jsxs)(me,{"data-testid":"evaluated-value-popup-title",onClick:function(){o&&o(!a)},children:["Evaluated value",(0,ne.jsx)(xe,{isOpen:a})]}),(0,ne.jsx)(M.UO,{isOpen:a,children:(0,ne.jsxs)(ce,{className:"t-property-evaluated-value",colorTheme:e.theme,children:[i,e.hasOwnProperty("evaluatedValue")&&(0,ne.jsx)(de,{className:"copyIconWrapper",isIconButton:!0,kind:"tertiary",onClick:function(){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Evaluated value copied to clipboard",t=N()(e)?e:JSON.stringify(e,null,2);R()(t),q.A.show(n,{kind:"success"})}(e.evaluatedValue,t)},size:"sm",startIcon:"copy-control"})]})})]})}),(function(e,n){return e.theme===n.theme&&e.hideLabel===n.hideLabel&&e.openEvaluatedValue===n.openEvaluatedValue&&Z()(e.evaluatedValue,n.evaluatedValue)}));function Ie(e){var n,t,r,a,o=I.createRef(),i=(0,H.I0)(),l=(0,H.v9)((function(n){return(0,W.yz)(n,e.dataTreePath)})),s=(0,I.useState)(!(null===l||void 0===l||!l.type)),d=(0,h.Z)(s,2),c=d[0],u=d[1],p=(0,I.useState)((null===(n=e.expected)||void 0===n?void 0:n.openExampleTextByDefault)||!(null===l||void 0===l||!l.example)),v=(0,h.Z)(p,2),f=v[0],m=v[1],g=(0,I.useState)(!l||void 0===l.value||l.value),x=(0,h.Z)(g,2),y=x[0],b=x[1],N=e.errors,T=e.expected,j=e.hasError,P=e.onMouseEnter,w=e.onMouseLeave,Z=e.theme,C=(0,G.zH)(e.dataTreePath||"").entityName,E=N.find((function(e){var n=e.kind;return n&&n.rootcause})),k=(0,H.v9)((function(e){var n;return(0,K.yP)(e,C,null===E||void 0===E||null===(n=E.kind)||void 0===n?void 0:n.rootcause)}));j&&(a=N[0]);(0,I.useEffect)((function(){i((0,B.K8)(e.dataTreePath,{type:c,example:f,value:y}))}),[c,f,y]);return(0,ne.jsxs)(se,{className:"t--CodeEditor-evaluatedValue evaluated-value-popup",colorTheme:Z,onMouseEnter:P,onMouseLeave:w,children:[(null===e||void 0===e?void 0:e.entity)&&(null===(t=e.entity)||void 0===t?void 0:t.entityName)&&(0,ne.jsx)(ge,{children:null!==e&&void 0!==e&&e.evaluatedPopUpLabel?null===e||void 0===e?void 0:e.evaluatedPopUpLabel:null===e||void 0===e||null===(r=e.entity)||void 0===r?void 0:r.entityName}),j&&a&&(0,ne.jsxs)(ve,{children:[(0,ne.jsx)("span",{className:"t--evaluatedPopup-error",children:function(e){return e?e.message:'This value does not evaluate to type "'.concat(null===T||void 0===T?void 0:T.type,'".')}(a.errorMessage)}),k?(0,ne.jsxs)(he,{children:[(0,ne.jsx)(X.r,{onClick:function(){i((0,F.cJ)()),i((0,F.vz)(ee.QO.ERROR_TAB))},children:"See error (".concat((0,J.fQ)()," D)")}),(0,ne.jsx)(X.r,{target:"_self",to:k,children:"View source"})]}):(0,ne.jsx)(S.PC,{entity:e.entity,error:{type:a.errorType,message:a.errorMessage}})]}),e.expected&&e.expected.type!==z.Ww&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(me,{onClick:function(){return u(!c)},children:["Expected structure",(0,ne.jsx)(xe,{isOpen:c})]}),(0,ne.jsx)(M.UO,{isOpen:c,children:(0,ne.jsx)(pe,{addBorder:!0,colorTheme:e.theme,padded:!0,ref:o,children:e.expected.type})})]}),e.expected&&e.expected.type!==z.Ww&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(me,{onClick:function(){return m(!f)},children:["Expected structure - example",(0,ne.jsx)(xe,{isOpen:f})]}),(0,ne.jsx)(M.UO,{isOpen:f,children:(0,ne.jsx)(pe,{colorTheme:e.theme,ref:o,children:(0,ne.jsx)(Te,{evaluatedValue:e.expected.example,hideLabel:!0,theme:e.theme})})})]}),!e.hideEvaluatedValue&&(0,ne.jsx)(je,{evaluatedValue:e.evaluatedValue,openEvaluatedValue:y,preparedStatementViewer:e.preparedStatementViewer,setOpenEvaluatedValue:function(e){return b(e)},theme:e.theme})]})}n.ZP=function(e){var n=(0,I.useState)(!1),t=(0,h.Z)(n,2),r=t[0],a=t[1],o=(0,I.useState)(0),i=(0,h.Z)(o,2),l=i[0],s=i[1],d=(0,I.useState)(void 0),c=(0,h.Z)(d,2),u=c[0],p=c[1],v=(0,I.useState)(!1),f=(0,h.Z)(v,2),m=f[0],x=f[1],y=(0,I.useRef)(null),b=(0,I.useMemo)((function(){var n="left-start";if(!y.current)return[n,"0, 0"];if(e.popperPlacement)return[e.popperPlacement,"0, 0"];var t=y.current.getBoundingClientRect(),r=t.left,a=t.right,o=window.innerWidth/2;return[n,r<o?a<o||a<o+o/2?"0, 5":"0, -290":"0, 15"]}),[y.current,e.popperPlacement]),N=(0,h.Z)(b,2),T=N[0],j=N[1];return(0,ne.jsxs)(re,{ref:y,children:[(0,ne.jsx)(C.Z,{customParent:document.body,editorRef:null===e||void 0===e?void 0:e.editorRef,isDraggable:!0,isDragging:m,isOpen:e.isOpen||r||m,modifiers:(0,g.Z)((0,g.Z)({},te),{},{offset:{enabled:!0,offset:j}}),placement:T,position:u,setIsDragging:x,setPosition:p,targetNode:y.current||void 0,zIndex:e.popperZIndex||_.S9.evaluationPopper,children:(0,ne.jsx)(Ie,{dataTreePath:e.dataTreePath,editorRef:null===e||void 0===e?void 0:e.editorRef,entity:e.entity,errors:e.errors,evaluatedPopUpLabel:null===e||void 0===e?void 0:e.evaluatedPopUpLabel,evaluatedValue:e.evaluatedValue,expected:e.expected,hasError:e.hasError,hideEvaluatedValue:e.hideEvaluatedValue,onMouseEnter:function(){clearTimeout(l),a(!0)},onMouseLeave:function(){var e=setTimeout((function(){return a(!1)}),500);s(e)},preparedStatementViewer:!!e.evaluationSubstitutionType&&e.evaluationSubstitutionType===A.Iv.PARAMETER,theme:e.theme,useValidationMessage:e.useValidationMessage})}),e.children]})}},62709:function(e,n,t){t.d(n,{t:function(){return L},w:function(){return U}});var r=t(1413),a=t(45987),o=t(80802),i=t.n(o),l=t(93433),s=t(4942),d=t(50390),c=t(86599),u=t(30942),p=t(22182),v=t(80432),f=t(9010),m=t(54138),g=t(56626),h=t(14426),x=t(9137),y=t(77271),b=t(34925),N=t(26372),T=t(53454),j=t(26844),I=t(62559),P=function(e){return e.PLUS="PLUS",e.BINDING="BINDING",e.FUNCTION="FUNCTION",e.ASK_AI="ASK_AI",e.SHOW_MORE="SHOW_MORE",e}({}),w=[],Z=function(e){return"Load "+(e.length-5)+" more"};function C(e,n){return e.filter((function(e){return e.displayText&&e.displayText.toLowerCase().indexOf(n.toLowerCase())>-1}))}var E=function(e){return{text:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",displayText:e,className:"CodeMirror-command-header ".concat(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?"separator":""),data:{},isHeader:!0,shortcut:""}},k=function(e){var n=e.action,t=e.description,r=e.displayText,a=e.isBeta,o=e.shortcut;return{text:e.text,displayText:r,data:{},className:"CodeMirror-commands",shortcut:o,action:n,triggerCompletionsPostPick:e.triggerCompletionsPostPick,render:function(e,n,r){c.render((0,I.jsx)(A,{desc:t,icon:O[r.shortcut],isBeta:a,name:r.displayText}),e)}}},O=(0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},P.BINDING,(0,I.jsx)(m.J,{name:"binding-new",size:"md"})),P.PLUS,(0,I.jsx)(m.J,{className:"add-datasource-icon",name:"add-box-line",size:"md"})),P.FUNCTION,(0,I.jsx)(m.J,{className:"snippet-icon",name:"snippet",size:"md"})),P.ASK_AI,(0,I.jsx)(m.J,{className:"magic",name:"magic-line",size:"md"})),P.SHOW_MORE,(0,I.jsx)(m.J,{className:"show-more-icon",name:"more-horizontal-control",size:"md"}));function S(e){return(0,I.jsx)("div",{className:"command-container relative cursor-pointer w-full",onClick:function(n){!function(n){n.stopPropagation(),n.preventDefault();var t=C(e.suggestions,e.searchText),r=Z(t),a=w.findIndex((function(e){return e.displayText===r}));if(-1!==a){var o=C(e.suggestions.slice(5,e.suggestions.length),e.searchText).slice(0,e.suggestions.length);w.splice.apply(w,[a,1].concat((0,l.Z)(o)))}e.editor.showHint(L(w,e.editor,e.focusEditor,e.searchText))}(n)},children:(0,I.jsxs)("div",{className:"command flex w-full",children:[(0,I.jsx)("div",{className:"self-center shrink-0",children:e.icon}),(0,I.jsx)("div",{className:"flex grow",children:(0,I.jsx)("div",{className:"flex flex-col gap-1 grow w-full",children:(0,I.jsx)("div",{className:"whitespace-nowrap flex flex-row items-center gap-2 text-[color:var(--ads-v2\\-colors-content-label-default-fg)] relative",children:(0,I.jsx)("span",{className:"flex items-center overflow-hidden overflow-ellipsis slash-command-hint-text",children:e.name})})})})]})})}function A(e){var n=(0,d.useCallback)((function(n){n.stopPropagation(),e.url&&(N.Z.startTracking(N.W.OPEN_ACTION,{url:e.url}),T.C.push(e.url,{invokedBy:T.Z.SlashCommandHint}),y.ZP.logEvent("EDIT_ACTION_CLICK",e.eventParams||{}))}),[e.url,e.eventParams]);return(0,I.jsx)("div",{className:"command-container relative cursor-pointer w-full",children:(0,I.jsxs)("div",{className:"command flex w-full",children:[(0,I.jsx)("div",{className:"self-center shrink-0",children:e.icon}),(0,I.jsxs)("div",{className:"flex grow",children:[(0,I.jsxs)("div",{className:"flex flex-col gap-1 grow w-full",children:[(0,I.jsxs)("div",{className:"whitespace-nowrap flex flex-row items-center gap-2 text-[color:var(--ads-v2\\-colors-content-label-default-fg)] relative",children:[(0,I.jsx)("span",{className:"flex items-center overflow-hidden overflow-ellipsis slash-command-hint-text",children:e.name}),e.isBeta&&(0,I.jsx)(b.Z,{})]}),e.desc?(0,I.jsx)("div",{className:"command-desc",children:e.desc}):null]}),e.url?(0,I.jsx)(g.z,{className:"hidden group-hover:flex items-center self-center h-full px-2 text-xs !absolute command-suggestion-edit right-0 top-0",kind:"tertiary",onClick:n,size:"sm",children:(0,j.tnH)(j.dme)}):null]})]})})}var V=function(e,n,t,r,a,o){var i=r.aiContext,s=r.datasources,d=r.enableAIAssistance,m=r.executeCommand,g=r.pluginIdToPlugin;w.splice(0,w.length);var b=k({text:"{{}}",displayText:"Add a binding",shortcut:P.BINDING,triggerCompletionsPostPick:!0}),N=k({text:"",displayText:"New datasource",action:function(){m({actionType:u.vb.NEW_INTEGRATION,args:{}});var e=x.vN.CODE_EDITOR_SLASH_COMMAND;y.ZP.logEvent("NAVIGATE_TO_CREATE_NEW_DATASOURCE_PAGE",{entryPoint:e})},shortcut:P.PLUS}),j=e.map((function(e){var n=e.name;return{text:e.type===p.lU.ACTION?"{{".concat(n,".data}}"):e.type===p.lU.JSACTION?"{{".concat(n,".}}"):"{{".concat(n,"}}"),displayText:"".concat(n),className:"CodeMirror-commands group relative Codemirror-commands-apis",data:e,triggerCompletionsPostPick:e.type!==p.lU.ACTION,render:function(n,t,r){var a=null,o=r.data,i=g[o.pluginId||""];o.type===p.lU.JSACTION?a=(0,v.XS)(16,16):null!==i&&void 0!==i&&i.iconLocation&&(a=(0,I.jsx)(v.WG,{height:"16px",width:"16px",children:(0,I.jsx)("img",{src:(0,f.V)(i.iconLocation)})})),c.render((0,I.jsx)(A,{eventParams:{actionId:e.id,datasourceId:e.datasourceId||"",pluginName:e.pluginName||"",actionType:(null===i||void 0===i?void 0:i.type)===u.zV.DB?"Query":"API",isMock:!(null===e||void 0===e||!e.isMock),from:T.Z.SlashCommandHint},icon:a,name:r.displayText,url:e.url}),n)}}})),V=s.map((function(e){return{text:"",displayText:"".concat(e.name),className:"CodeMirror-commands",data:e,action:function(n){return m({actionType:u.vb.NEW_QUERY,args:{datasource:e},callback:n})},render:function(e,n,t){var r=t.data,a=(0,I.jsx)(v.WG,{height:"16px",width:"16px",children:(0,I.jsx)("img",{src:(0,f.V)(g[r.pluginId].iconLocation)})});c.render((0,I.jsx)(A,{icon:a,name:"New ".concat(t.displayText," query")}),e)}}})),M=[];if(d){var z=k({text:"",displayText:h.HC,shortcut:P.ASK_AI,triggerCompletionsPostPick:!0,isBeta:!0,action:function(){m({actionType:u.vb.ASK_AI,args:i})}});M.unshift(z)}n!==p.lU.JSACTION&&M.push(b);var D=C(M,t).slice(0,5);if(w.push.apply(w,(0,l.Z)(D)),n!==p.lU.JSACTION){var R=C(j,t),L=R.slice(0,5),U=function(e,n,t,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return{text:"",displayText:e,className:"CodeMirror-commands show-more-option",data:{},shortcut:P.SHOW_MORE,render:function(e,o,i){c.render((0,I.jsx)(S,{editor:n,focusEditor:t,icon:O[i.shortcut],name:i.displayText,searchText:a,suggestions:r}),e)}}}(Z(R),a,o,j,t);if(R.length&&(w.push(E("Bind data","",w.length>0)),w.push.apply(w,(0,l.Z)(L)),R.length>5&&w.push(U)),n===p.lU.WIDGET){var _=[];_.push.apply(_,(0,l.Z)(V));var H=C(_,t).slice(0,3);H.push.apply(H,(0,l.Z)(C([N],t))),H.length&&(w.push(E("Create a query","",w.length>0)),w.push.apply(w,(0,l.Z)(H)))}}return w},M=t(5886),z=t.n(M),D=t(64968),R=["data"],L=function(e,n,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l={data:{},text:"",shortcut:"",displayText:""},s=n.getCursor();return{hint:function(){var d,c={list:e,from:{ch:s.ch-o.length-1,line:s.line},to:n.getCursor(),selectedHint:null!==(d=e[0])&&void 0!==d&&d.isHeader?1:0};function u(e){l=e}return i().on(c,"pick",(function e(o){if(o.action&&"function"===typeof o.action){o.action((function(e){n.replaceRange(e,s)}))}o.text&&t(n.getCursor().line,2),o.triggerCompletionsPostPick&&i().signal(n,"postPick",o.displayText);try{var l=o.data,d=(0,a.Z)(o,R),p=l,v=p.name,f=p.type;y.ZP.logEvent("SLASH_COMMAND",(0,r.Z)((0,r.Z)({},d),{},{type:f,name:v}))}catch(m){z().debug(m,"Error logging slash command")}i().off(c,"pick",e),i().off(c,"select",u)})),i().on(c,"select",u),c},extraKeys:{Up:function(e,n){n.moveFocus(-1),!0===l.isHeader&&n.moveFocus(-1)},Down:function(e,n){n.moveFocus(1),!0===l.isHeader&&n.moveFocus(1)}},completeSingle:!1}},U=function(e,n){var t=Object.values(n||{});return{showHint:function(e,n,r){var a=r.datasources,o=r.enableAIAssistance,i=r.executeCommand,l=r.featureFlags,s=r.focusEditor,d=r.pluginIdToPlugin,c=r.recentEntities;e.closeHint();var u=n.entityType,v=n.propertyPath,f=n.widgetType,m=u||p.lU.ACTION,g=t.filter((function(e){return e.type!==m})),x=(0,D.Fw)(f,v),y=(0,D.N2)(e),b=e.getCursor(),N=e.getLine(b.line),T=N.lastIndexOf("/"),j=x||!y&&T>-1,I=N.substring(T+1);if(!j)return!1;var P=(0,h.Tz)({currentLineValue:N,cursorPosition:b,editor:e,slashIndex:T,entityType:u});if(!P)return!1;var w=V(g,m,I,{aiContext:P,datasources:a,executeCommand:i,pluginIdToPlugin:d,recentEntities:c,featureFlags:l,enableAIAssistance:o},e,s);return e.showHint(L(w,e,s,I)),!0},fireOnFocus:!0}}},43710:function(e,n,t){t.d(n,{PC:function(){return f},yw:function(){return g}});var r,a,o,i=t(30168),l=(t(50390),t(62608)),s=(t(32369),t(95765),t(92292),t(77271),t(69434)),d=t(6492),c=(t(47929),t(56626)),u=t(62559),p=(0,l.ZP)(c.z)(r||(r=(0,i.Z)(["\n  ",";\n  display: flex;\n  width: fit-content;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n"])),(0,s.z8)("btnSmall")),v=l.ZP.div(a||(a=(0,i.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  cursor: pointer;\n  margin-top: 6px;\n"])));function f(e){return(0,u.jsx)(v,{children:(0,u.jsx)(d.Z,{enableTooltip:!1,entity:e.entity,error:e.error,children:(0,u.jsx)(p,{endIcon:"down-arrow",kind:"error",size:"sm",children:"Debug"})})})}var m=(0,l.ZP)(c.z)(o||(o=(0,i.Z)(["\n  && {\n    width: fit-content;\n    margin-top: 4px;\n    text-transform: none;\n    ","\n  }\n"])),(0,s.z8)("p2"));function g(e){return(0,u.jsx)(m,{className:e.className,kind:"error",onClick:e.onClick,size:"sm",startIcon:"bug-line",children:"Debug"})}},89662:function(e,n,t){var r,a,o=t(1413),i=t(30168),l=t(54138),s=t(11096),d=t(50390),c=t(86599),u=t(72041),p=t(62608),v=t(24805),f=t(96587),m=t(62559),g=p.ZP.div(r||(r=(0,i.Z)(["\n  z-index: ",";\n  position: absolute;\n  border-radius: ",";\n  box-shadow: 0 6px 20px 0px rgba(0, 0, 0, 0.15);\n\n  &&&:hover .drag-handle-block {\n    display: flex;\n  }\n"])),(function(e){return e.zIndex}),(function(e){return e.borderRadius||"0"})),h=p.ZP.div(a||(a=(0,i.Z)(["\n  cursor: grab;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 43px;\n  height: 28px;\n  z-index: 3;\n  background-color: var(--ads-v2-color-bg);\n  border-radius: var(--ads-v2-border-radius);\n  position: relative;\n  top: -15px;\n  pointer-events: auto;\n\n  :hover {\n    background-color: var(--ads-v2-color-bg-subtle);\n  }\n"])));n.Z=function(e){var n=(0,d.useRef)(null),t=(0,d.useRef)((0,v.tQ)()).current,r=e.boundaryParent,a=void 0===r?"viewport":r,i=e.cypressSelectorDragHandle,x=e.disablePopperEvents,y=void 0!==x&&x,b=e.isDraggable,N=void 0!==b&&b,T=e.onPositionChange,j=void 0===T?function(t){var r,a,o,i,l,s,d,c,u;n.current&&e.setPosition&&(n.current.style.transform="unset",n.current.style.top=t.top+"px",n.current.style.left=t.left+"px",e.setPosition(t),null!==e&&void 0!==e&&e.editorRef&&null!==e&&void 0!==e&&null!==(r=e.editorRef)&&void 0!==r&&r.current&&null!==e&&void 0!==e&&null!==(a=e.editorRef)&&void 0!==a&&null!==(o=a.current)&&void 0!==o&&o.children[1]&&null!==e&&void 0!==e&&null!==(i=e.editorRef)&&void 0!==i&&null!==(l=i.current)&&void 0!==l&&null!==(s=l.children[1])&&void 0!==s&&s.CodeMirror&&(null===e||void 0===e||null===(d=e.editorRef)||void 0===d||null===(c=d.current)||void 0===c||null===(u=c.children[1])||void 0===u||u.CodeMirror.focus()))}:T,I=e.position,P=e.renderDragBlock,w=e.renderDragBlockPositions,Z=e.themeMode,C=void 0===Z?e.themeMode||u.hY.LIGHT:Z,E=(0,d.useMemo)((function(){return(0,u.ef)({},C)}),[C]),k=function(e){return(0,m.jsx)(h,{className:"drag-handle-block",onMouseEnter:function(n){n.stopPropagation(),null!==e&&void 0!==e&&e.dragFn&&e.dragFn(!0)},onMouseLeave:function(n){n.stopPropagation(),null!==e&&void 0!==e&&e.dragFn&&e.dragFn(!1)},children:(0,m.jsx)(l.J,{name:"drag-handle",size:"lg"})})};return(0,d.useEffect)((function(){var r,l=(null===e||void 0===e?void 0:e.customParent)||(null===e||void 0===e?void 0:e.targetNode)&&(null===(r=e.targetNode)||void 0===r?void 0:r.parentElement);if(l&&l.parentElement&&e.targetNode&&e.isOpen){var d=new s.Z(e.targetNode,n.current,(0,o.Z)((0,o.Z)({},N&&y?{}:{placement:e.placement}),{},{onCreate:function(e){var n=e.instance.popper;if(N&&I){var t=I||n.getBoundingClientRect();n.style.transform="unset",n.style.top=t.top+"px",n.style.left=t.left+"px"}},modifiers:(0,o.Z)({keepTogether:{enabled:!1},arrow:{enabled:!1},preventOverflow:{enabled:!0,boundariesElement:a}},e.modifiers)}));return N&&(y&&d.disableEventListeners(),(0,f.lJ)("".concat(t,"-popper"),d.popper,j,l,I,w,(function(){return P||(0,m.jsx)(p.f6,{theme:E,children:(0,m.jsx)(k,{dragFn:e.setIsDragging})})}),i)),function(){d.destroy()}}}),[e.targetNode,e.isOpen,JSON.stringify(e.modifiers),e.placement,y]),(0,c.createPortal)(e.isOpen&&(0,m.jsx)(g,{borderRadius:e.borderRadius,ref:n,style:e.style||{},zIndex:e.zIndex,children:e.children}),e.portalContainer?e.portalContainer:document.body)}},11298:function(e,n,t){t.d(n,{Kc:function(){return y},yP:function(){return b}});var r=t(1413),a=t(36571),o=t(22182),i=t(4885),l=t(11989),s=t(50864),d=t(81591),c=t(35900),u=t(26444),p=t(66913),v=function(e){return{name:e.name,id:e.id,type:e.type,isfunction:e.isfunction,children:e.children,key:e.key,url:e.url,navigable:!!e.url,pluginName:e.pluginName,datasourceId:e.datasourceId,isMock:e.isMock,actionType:e.actionType,pluginId:e.pluginId,widgetType:e.widgetType}},f=t(79530),m=t.n(f),g=t(13110),h=t(30942),x=(0,i.P1)(l.jp,l.Pu,(function(e,n){return{moduleInstances:e,moduleInstanceEntities:n}})),y=(0,i.P1)(l.Ei,l.uM,l.kA,s.fH,d.zj,p.v0,l.ft,x,(function(e,n){return n}),(function(e,n,t,a,i,l,s,d,p){t=t.filter((function(e){return e.config.pageId===i}));var f={};if(!l)return f;e.forEach((function(e){var t,r,a=n.find((function(n){return n.id===e.config.pluginId})),l=null===(t=e.config)||void 0===t||null===(r=t.datasource)||void 0===r?void 0:r.id,d=s.find((function(e){return e.id===l})),u=(0,c.ou)(e.config.pluginType);u&&(f[e.config.name]=v({id:e.config.id,name:e.config.name,type:o.lU.ACTION,url:u.getURL(i,e.config.id,e.config.pluginType,a),children:{},pluginName:null===a||void 0===a?void 0:a.name,pluginId:null===a||void 0===a?void 0:a.id,datasourceId:null===d||void 0===d?void 0:d.id,isMock:null===d||void 0===d?void 0:d.isMock,actionType:e.config.pluginType===h.zV.DB?"Query":"API"}))})),t.forEach((function(e){var n=function(e,n,t){var r=t[e.config.name],a=e.config.variables||[];if(r){var i=e.config.actions.map((function(t){return v({id:"".concat(e.config.name,".").concat(t.name),name:"".concat(e.config.name,".").concat(t.name),type:o.lU.JSACTION,isfunction:!0,url:(0,u.ik)({pageId:n,collectionId:e.config.id,functionName:t.name}),children:{},key:t.name})})),l=a.map((function(t){return v({id:"".concat(e.config.name,".").concat(t.name),name:"".concat(e.config.name,".").concat(t.name),type:o.lU.JSACTION,isfunction:!1,url:(0,u.ik)({pageId:n,collectionId:e.config.id,functionName:t.name}),children:{},key:t.name})}));return i=i.concat(l),{childNavData:m()(i,(function(e){return e.key}))}}}(e,i,l);f[e.config.name]=v({id:e.config.id,name:e.config.name,type:o.lU.JSACTION,url:(0,u.ik)({pageId:i,collectionId:e.config.id}),children:(null===n||void 0===n?void 0:n.childNavData)||{}})})),Object.values(a).forEach((function(e){var n=function(e,n,t,r){var a=t[e];if("FORM_WIDGET"===n){var i={};return a&&Object.keys(a.data||{}).forEach((function(n){var a=t[n].widgetId;i[n]=v({id:"".concat(e,".data.").concat(n),name:n,type:o.lU.WIDGET,url:(0,u.K3)({pageId:r,hash:a}),children:{}})})),{childNavData:{}}}}(e.widgetName,e.type,l,i);f[e.widgetName]=v({id:e.widgetId,name:e.widgetName,type:o.lU.WIDGET,url:(0,u.Pu)({pageId:i,selectedWidgets:[e.widgetId]}),children:(null===n||void 0===n?void 0:n.childNavData)||{},widgetType:e.type})}));var x={};return d.moduleInstances&&(d.moduleInstances,d.moduleInstanceEntities,x={}),p&&(0,g.ZI)(l[p])&&p in f?(0,r.Z)((0,r.Z)((0,r.Z)({},f),x),{},{this:f[p]}):(0,r.Z)((0,r.Z)({},f),x)})),b=(0,i.P1)([function(e,n){return y(e,n)},function(e,n,t){return t}],(function(e,n){if(n){var t=(0,g.zH)(n),r=t.entityName,o=t.propertyPath,i=e[r];if(i)switch(i.type){case a.dr:return i.children[o].url;case a.KW:return i.url;default:return}}}))}}]);
//# sourceMappingURL=5439.4c96c351.chunk.js.map